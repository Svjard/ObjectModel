/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 16);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (immutable) */ __webpack_exports__[\"c\"] = Model;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = initModel;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__helpers__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__definition__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__basic_model__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__object_model__ = __webpack_require__(5);\n\r\n\r\n\r\n\r\n\r\n\r\nfunction Model(def){\r\n\treturn __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"d\" /* isPlainObject */])(def) ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__object_model__[\"a\" /* default */])(def) : __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__basic_model__[\"a\" /* default */])(def)\r\n}\r\n\r\nObject.assign(Model.prototype, {\r\n\tname: \"Model\",\r\n\tassertions: [],\r\n\r\n\tconventionForConstant: key => key.toUpperCase() === key,\r\n\tconventionForPrivate: key => key[0] === \"_\",\r\n\r\n\ttoString(stack){\r\n\t\treturn __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"c\" /* parseDefinition */])(this.definition).map(d => __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"c\" /* toString */])(d, stack)).join(\" or \")\r\n\t},\r\n\r\n\tas(name){\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"g\" /* define */])(this, \"name\", name);\r\n\t\treturn this\r\n\t},\r\n\r\n\tdefaultTo(val){\r\n\t\tthis.default = val\r\n\t\treturn this\r\n\t},\r\n\r\n\t_validate(obj, path, errorStack, callStack){\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"a\" /* checkDefinition */])(obj, this.definition, path, errorStack, callStack)\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"b\" /* checkAssertions */])(obj, this, path, errorStack)\r\n\t},\r\n\r\n\tvalidate(obj, errorCollector){\r\n\t\tthis._validate(obj, null, this.errorStack, [])\r\n\t\tthis.unstackErrors(errorCollector)\r\n\t},\r\n\r\n\ttest(obj){\r\n\t\tlet failed,\r\n\t\t    initialErrorCollector = this.errorCollector\r\n\t\tthis.errorCollector = () => { failed = true }\r\n\t\tnew this(obj)\r\n\t\tthis.errorCollector = initialErrorCollector\r\n\t\treturn !failed\r\n\t},\r\n\r\n\t// throw all errors collected\r\n\tunstackErrors(errorCollector){\r\n\t\tif (!this.errorStack.length) return\r\n\t\tif (!errorCollector) errorCollector = this.errorCollector\r\n\t\tconst errors = this.errorStack.map(err => {\r\n\t\t\tif (!err.message) {\r\n\t\t\t\tconst def = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"e\" /* is */])(Array, err.expected) ? err.expected : [err.expected]\r\n\t\t\t\terr.message = (\"expecting \" + (err.path ? err.path + \" to be \" : \"\") + def.map(d => __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"c\" /* toString */])(d)).join(\" or \")\r\n\t\t\t\t+ \", got \" + (err.received != null ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"h\" /* bettertypeof */])(err.received) + \" \" : \"\") + __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"c\" /* toString */])(err.received))\r\n\t\t\t}\r\n\t\t\treturn err\r\n\t\t})\r\n\t\tthis.errorStack = []\r\n\t\terrorCollector.call(this, errors)\r\n\t},\r\n\r\n\terrorCollector(errors){\r\n\t\tlet e = new TypeError(errors.map(e => e.message).join('\\n'))\r\n\t\te.stack = e.stack.replace(/\\n.*object-model(.|\\n)*object-model.*/, \"\") // blackbox objectmodel in stacktrace\r\n\t\tthrow e\r\n\t},\r\n\r\n\textend(...newParts){\r\n\t\tlet def = this.definition;\r\n\t\tif(newParts.length > 0){\r\n\t\t\tdef = newParts\r\n\t\t\t\t.reduce((def, ext) => def.concat(ext), Array.isArray(def) ? def.slice() : [def]) // clone to lose ref\r\n\t\t\t\t.filter((value, index, self) => self.indexOf(value) === index) // remove duplicates\r\n\t\t}\r\n\r\n\t\tlet assertions = [...this.assertions]\r\n\t\tnewParts.forEach(part => {\r\n\t\t\tif(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"e\" /* is */])(__WEBPACK_IMPORTED_MODULE_2__basic_model__[\"a\" /* default */], part)) assertions = assertions.concat(part.assertions)\r\n\t\t})\r\n\r\n\t\tconst submodel = new this.constructor(def)\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"b\" /* setConstructorProto */])(submodel, this.prototype)\r\n\t\tsubmodel.assertions = assertions\r\n\t\tsubmodel.errorCollector = this.errorCollector\r\n\t\treturn submodel\r\n\t},\r\n\r\n\tassert(assertion, description = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"c\" /* toString */])(assertion)){\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"g\" /* define */])(assertion, \"description\", description);\r\n\t\tthis.assertions = this.assertions.concat(assertion)\r\n\t\treturn this\r\n\t}\r\n})\r\n\r\n\r\nfunction initModel(model, args, constructor){\r\n\tif(args.length === 0) throw new Error(\"Model definition is required\");\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"a\" /* setConstructor */])(model, constructor)\r\n\tmodel.definition = args[0]\r\n\tmodel.assertions = model.assertions.slice()\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"g\" /* define */])(model, \"errorStack\", [])\r\n\tdelete model.name;\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (Model);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9tb2RlbC5qcz85NGVjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7YmV0dGVydHlwZW9mLCBkZWZpbmUsIGlzLCBpc1BsYWluT2JqZWN0LCBzZXRDb25zdHJ1Y3Rvciwgc2V0Q29uc3RydWN0b3JQcm90bywgdG9TdHJpbmd9IGZyb20gXCIuL2hlbHBlcnNcIlxyXG5pbXBvcnQge2NoZWNrQXNzZXJ0aW9ucywgY2hlY2tEZWZpbml0aW9uLCBwYXJzZURlZmluaXRpb259IGZyb20gXCIuL2RlZmluaXRpb25cIlxyXG5pbXBvcnQgQmFzaWNNb2RlbCBmcm9tIFwiLi9iYXNpYy1tb2RlbFwiXHJcbmltcG9ydCBPYmplY3RNb2RlbCBmcm9tIFwiLi9vYmplY3QtbW9kZWxcIlxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBNb2RlbChkZWYpe1xyXG5cdHJldHVybiBpc1BsYWluT2JqZWN0KGRlZikgPyBPYmplY3RNb2RlbChkZWYpIDogQmFzaWNNb2RlbChkZWYpXHJcbn1cclxuXHJcbk9iamVjdC5hc3NpZ24oTW9kZWwucHJvdG90eXBlLCB7XHJcblx0bmFtZTogXCJNb2RlbFwiLFxyXG5cdGFzc2VydGlvbnM6IFtdLFxyXG5cclxuXHRjb252ZW50aW9uRm9yQ29uc3RhbnQ6IGtleSA9PiBrZXkudG9VcHBlckNhc2UoKSA9PT0ga2V5LFxyXG5cdGNvbnZlbnRpb25Gb3JQcml2YXRlOiBrZXkgPT4ga2V5WzBdID09PSBcIl9cIixcclxuXHJcblx0dG9TdHJpbmcoc3RhY2spe1xyXG5cdFx0cmV0dXJuIHBhcnNlRGVmaW5pdGlvbih0aGlzLmRlZmluaXRpb24pLm1hcChkID0+IHRvU3RyaW5nKGQsIHN0YWNrKSkuam9pbihcIiBvciBcIilcclxuXHR9LFxyXG5cclxuXHRhcyhuYW1lKXtcclxuXHRcdGRlZmluZSh0aGlzLCBcIm5hbWVcIiwgbmFtZSk7XHJcblx0XHRyZXR1cm4gdGhpc1xyXG5cdH0sXHJcblxyXG5cdGRlZmF1bHRUbyh2YWwpe1xyXG5cdFx0dGhpcy5kZWZhdWx0ID0gdmFsXHJcblx0XHRyZXR1cm4gdGhpc1xyXG5cdH0sXHJcblxyXG5cdF92YWxpZGF0ZShvYmosIHBhdGgsIGVycm9yU3RhY2ssIGNhbGxTdGFjayl7XHJcblx0XHRjaGVja0RlZmluaXRpb24ob2JqLCB0aGlzLmRlZmluaXRpb24sIHBhdGgsIGVycm9yU3RhY2ssIGNhbGxTdGFjaylcclxuXHRcdGNoZWNrQXNzZXJ0aW9ucyhvYmosIHRoaXMsIHBhdGgsIGVycm9yU3RhY2spXHJcblx0fSxcclxuXHJcblx0dmFsaWRhdGUob2JqLCBlcnJvckNvbGxlY3Rvcil7XHJcblx0XHR0aGlzLl92YWxpZGF0ZShvYmosIG51bGwsIHRoaXMuZXJyb3JTdGFjaywgW10pXHJcblx0XHR0aGlzLnVuc3RhY2tFcnJvcnMoZXJyb3JDb2xsZWN0b3IpXHJcblx0fSxcclxuXHJcblx0dGVzdChvYmope1xyXG5cdFx0bGV0IGZhaWxlZCxcclxuXHRcdCAgICBpbml0aWFsRXJyb3JDb2xsZWN0b3IgPSB0aGlzLmVycm9yQ29sbGVjdG9yXHJcblx0XHR0aGlzLmVycm9yQ29sbGVjdG9yID0gKCkgPT4geyBmYWlsZWQgPSB0cnVlIH1cclxuXHRcdG5ldyB0aGlzKG9iailcclxuXHRcdHRoaXMuZXJyb3JDb2xsZWN0b3IgPSBpbml0aWFsRXJyb3JDb2xsZWN0b3JcclxuXHRcdHJldHVybiAhZmFpbGVkXHJcblx0fSxcclxuXHJcblx0Ly8gdGhyb3cgYWxsIGVycm9ycyBjb2xsZWN0ZWRcclxuXHR1bnN0YWNrRXJyb3JzKGVycm9yQ29sbGVjdG9yKXtcclxuXHRcdGlmICghdGhpcy5lcnJvclN0YWNrLmxlbmd0aCkgcmV0dXJuXHJcblx0XHRpZiAoIWVycm9yQ29sbGVjdG9yKSBlcnJvckNvbGxlY3RvciA9IHRoaXMuZXJyb3JDb2xsZWN0b3JcclxuXHRcdGNvbnN0IGVycm9ycyA9IHRoaXMuZXJyb3JTdGFjay5tYXAoZXJyID0+IHtcclxuXHRcdFx0aWYgKCFlcnIubWVzc2FnZSkge1xyXG5cdFx0XHRcdGNvbnN0IGRlZiA9IGlzKEFycmF5LCBlcnIuZXhwZWN0ZWQpID8gZXJyLmV4cGVjdGVkIDogW2Vyci5leHBlY3RlZF1cclxuXHRcdFx0XHRlcnIubWVzc2FnZSA9IChcImV4cGVjdGluZyBcIiArIChlcnIucGF0aCA/IGVyci5wYXRoICsgXCIgdG8gYmUgXCIgOiBcIlwiKSArIGRlZi5tYXAoZCA9PiB0b1N0cmluZyhkKSkuam9pbihcIiBvciBcIilcclxuXHRcdFx0XHQrIFwiLCBnb3QgXCIgKyAoZXJyLnJlY2VpdmVkICE9IG51bGwgPyBiZXR0ZXJ0eXBlb2YoZXJyLnJlY2VpdmVkKSArIFwiIFwiIDogXCJcIikgKyB0b1N0cmluZyhlcnIucmVjZWl2ZWQpKVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBlcnJcclxuXHRcdH0pXHJcblx0XHR0aGlzLmVycm9yU3RhY2sgPSBbXVxyXG5cdFx0ZXJyb3JDb2xsZWN0b3IuY2FsbCh0aGlzLCBlcnJvcnMpXHJcblx0fSxcclxuXHJcblx0ZXJyb3JDb2xsZWN0b3IoZXJyb3JzKXtcclxuXHRcdGxldCBlID0gbmV3IFR5cGVFcnJvcihlcnJvcnMubWFwKGUgPT4gZS5tZXNzYWdlKS5qb2luKCdcXG4nKSlcclxuXHRcdGUuc3RhY2sgPSBlLnN0YWNrLnJlcGxhY2UoL1xcbi4qb2JqZWN0LW1vZGVsKC58XFxuKSpvYmplY3QtbW9kZWwuKi8sIFwiXCIpIC8vIGJsYWNrYm94IG9iamVjdG1vZGVsIGluIHN0YWNrdHJhY2VcclxuXHRcdHRocm93IGVcclxuXHR9LFxyXG5cclxuXHRleHRlbmQoLi4ubmV3UGFydHMpe1xyXG5cdFx0bGV0IGRlZiA9IHRoaXMuZGVmaW5pdGlvbjtcclxuXHRcdGlmKG5ld1BhcnRzLmxlbmd0aCA+IDApe1xyXG5cdFx0XHRkZWYgPSBuZXdQYXJ0c1xyXG5cdFx0XHRcdC5yZWR1Y2UoKGRlZiwgZXh0KSA9PiBkZWYuY29uY2F0KGV4dCksIEFycmF5LmlzQXJyYXkoZGVmKSA/IGRlZi5zbGljZSgpIDogW2RlZl0pIC8vIGNsb25lIHRvIGxvc2UgcmVmXHJcblx0XHRcdFx0LmZpbHRlcigodmFsdWUsIGluZGV4LCBzZWxmKSA9PiBzZWxmLmluZGV4T2YodmFsdWUpID09PSBpbmRleCkgLy8gcmVtb3ZlIGR1cGxpY2F0ZXNcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgYXNzZXJ0aW9ucyA9IFsuLi50aGlzLmFzc2VydGlvbnNdXHJcblx0XHRuZXdQYXJ0cy5mb3JFYWNoKHBhcnQgPT4ge1xyXG5cdFx0XHRpZihpcyhCYXNpY01vZGVsLCBwYXJ0KSkgYXNzZXJ0aW9ucyA9IGFzc2VydGlvbnMuY29uY2F0KHBhcnQuYXNzZXJ0aW9ucylcclxuXHRcdH0pXHJcblxyXG5cdFx0Y29uc3Qgc3VibW9kZWwgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihkZWYpXHJcblx0XHRzZXRDb25zdHJ1Y3RvclByb3RvKHN1Ym1vZGVsLCB0aGlzLnByb3RvdHlwZSlcclxuXHRcdHN1Ym1vZGVsLmFzc2VydGlvbnMgPSBhc3NlcnRpb25zXHJcblx0XHRzdWJtb2RlbC5lcnJvckNvbGxlY3RvciA9IHRoaXMuZXJyb3JDb2xsZWN0b3JcclxuXHRcdHJldHVybiBzdWJtb2RlbFxyXG5cdH0sXHJcblxyXG5cdGFzc2VydChhc3NlcnRpb24sIGRlc2NyaXB0aW9uID0gdG9TdHJpbmcoYXNzZXJ0aW9uKSl7XHJcblx0XHRkZWZpbmUoYXNzZXJ0aW9uLCBcImRlc2NyaXB0aW9uXCIsIGRlc2NyaXB0aW9uKTtcclxuXHRcdHRoaXMuYXNzZXJ0aW9ucyA9IHRoaXMuYXNzZXJ0aW9ucy5jb25jYXQoYXNzZXJ0aW9uKVxyXG5cdFx0cmV0dXJuIHRoaXNcclxuXHR9XHJcbn0pXHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRNb2RlbChtb2RlbCwgYXJncywgY29uc3RydWN0b3Ipe1xyXG5cdGlmKGFyZ3MubGVuZ3RoID09PSAwKSB0aHJvdyBuZXcgRXJyb3IoXCJNb2RlbCBkZWZpbml0aW9uIGlzIHJlcXVpcmVkXCIpO1xyXG5cdHNldENvbnN0cnVjdG9yKG1vZGVsLCBjb25zdHJ1Y3RvcilcclxuXHRtb2RlbC5kZWZpbml0aW9uID0gYXJnc1swXVxyXG5cdG1vZGVsLmFzc2VydGlvbnMgPSBtb2RlbC5hc3NlcnRpb25zLnNsaWNlKClcclxuXHRkZWZpbmUobW9kZWwsIFwiZXJyb3JTdGFja1wiLCBbXSlcclxuXHRkZWxldGUgbW9kZWwubmFtZTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTW9kZWw7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvbW9kZWwuanNcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 1 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (immutable) */ __webpack_exports__[\"e\"] = is;\n/* harmony export (immutable) */ __webpack_exports__[\"f\"] = isFunction;\n/* harmony export (immutable) */ __webpack_exports__[\"j\"] = isObject;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = isPlainObject;\n/* harmony export (immutable) */ __webpack_exports__[\"h\"] = bettertypeof;\n/* harmony export (immutable) */ __webpack_exports__[\"i\"] = merge;\n/* harmony export (immutable) */ __webpack_exports__[\"g\"] = define;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = setConstructor;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = setConstructorProto;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = toString;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__model__ = __webpack_require__(0);\n\r\n\r\nconst defineProperty = Object.defineProperty\r\n\r\nfunction is(Constructor, obj){\r\n\treturn obj instanceof Constructor\r\n}\r\n\r\nfunction isFunction(o){\r\n\treturn typeof o === \"function\"\r\n}\r\n\r\nfunction isObject(o){\r\n    return typeof o === \"object\"\r\n}\r\n\r\nfunction isPlainObject(o){\r\n\treturn o && isObject(o) && Object.getPrototypeOf(o) === Object.prototype\r\n}\r\n\r\nfunction bettertypeof(x){\r\n\treturn ({}).toString.call(x).match(/\\s([a-zA-Z]+)/)[1]\r\n}\r\n\r\nfunction merge(target, src={}, deep, includingProto) {\r\n\tfor(let key in src){\r\n\t\tif(includingProto || src.hasOwnProperty(key)){\r\n\t\t\tif(deep && isPlainObject(src[key])){\r\n\t\t\t\tconst o = {}\r\n\t\t\t\tmerge(o, target[key], deep)\r\n\t\t\t\tmerge(o, src[key], deep)\r\n\t\t\t\ttarget[key] = o\r\n\t\t\t} else {\r\n\t\t\t\ttarget[key] = src[key]\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction define(obj, key, value, enumerable=false) {\r\n\tdefineProperty(obj, key, { value, enumerable, writable: true, configurable: true })\r\n}\r\n\r\nfunction setConstructor(model, constructor){\r\n\tObject.setPrototypeOf(model, constructor.prototype)\r\n\tdefine(model, \"constructor\", constructor)\r\n}\r\n\r\nfunction setConstructorProto(constructor, proto){\r\n\tconstructor.prototype = Object.create(proto)\r\n\tconstructor.prototype.constructor = constructor\r\n}\r\n\r\nfunction toString(obj, stack = []){\r\n\tif(stack.length > 15 || stack.includes(obj)) return '...'\r\n\tif(obj === null || obj === undefined) return String(obj)\r\n\tif(typeof obj === \"string\") return `\"${obj}\"`\r\n\tif(is(__WEBPACK_IMPORTED_MODULE_0__model__[\"a\" /* default */], obj)) return obj.toString(stack)\r\n\tstack = [obj].concat(stack)\r\n\tif(isFunction(obj)) return obj.name || obj.toString(stack)\r\n\tif(is(Array, obj)) return `[${obj.map(item => toString(item, stack)).join(', ')}]`\r\n\tif(obj.toString !== Object.prototype.toString) return obj.toString()\r\n\tif(obj && isObject(obj)) {\r\n\t\tconst props = Object.keys(obj),\r\n\t\t\t  indent = '\\t'.repeat(stack.length)\r\n\t\treturn `{${props.map(\r\n\t\t\tkey => `\\n${indent+key}: ${toString(obj[key], stack)}`\r\n\t\t).join(',')} ${props.length ? `\\n${indent.slice(1)}` : ''}}`\r\n\t}\r\n\treturn String(obj)\r\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9oZWxwZXJzLmpzPzcxN2QiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE1vZGVsIGZyb20gXCIuL21vZGVsXCJcclxuXHJcbmNvbnN0IGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXMoQ29uc3RydWN0b3IsIG9iail7XHJcblx0cmV0dXJuIG9iaiBpbnN0YW5jZW9mIENvbnN0cnVjdG9yXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKG8pe1xyXG5cdHJldHVybiB0eXBlb2YgbyA9PT0gXCJmdW5jdGlvblwiXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdChvKXtcclxuICAgIHJldHVybiB0eXBlb2YgbyA9PT0gXCJvYmplY3RcIlxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFpbk9iamVjdChvKXtcclxuXHRyZXR1cm4gbyAmJiBpc09iamVjdChvKSAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YobykgPT09IE9iamVjdC5wcm90b3R5cGVcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGJldHRlcnR5cGVvZih4KXtcclxuXHRyZXR1cm4gKHt9KS50b1N0cmluZy5jYWxsKHgpLm1hdGNoKC9cXHMoW2EtekEtWl0rKS8pWzFdXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtZXJnZSh0YXJnZXQsIHNyYz17fSwgZGVlcCwgaW5jbHVkaW5nUHJvdG8pIHtcclxuXHRmb3IobGV0IGtleSBpbiBzcmMpe1xyXG5cdFx0aWYoaW5jbHVkaW5nUHJvdG8gfHwgc3JjLmhhc093blByb3BlcnR5KGtleSkpe1xyXG5cdFx0XHRpZihkZWVwICYmIGlzUGxhaW5PYmplY3Qoc3JjW2tleV0pKXtcclxuXHRcdFx0XHRjb25zdCBvID0ge31cclxuXHRcdFx0XHRtZXJnZShvLCB0YXJnZXRba2V5XSwgZGVlcClcclxuXHRcdFx0XHRtZXJnZShvLCBzcmNba2V5XSwgZGVlcClcclxuXHRcdFx0XHR0YXJnZXRba2V5XSA9IG9cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0YXJnZXRba2V5XSA9IHNyY1trZXldXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmUob2JqLCBrZXksIHZhbHVlLCBlbnVtZXJhYmxlPWZhbHNlKSB7XHJcblx0ZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWUsIGVudW1lcmFibGUsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSlcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldENvbnN0cnVjdG9yKG1vZGVsLCBjb25zdHJ1Y3Rvcil7XHJcblx0T2JqZWN0LnNldFByb3RvdHlwZU9mKG1vZGVsLCBjb25zdHJ1Y3Rvci5wcm90b3R5cGUpXHJcblx0ZGVmaW5lKG1vZGVsLCBcImNvbnN0cnVjdG9yXCIsIGNvbnN0cnVjdG9yKVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0Q29uc3RydWN0b3JQcm90byhjb25zdHJ1Y3RvciwgcHJvdG8pe1xyXG5cdGNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUocHJvdG8pXHJcblx0Y29uc3RydWN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY29uc3RydWN0b3JcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRvU3RyaW5nKG9iaiwgc3RhY2sgPSBbXSl7XHJcblx0aWYoc3RhY2subGVuZ3RoID4gMTUgfHwgc3RhY2suaW5jbHVkZXMob2JqKSkgcmV0dXJuICcuLi4nXHJcblx0aWYob2JqID09PSBudWxsIHx8IG9iaiA9PT0gdW5kZWZpbmVkKSByZXR1cm4gU3RyaW5nKG9iailcclxuXHRpZih0eXBlb2Ygb2JqID09PSBcInN0cmluZ1wiKSByZXR1cm4gYFwiJHtvYmp9XCJgXHJcblx0aWYoaXMoTW9kZWwsIG9iaikpIHJldHVybiBvYmoudG9TdHJpbmcoc3RhY2spXHJcblx0c3RhY2sgPSBbb2JqXS5jb25jYXQoc3RhY2spXHJcblx0aWYoaXNGdW5jdGlvbihvYmopKSByZXR1cm4gb2JqLm5hbWUgfHwgb2JqLnRvU3RyaW5nKHN0YWNrKVxyXG5cdGlmKGlzKEFycmF5LCBvYmopKSByZXR1cm4gYFske29iai5tYXAoaXRlbSA9PiB0b1N0cmluZyhpdGVtLCBzdGFjaykpLmpvaW4oJywgJyl9XWBcclxuXHRpZihvYmoudG9TdHJpbmcgIT09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcpIHJldHVybiBvYmoudG9TdHJpbmcoKVxyXG5cdGlmKG9iaiAmJiBpc09iamVjdChvYmopKSB7XHJcblx0XHRjb25zdCBwcm9wcyA9IE9iamVjdC5rZXlzKG9iaiksXHJcblx0XHRcdCAgaW5kZW50ID0gJ1xcdCcucmVwZWF0KHN0YWNrLmxlbmd0aClcclxuXHRcdHJldHVybiBgeyR7cHJvcHMubWFwKFxyXG5cdFx0XHRrZXkgPT4gYFxcbiR7aW5kZW50K2tleX06ICR7dG9TdHJpbmcob2JqW2tleV0sIHN0YWNrKX1gXHJcblx0XHQpLmpvaW4oJywnKX0gJHtwcm9wcy5sZW5ndGggPyBgXFxuJHtpbmRlbnQuc2xpY2UoMSl9YCA6ICcnfX1gXHJcblx0fVxyXG5cdHJldHVybiBTdHJpbmcob2JqKVxyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvaGVscGVycy5qc1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (immutable) */ __webpack_exports__[\"c\"] = parseDefinition;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = checkDefinition;\n/* unused harmony export checkDefinitionPart */\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = checkAssertions;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = cast;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__helpers__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__model__ = __webpack_require__(0);\n\r\n\r\n\r\nfunction parseDefinition(def){\r\n\tif(!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"d\" /* isPlainObject */])(def)){\r\n\t\tif(!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"e\" /* is */])(Array, def)) return [def]\r\n\t\tif(def.length === 1) return [...def, undefined, null]\r\n\t} else {\r\n\t\tfor(let key of Object.keys(def))\r\n\t\t\tdef[key] = parseDefinition(def[key])\r\n\t}\r\n\treturn def\r\n}\r\n\r\n\r\nfunction checkDefinition(obj, def, path, errorStack, callStack, shouldCast=false){\r\n\tconst indexFound = callStack.indexOf(def)\r\n\tif(indexFound !== -1 && callStack.indexOf(def, indexFound+1) !== -1)\r\n\t\treturn obj //if found twice in call stack, cycle detected, skip validation\r\n\r\n\tif(shouldCast)\r\n\t\tobj = cast(obj, def)\r\n\r\n\r\n\tif(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"e\" /* is */])(__WEBPACK_IMPORTED_MODULE_1__model__[\"c\" /* Model */], def)){\r\n\t\tdef._validate(obj, path, errorStack, callStack.concat(def))\r\n\t}\r\n\telse if(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"d\" /* isPlainObject */])(def)){\r\n\t\tObject.keys(def).forEach(key => {\r\n\t\t\tconst val = obj != null ? obj[key] : undefined\r\n\t\t\tcheckDefinition(val, def[key], path ? path + '.' + key : key, errorStack, callStack)\r\n\t\t})\r\n\t}\r\n\telse {\r\n\t\tconst pdef = parseDefinition(def)\r\n\t\tif(pdef.some(part => checkDefinitionPart(obj, part, path, callStack)))\r\n\t\t\treturn obj\r\n\r\n\t\terrorStack.push({\r\n\t\t\texpected: def,\r\n\t\t\treceived: obj,\r\n\t\t\tpath\r\n\t\t})\r\n\t}\r\n\r\n\treturn obj\r\n}\r\n\r\nfunction checkDefinitionPart(obj, def, path, callStack){\r\n\tif(obj == null) return obj === def\r\n\tif(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"d\" /* isPlainObject */])(def) || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"e\" /* is */])(__WEBPACK_IMPORTED_MODULE_1__model__[\"c\" /* Model */], def)){ // object or model as part of union type\r\n\t\tconst errorStack = []\r\n\t\tcheckDefinition(obj, def, path, errorStack, callStack)\r\n\t\treturn !errorStack.length\r\n\t}\r\n\tif(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"e\" /* is */])(RegExp, def)) return def.test(obj)\r\n\tif(def === Number || def === Date) return obj.constructor === def && !isNaN(obj)\r\n\treturn obj === def\r\n\t\t|| (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"f\" /* isFunction */])(def) && __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"e\" /* is */])(def, obj))\r\n\t\t|| obj.constructor === def\r\n}\r\n\r\n\r\nfunction checkAssertions(obj, model, path, errorStack = model.errorStack){\r\n\tfor(let assertion of model.assertions){\r\n\t\tlet result\r\n\t\ttry {\r\n\t\t\tresult = assertion.call(model, obj)\r\n\t\t} catch(err){\r\n\t\t\tresult = err\r\n\t\t}\r\n\t\tif(result !== true){\r\n\t\t\tconst onFail = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"f\" /* isFunction */])(assertion.description) ? assertion.description : (assertionResult, value) =>\r\n\t\t\t\t`assertion \"${assertion.description}\" returned ${__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"c\" /* toString */])(assertionResult)} for value ${__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"c\" /* toString */])(value)}`\r\n\t\t\terrorStack.push({\r\n\t\t\t\tmessage: onFail.call(model, result, obj),\r\n\t\t\t\texpected: assertion,\r\n\t\t\t\treceived: obj,\r\n\t\t\t\tpath\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction cast(obj, defNode=[]) {\r\n\tif(!obj || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"d\" /* isPlainObject */])(defNode) || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"e\" /* is */])(__WEBPACK_IMPORTED_MODULE_1__model__[\"c\" /* Model */], obj.constructor))\r\n\t\treturn obj // no value or not leaf or already a model instance\r\n\r\n\tconst def = parseDefinition(defNode),\r\n\t      suitableModels = []\r\n\r\n\tfor (let part of def) {\r\n\t\tif(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"e\" /* is */])(__WEBPACK_IMPORTED_MODULE_1__model__[\"c\" /* Model */], part) && part.test(obj))\r\n\t\t\tsuitableModels.push(part)\r\n\t}\r\n\r\n\tif (suitableModels.length === 1) {\r\n\t\t// automatically cast to suitable model when explicit\r\n\t\tconst model = suitableModels[0];\r\n\t\treturn __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"e\" /* is */])(__WEBPACK_IMPORTED_MODULE_1__model__[\"c\" /* Model */], model) ? model(obj) : new model(obj) // basic models should not be called with new\r\n\t}\r\n\r\n\tif (suitableModels.length > 1)\r\n\t\tconsole.warn(`Ambiguous model for value ${__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"c\" /* toString */])(obj)}, could be ${suitableModels.join(\" or \")}`)\r\n\r\n\treturn obj\r\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9kZWZpbml0aW9uLmpzP2UzMDgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtpcywgaXNQbGFpbk9iamVjdCwgaXNGdW5jdGlvbiwgdG9TdHJpbmd9IGZyb20gXCIuL2hlbHBlcnNcIlxyXG5pbXBvcnQge01vZGVsfSBmcm9tIFwiLi9tb2RlbFwiXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VEZWZpbml0aW9uKGRlZil7XHJcblx0aWYoIWlzUGxhaW5PYmplY3QoZGVmKSl7XHJcblx0XHRpZighaXMoQXJyYXksIGRlZikpIHJldHVybiBbZGVmXVxyXG5cdFx0aWYoZGVmLmxlbmd0aCA9PT0gMSkgcmV0dXJuIFsuLi5kZWYsIHVuZGVmaW5lZCwgbnVsbF1cclxuXHR9IGVsc2Uge1xyXG5cdFx0Zm9yKGxldCBrZXkgb2YgT2JqZWN0LmtleXMoZGVmKSlcclxuXHRcdFx0ZGVmW2tleV0gPSBwYXJzZURlZmluaXRpb24oZGVmW2tleV0pXHJcblx0fVxyXG5cdHJldHVybiBkZWZcclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjaGVja0RlZmluaXRpb24ob2JqLCBkZWYsIHBhdGgsIGVycm9yU3RhY2ssIGNhbGxTdGFjaywgc2hvdWxkQ2FzdD1mYWxzZSl7XHJcblx0Y29uc3QgaW5kZXhGb3VuZCA9IGNhbGxTdGFjay5pbmRleE9mKGRlZilcclxuXHRpZihpbmRleEZvdW5kICE9PSAtMSAmJiBjYWxsU3RhY2suaW5kZXhPZihkZWYsIGluZGV4Rm91bmQrMSkgIT09IC0xKVxyXG5cdFx0cmV0dXJuIG9iaiAvL2lmIGZvdW5kIHR3aWNlIGluIGNhbGwgc3RhY2ssIGN5Y2xlIGRldGVjdGVkLCBza2lwIHZhbGlkYXRpb25cclxuXHJcblx0aWYoc2hvdWxkQ2FzdClcclxuXHRcdG9iaiA9IGNhc3Qob2JqLCBkZWYpXHJcblxyXG5cclxuXHRpZihpcyhNb2RlbCwgZGVmKSl7XHJcblx0XHRkZWYuX3ZhbGlkYXRlKG9iaiwgcGF0aCwgZXJyb3JTdGFjaywgY2FsbFN0YWNrLmNvbmNhdChkZWYpKVxyXG5cdH1cclxuXHRlbHNlIGlmKGlzUGxhaW5PYmplY3QoZGVmKSl7XHJcblx0XHRPYmplY3Qua2V5cyhkZWYpLmZvckVhY2goa2V5ID0+IHtcclxuXHRcdFx0Y29uc3QgdmFsID0gb2JqICE9IG51bGwgPyBvYmpba2V5XSA6IHVuZGVmaW5lZFxyXG5cdFx0XHRjaGVja0RlZmluaXRpb24odmFsLCBkZWZba2V5XSwgcGF0aCA/IHBhdGggKyAnLicgKyBrZXkgOiBrZXksIGVycm9yU3RhY2ssIGNhbGxTdGFjaylcclxuXHRcdH0pXHJcblx0fVxyXG5cdGVsc2Uge1xyXG5cdFx0Y29uc3QgcGRlZiA9IHBhcnNlRGVmaW5pdGlvbihkZWYpXHJcblx0XHRpZihwZGVmLnNvbWUocGFydCA9PiBjaGVja0RlZmluaXRpb25QYXJ0KG9iaiwgcGFydCwgcGF0aCwgY2FsbFN0YWNrKSkpXHJcblx0XHRcdHJldHVybiBvYmpcclxuXHJcblx0XHRlcnJvclN0YWNrLnB1c2goe1xyXG5cdFx0XHRleHBlY3RlZDogZGVmLFxyXG5cdFx0XHRyZWNlaXZlZDogb2JqLFxyXG5cdFx0XHRwYXRoXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0cmV0dXJuIG9ialxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tEZWZpbml0aW9uUGFydChvYmosIGRlZiwgcGF0aCwgY2FsbFN0YWNrKXtcclxuXHRpZihvYmogPT0gbnVsbCkgcmV0dXJuIG9iaiA9PT0gZGVmXHJcblx0aWYoaXNQbGFpbk9iamVjdChkZWYpIHx8IGlzKE1vZGVsLCBkZWYpKXsgLy8gb2JqZWN0IG9yIG1vZGVsIGFzIHBhcnQgb2YgdW5pb24gdHlwZVxyXG5cdFx0Y29uc3QgZXJyb3JTdGFjayA9IFtdXHJcblx0XHRjaGVja0RlZmluaXRpb24ob2JqLCBkZWYsIHBhdGgsIGVycm9yU3RhY2ssIGNhbGxTdGFjaylcclxuXHRcdHJldHVybiAhZXJyb3JTdGFjay5sZW5ndGhcclxuXHR9XHJcblx0aWYoaXMoUmVnRXhwLCBkZWYpKSByZXR1cm4gZGVmLnRlc3Qob2JqKVxyXG5cdGlmKGRlZiA9PT0gTnVtYmVyIHx8IGRlZiA9PT0gRGF0ZSkgcmV0dXJuIG9iai5jb25zdHJ1Y3RvciA9PT0gZGVmICYmICFpc05hTihvYmopXHJcblx0cmV0dXJuIG9iaiA9PT0gZGVmXHJcblx0XHR8fCAoaXNGdW5jdGlvbihkZWYpICYmIGlzKGRlZiwgb2JqKSlcclxuXHRcdHx8IG9iai5jb25zdHJ1Y3RvciA9PT0gZGVmXHJcbn1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tBc3NlcnRpb25zKG9iaiwgbW9kZWwsIHBhdGgsIGVycm9yU3RhY2sgPSBtb2RlbC5lcnJvclN0YWNrKXtcclxuXHRmb3IobGV0IGFzc2VydGlvbiBvZiBtb2RlbC5hc3NlcnRpb25zKXtcclxuXHRcdGxldCByZXN1bHRcclxuXHRcdHRyeSB7XHJcblx0XHRcdHJlc3VsdCA9IGFzc2VydGlvbi5jYWxsKG1vZGVsLCBvYmopXHJcblx0XHR9IGNhdGNoKGVycil7XHJcblx0XHRcdHJlc3VsdCA9IGVyclxyXG5cdFx0fVxyXG5cdFx0aWYocmVzdWx0ICE9PSB0cnVlKXtcclxuXHRcdFx0Y29uc3Qgb25GYWlsID0gaXNGdW5jdGlvbihhc3NlcnRpb24uZGVzY3JpcHRpb24pID8gYXNzZXJ0aW9uLmRlc2NyaXB0aW9uIDogKGFzc2VydGlvblJlc3VsdCwgdmFsdWUpID0+XHJcblx0XHRcdFx0YGFzc2VydGlvbiBcIiR7YXNzZXJ0aW9uLmRlc2NyaXB0aW9ufVwiIHJldHVybmVkICR7dG9TdHJpbmcoYXNzZXJ0aW9uUmVzdWx0KX0gZm9yIHZhbHVlICR7dG9TdHJpbmcodmFsdWUpfWBcclxuXHRcdFx0ZXJyb3JTdGFjay5wdXNoKHtcclxuXHRcdFx0XHRtZXNzYWdlOiBvbkZhaWwuY2FsbChtb2RlbCwgcmVzdWx0LCBvYmopLFxyXG5cdFx0XHRcdGV4cGVjdGVkOiBhc3NlcnRpb24sXHJcblx0XHRcdFx0cmVjZWl2ZWQ6IG9iaixcclxuXHRcdFx0XHRwYXRoXHJcblx0XHRcdH0pXHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2FzdChvYmosIGRlZk5vZGU9W10pIHtcclxuXHRpZighb2JqIHx8IGlzUGxhaW5PYmplY3QoZGVmTm9kZSkgfHwgaXMoTW9kZWwsIG9iai5jb25zdHJ1Y3RvcikpXHJcblx0XHRyZXR1cm4gb2JqIC8vIG5vIHZhbHVlIG9yIG5vdCBsZWFmIG9yIGFscmVhZHkgYSBtb2RlbCBpbnN0YW5jZVxyXG5cclxuXHRjb25zdCBkZWYgPSBwYXJzZURlZmluaXRpb24oZGVmTm9kZSksXHJcblx0ICAgICAgc3VpdGFibGVNb2RlbHMgPSBbXVxyXG5cclxuXHRmb3IgKGxldCBwYXJ0IG9mIGRlZikge1xyXG5cdFx0aWYoaXMoTW9kZWwsIHBhcnQpICYmIHBhcnQudGVzdChvYmopKVxyXG5cdFx0XHRzdWl0YWJsZU1vZGVscy5wdXNoKHBhcnQpXHJcblx0fVxyXG5cclxuXHRpZiAoc3VpdGFibGVNb2RlbHMubGVuZ3RoID09PSAxKSB7XHJcblx0XHQvLyBhdXRvbWF0aWNhbGx5IGNhc3QgdG8gc3VpdGFibGUgbW9kZWwgd2hlbiBleHBsaWNpdFxyXG5cdFx0Y29uc3QgbW9kZWwgPSBzdWl0YWJsZU1vZGVsc1swXTtcclxuXHRcdHJldHVybiBpcyhNb2RlbCwgbW9kZWwpID8gbW9kZWwob2JqKSA6IG5ldyBtb2RlbChvYmopIC8vIGJhc2ljIG1vZGVscyBzaG91bGQgbm90IGJlIGNhbGxlZCB3aXRoIG5ld1xyXG5cdH1cclxuXHJcblx0aWYgKHN1aXRhYmxlTW9kZWxzLmxlbmd0aCA+IDEpXHJcblx0XHRjb25zb2xlLndhcm4oYEFtYmlndW91cyBtb2RlbCBmb3IgdmFsdWUgJHt0b1N0cmluZyhvYmopfSwgY291bGQgYmUgJHtzdWl0YWJsZU1vZGVscy5qb2luKFwiIG9yIFwiKX1gKVxyXG5cclxuXHRyZXR1cm4gb2JqXHJcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9kZWZpbml0aW9uLmpzXG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__model__ = __webpack_require__(0);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return __WEBPACK_IMPORTED_MODULE_0__model__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__basic_model__ = __webpack_require__(4);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return __WEBPACK_IMPORTED_MODULE_1__basic_model__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__object_model__ = __webpack_require__(5);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return __WEBPACK_IMPORTED_MODULE_2__object_model__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__array_model__ = __webpack_require__(11);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return __WEBPACK_IMPORTED_MODULE_3__array_model__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__function_model__ = __webpack_require__(12);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return __WEBPACK_IMPORTED_MODULE_4__function_model__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__map_model__ = __webpack_require__(13);\n/* unused harmony reexport MapModel */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__set_model__ = __webpack_require__(14);\n/* unused harmony reexport SetModel */\n\r\n\r\n\r\n\r\n\r\n\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9pbmRleC5qcz85NTUyIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IGRlZmF1bHQgYXMgTW9kZWwgfSBmcm9tIFwiLi9tb2RlbFwiXHJcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQmFzaWNNb2RlbCB9IGZyb20gXCIuL2Jhc2ljLW1vZGVsXCJcclxuZXhwb3J0IHsgZGVmYXVsdCBhcyBPYmplY3RNb2RlbCB9IGZyb20gXCIuL29iamVjdC1tb2RlbFwiXHJcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXJyYXlNb2RlbCB9IGZyb20gXCIuL2FycmF5LW1vZGVsXCJcclxuZXhwb3J0IHsgZGVmYXVsdCBhcyBGdW5jdGlvbk1vZGVsIH0gZnJvbSBcIi4vZnVuY3Rpb24tbW9kZWxcIlxyXG5leHBvcnQgeyBkZWZhdWx0IGFzIE1hcE1vZGVsIH0gZnJvbSBcIi4vbWFwLW1vZGVsXCJcclxuZXhwb3J0IHsgZGVmYXVsdCBhcyBTZXRNb2RlbCB9IGZyb20gXCIuL3NldC1tb2RlbFwiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (immutable) */ __webpack_exports__[\"a\"] = BasicModel;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__helpers__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__model__ = __webpack_require__(0);\n\r\n\r\n\r\nfunction BasicModel(def){\r\n\tconst model = function(val = model.default) {\r\n\t\tmodel.validate(val)\r\n\t\treturn val\r\n\t}\r\n\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__model__[\"b\" /* initModel */])(model, arguments, BasicModel)\r\n\treturn model\r\n}\r\n\r\n__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"b\" /* setConstructorProto */])(BasicModel, __WEBPACK_IMPORTED_MODULE_1__model__[\"c\" /* Model */].prototype)//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9iYXNpYy1tb2RlbC5qcz84Mjg5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7c2V0Q29uc3RydWN0b3JQcm90b30gZnJvbSBcIi4vaGVscGVyc1wiXHJcbmltcG9ydCB7aW5pdE1vZGVsLCBNb2RlbH0gZnJvbSBcIi4vbW9kZWxcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQmFzaWNNb2RlbChkZWYpe1xyXG5cdGNvbnN0IG1vZGVsID0gZnVuY3Rpb24odmFsID0gbW9kZWwuZGVmYXVsdCkge1xyXG5cdFx0bW9kZWwudmFsaWRhdGUodmFsKVxyXG5cdFx0cmV0dXJuIHZhbFxyXG5cdH1cclxuXHJcblx0aW5pdE1vZGVsKG1vZGVsLCBhcmd1bWVudHMsIEJhc2ljTW9kZWwpXHJcblx0cmV0dXJuIG1vZGVsXHJcbn1cclxuXHJcbnNldENvbnN0cnVjdG9yUHJvdG8oQmFzaWNNb2RlbCwgTW9kZWwucHJvdG90eXBlKVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2Jhc2ljLW1vZGVsLmpzXG4vLyBtb2R1bGUgaWQgPSA0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 5 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (immutable) */ __webpack_exports__[\"a\"] = ObjectModel;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__model__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__definition__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__helpers__ = __webpack_require__(1);\n\r\n\r\n\r\n\r\n\r\nfunction ObjectModel(def){\r\n\tconst model = function(obj = model.default) {\r\n\t\tif(!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"e\" /* is */])(model, this)) return new model(obj)\r\n\t\tif(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"e\" /* is */])(model, obj)) return obj\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"i\" /* merge */])(this, obj, true)\r\n\t\tif(model.hasOwnProperty(\"constructor\")){\r\n\t\t\tmodel.constructor.call(this, obj)\r\n\t\t}\r\n\t\tmodel.validate(this)\r\n\t\treturn getProxy(model, this, model.definition)\r\n\t}\r\n\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"b\" /* setConstructorProto */])(model, Object.prototype)\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__model__[\"b\" /* initModel */])(model, arguments, ObjectModel)\r\n\treturn model\r\n}\r\n\r\n__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"b\" /* setConstructorProto */])(ObjectModel, __WEBPACK_IMPORTED_MODULE_0__model__[\"c\" /* Model */].prototype)\r\n\r\nObject.assign(ObjectModel.prototype, {\r\n\r\n\tdefaults(p){\r\n\t\tObject.assign(this.prototype, p)\r\n\t\treturn this\r\n\t},\r\n\r\n\ttoString(stack){\r\n\t\treturn __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"c\" /* toString */])(this.definition, stack)\r\n\t},\r\n\r\n\textend(){\r\n\t\tconst def = {}\r\n\t\tconst proto = {}\r\n\t\tconst args = [...arguments]\r\n\r\n\t\tObject.assign(def, this.definition)\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"i\" /* merge */])(proto, this.prototype, false, true)\r\n\t\targs.forEach(arg => {\r\n\t\t\tif(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"e\" /* is */])(__WEBPACK_IMPORTED_MODULE_0__model__[\"c\" /* Model */], arg)) __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"i\" /* merge */])(def, arg.definition, true)\r\n\t\t\tif(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"f\" /* isFunction */])(arg)) __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"i\" /* merge */])(proto, arg.prototype, true, true)\r\n\t\t\tif(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"j\" /* isObject */])(arg)) __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"i\" /* merge */])(def, arg, true, true)\r\n\t\t})\r\n\t\tdelete proto.constructor;\r\n\r\n\t\tlet assertions = [...this.assertions]\r\n\t\targs.forEach(arg => {\r\n\t\t\tif(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"e\" /* is */])(__WEBPACK_IMPORTED_MODULE_0__model__[\"c\" /* Model */], arg)) assertions = assertions.concat(arg.assertions)\r\n\t\t})\r\n\r\n\t\tconst submodel = new this.constructor(def)\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"b\" /* setConstructorProto */])(submodel, this.prototype)\r\n\t\tObject.assign(submodel.prototype, proto)\r\n\t\tsubmodel.assertions = assertions\r\n\t\tsubmodel.errorCollector = this.errorCollector\r\n\t\treturn submodel\r\n\t},\r\n\r\n\t_validate(obj, path, errorStack, callStack){\r\n\t\tif(!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"j\" /* isObject */])(obj)){\r\n\t\t\terrorStack.push({\r\n\t\t\t\texpected: this,\r\n\t\t\t\treceived: obj,\r\n\t\t\t\tpath\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"a\" /* checkDefinition */])(obj, this.definition, path, errorStack, callStack)\r\n\t\t}\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"b\" /* checkAssertions */])(obj, this, path, errorStack)\r\n\t}\r\n})\r\n\r\nfunction getProxy(model, obj, def, path) {\r\n\tif(!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"d\" /* isPlainObject */])(def)) {\r\n\t\treturn __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"d\" /* cast */])(obj, def)\r\n\t}\r\n\r\n\treturn new Proxy(obj || {}, {\r\n\t\tgetPrototypeOf(){\r\n\t\t\tif (def === model.definition)\r\n\t\t\t\treturn model.prototype\r\n\r\n\t\t\treturn Object.prototype\r\n\t\t},\r\n\r\n\t\tget(o, key) {\r\n\t\t\tconst newPath = (path ? path + '.' + key : key),\r\n\t\t\t      defPart = def[key];\r\n\r\n\t\t\tif(key in def && model.conventionForPrivate(key)){\r\n\t\t\t\tmodel.errorStack.push({\r\n\t\t\t\t\tmessage: `cannot access to private property ${newPath}`\r\n\t\t\t\t})\r\n\t\t\t\tmodel.unstackErrors()\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tif(o[key] && o.hasOwnProperty(key) && !__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"d\" /* isPlainObject */])(defPart) && !__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"e\" /* is */])(__WEBPACK_IMPORTED_MODULE_0__model__[\"c\" /* Model */], o[key].constructor)){\r\n\t\t\t\to[key] = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"d\" /* cast */])(o[key], defPart) // cast nested models\r\n\t\t\t}\r\n\r\n\t\t\tif (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"f\" /* isFunction */])(o[key]) && o[key].bind) {\r\n\t\t\t\treturn o[key].bind(o); // auto-bind methods to original object, so they can access private props\r\n\t\t\t}\r\n\r\n\t\t\treturn getProxy(model, o[key], defPart, newPath)\r\n\t\t},\r\n\r\n\t\tset(o, key, val) {\r\n\t\t\treturn controlMutation(model, def, path, o, key, (newPath) => {\r\n\t\t\t\tReflect.set(o, key, getProxy(model, val, def[key], newPath))\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\tdeleteProperty(o, key) {\r\n\t\t\treturn controlMutation(model, def, path, o, key, () => Reflect.deleteProperty(o, key))\r\n\t\t},\r\n\r\n\t\tdefineProperty(o, key, args){\r\n\t\t\treturn controlMutation(model, def, path, o, key, () => Reflect.defineProperty(o, key, args))\r\n\t\t},\r\n\r\n\t\thas(o, key){\r\n\t\t\treturn Reflect.has(o, key) && Reflect.has(def, key) && !model.conventionForPrivate(key)\r\n\t\t},\r\n\r\n\t\townKeys(){\r\n\t\t\treturn Reflect.ownKeys(def).filter(key => !model.conventionForPrivate(key))\r\n\t\t},\r\n\r\n\t\tgetOwnPropertyDescriptor(o, key){\r\n\t\t\tlet descriptor;\r\n\t\t\tif(!model.conventionForPrivate(key)){\r\n\t\t\t\tdescriptor = Object.getOwnPropertyDescriptor(def, key);\r\n\t\t\t\tif(descriptor !== undefined) descriptor.value = o[key];\r\n\t\t\t}\r\n\r\n\t\t\treturn descriptor\r\n\t\t}\r\n\t})\r\n}\r\n\r\nfunction controlMutation(model, def, path, o, key, applyMutation){\r\n\tconst newPath = (path ? path + '.' + key : key),\r\n\t      isPrivate = model.conventionForPrivate(key),\r\n\t      isConstant = model.conventionForConstant(key),\r\n\t      isOwnProperty = o.hasOwnProperty(key),\r\n\t      initialPropDescriptor = isOwnProperty && Object.getOwnPropertyDescriptor(o, key)\r\n\r\n\tif(key in def && (isPrivate || (isConstant && o[key] !== undefined))){\r\n\t\tmodel.errorStack.push({\r\n\t\t\tmessage: `cannot modify ${isPrivate ? \"private\" : \"constant\"} ${key}`\r\n\t\t})\r\n\t}\r\n\r\n\tif(def.hasOwnProperty(key)){\r\n\t\tapplyMutation(newPath)\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"a\" /* checkDefinition */])(o[key], def[key], newPath, model.errorStack, [])\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"b\" /* checkAssertions */])(o, model, newPath)\r\n\t} else {\r\n\t\tmodel.errorStack.push({\r\n\t\t\tmessage: `cannot find property ${newPath} in the model definition`\r\n\t\t})\r\n\t}\r\n\r\n\tif(model.errorStack.length){\r\n\t\tif(isOwnProperty) Object.defineProperty(o, key, initialPropDescriptor)\r\n\t\telse delete o[key] // back to the initial property defined in prototype chain\r\n\r\n\t\tmodel.unstackErrors()\r\n\t\treturn false\r\n\t}\r\n\r\n\treturn true\r\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9vYmplY3QtbW9kZWwuanM/NDExYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb2RlbCwgaW5pdE1vZGVsIH0gZnJvbSBcIi4vbW9kZWxcIlxyXG5pbXBvcnQgeyBjYXN0LCBjaGVja0RlZmluaXRpb24sIGNoZWNrQXNzZXJ0aW9ucyB9IGZyb20gXCIuL2RlZmluaXRpb25cIlxyXG5pbXBvcnQgeyBpcywgaXNGdW5jdGlvbiwgaXNPYmplY3QsIGlzUGxhaW5PYmplY3QsIG1lcmdlLCBzZXRDb25zdHJ1Y3RvclByb3RvLCB0b1N0cmluZyB9IGZyb20gXCIuL2hlbHBlcnNcIlxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE9iamVjdE1vZGVsKGRlZil7XHJcblx0Y29uc3QgbW9kZWwgPSBmdW5jdGlvbihvYmogPSBtb2RlbC5kZWZhdWx0KSB7XHJcblx0XHRpZighaXMobW9kZWwsIHRoaXMpKSByZXR1cm4gbmV3IG1vZGVsKG9iailcclxuXHRcdGlmKGlzKG1vZGVsLCBvYmopKSByZXR1cm4gb2JqXHJcblx0XHRtZXJnZSh0aGlzLCBvYmosIHRydWUpXHJcblx0XHRpZihtb2RlbC5oYXNPd25Qcm9wZXJ0eShcImNvbnN0cnVjdG9yXCIpKXtcclxuXHRcdFx0bW9kZWwuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBvYmopXHJcblx0XHR9XHJcblx0XHRtb2RlbC52YWxpZGF0ZSh0aGlzKVxyXG5cdFx0cmV0dXJuIGdldFByb3h5KG1vZGVsLCB0aGlzLCBtb2RlbC5kZWZpbml0aW9uKVxyXG5cdH1cclxuXHJcblx0c2V0Q29uc3RydWN0b3JQcm90byhtb2RlbCwgT2JqZWN0LnByb3RvdHlwZSlcclxuXHRpbml0TW9kZWwobW9kZWwsIGFyZ3VtZW50cywgT2JqZWN0TW9kZWwpXHJcblx0cmV0dXJuIG1vZGVsXHJcbn1cclxuXHJcbnNldENvbnN0cnVjdG9yUHJvdG8oT2JqZWN0TW9kZWwsIE1vZGVsLnByb3RvdHlwZSlcclxuXHJcbk9iamVjdC5hc3NpZ24oT2JqZWN0TW9kZWwucHJvdG90eXBlLCB7XHJcblxyXG5cdGRlZmF1bHRzKHApe1xyXG5cdFx0T2JqZWN0LmFzc2lnbih0aGlzLnByb3RvdHlwZSwgcClcclxuXHRcdHJldHVybiB0aGlzXHJcblx0fSxcclxuXHJcblx0dG9TdHJpbmcoc3RhY2spe1xyXG5cdFx0cmV0dXJuIHRvU3RyaW5nKHRoaXMuZGVmaW5pdGlvbiwgc3RhY2spXHJcblx0fSxcclxuXHJcblx0ZXh0ZW5kKCl7XHJcblx0XHRjb25zdCBkZWYgPSB7fVxyXG5cdFx0Y29uc3QgcHJvdG8gPSB7fVxyXG5cdFx0Y29uc3QgYXJncyA9IFsuLi5hcmd1bWVudHNdXHJcblxyXG5cdFx0T2JqZWN0LmFzc2lnbihkZWYsIHRoaXMuZGVmaW5pdGlvbilcclxuXHRcdG1lcmdlKHByb3RvLCB0aGlzLnByb3RvdHlwZSwgZmFsc2UsIHRydWUpXHJcblx0XHRhcmdzLmZvckVhY2goYXJnID0+IHtcclxuXHRcdFx0aWYoaXMoTW9kZWwsIGFyZykpIG1lcmdlKGRlZiwgYXJnLmRlZmluaXRpb24sIHRydWUpXHJcblx0XHRcdGlmKGlzRnVuY3Rpb24oYXJnKSkgbWVyZ2UocHJvdG8sIGFyZy5wcm90b3R5cGUsIHRydWUsIHRydWUpXHJcblx0XHRcdGlmKGlzT2JqZWN0KGFyZykpIG1lcmdlKGRlZiwgYXJnLCB0cnVlLCB0cnVlKVxyXG5cdFx0fSlcclxuXHRcdGRlbGV0ZSBwcm90by5jb25zdHJ1Y3RvcjtcclxuXHJcblx0XHRsZXQgYXNzZXJ0aW9ucyA9IFsuLi50aGlzLmFzc2VydGlvbnNdXHJcblx0XHRhcmdzLmZvckVhY2goYXJnID0+IHtcclxuXHRcdFx0aWYoaXMoTW9kZWwsIGFyZykpIGFzc2VydGlvbnMgPSBhc3NlcnRpb25zLmNvbmNhdChhcmcuYXNzZXJ0aW9ucylcclxuXHRcdH0pXHJcblxyXG5cdFx0Y29uc3Qgc3VibW9kZWwgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihkZWYpXHJcblx0XHRzZXRDb25zdHJ1Y3RvclByb3RvKHN1Ym1vZGVsLCB0aGlzLnByb3RvdHlwZSlcclxuXHRcdE9iamVjdC5hc3NpZ24oc3VibW9kZWwucHJvdG90eXBlLCBwcm90bylcclxuXHRcdHN1Ym1vZGVsLmFzc2VydGlvbnMgPSBhc3NlcnRpb25zXHJcblx0XHRzdWJtb2RlbC5lcnJvckNvbGxlY3RvciA9IHRoaXMuZXJyb3JDb2xsZWN0b3JcclxuXHRcdHJldHVybiBzdWJtb2RlbFxyXG5cdH0sXHJcblxyXG5cdF92YWxpZGF0ZShvYmosIHBhdGgsIGVycm9yU3RhY2ssIGNhbGxTdGFjayl7XHJcblx0XHRpZighaXNPYmplY3Qob2JqKSl7XHJcblx0XHRcdGVycm9yU3RhY2sucHVzaCh7XHJcblx0XHRcdFx0ZXhwZWN0ZWQ6IHRoaXMsXHJcblx0XHRcdFx0cmVjZWl2ZWQ6IG9iaixcclxuXHRcdFx0XHRwYXRoXHJcblx0XHRcdH0pXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjaGVja0RlZmluaXRpb24ob2JqLCB0aGlzLmRlZmluaXRpb24sIHBhdGgsIGVycm9yU3RhY2ssIGNhbGxTdGFjaylcclxuXHRcdH1cclxuXHRcdGNoZWNrQXNzZXJ0aW9ucyhvYmosIHRoaXMsIHBhdGgsIGVycm9yU3RhY2spXHJcblx0fVxyXG59KVxyXG5cclxuZnVuY3Rpb24gZ2V0UHJveHkobW9kZWwsIG9iaiwgZGVmLCBwYXRoKSB7XHJcblx0aWYoIWlzUGxhaW5PYmplY3QoZGVmKSkge1xyXG5cdFx0cmV0dXJuIGNhc3Qob2JqLCBkZWYpXHJcblx0fVxyXG5cclxuXHRyZXR1cm4gbmV3IFByb3h5KG9iaiB8fCB7fSwge1xyXG5cdFx0Z2V0UHJvdG90eXBlT2YoKXtcclxuXHRcdFx0aWYgKGRlZiA9PT0gbW9kZWwuZGVmaW5pdGlvbilcclxuXHRcdFx0XHRyZXR1cm4gbW9kZWwucHJvdG90eXBlXHJcblxyXG5cdFx0XHRyZXR1cm4gT2JqZWN0LnByb3RvdHlwZVxyXG5cdFx0fSxcclxuXHJcblx0XHRnZXQobywga2V5KSB7XHJcblx0XHRcdGNvbnN0IG5ld1BhdGggPSAocGF0aCA/IHBhdGggKyAnLicgKyBrZXkgOiBrZXkpLFxyXG5cdFx0XHQgICAgICBkZWZQYXJ0ID0gZGVmW2tleV07XHJcblxyXG5cdFx0XHRpZihrZXkgaW4gZGVmICYmIG1vZGVsLmNvbnZlbnRpb25Gb3JQcml2YXRlKGtleSkpe1xyXG5cdFx0XHRcdG1vZGVsLmVycm9yU3RhY2sucHVzaCh7XHJcblx0XHRcdFx0XHRtZXNzYWdlOiBgY2Fubm90IGFjY2VzcyB0byBwcml2YXRlIHByb3BlcnR5ICR7bmV3UGF0aH1gXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHRtb2RlbC51bnN0YWNrRXJyb3JzKClcclxuXHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYob1trZXldICYmIG8uaGFzT3duUHJvcGVydHkoa2V5KSAmJiAhaXNQbGFpbk9iamVjdChkZWZQYXJ0KSAmJiAhaXMoTW9kZWwsIG9ba2V5XS5jb25zdHJ1Y3Rvcikpe1xyXG5cdFx0XHRcdG9ba2V5XSA9IGNhc3Qob1trZXldLCBkZWZQYXJ0KSAvLyBjYXN0IG5lc3RlZCBtb2RlbHNcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKGlzRnVuY3Rpb24ob1trZXldKSAmJiBvW2tleV0uYmluZCkge1xyXG5cdFx0XHRcdHJldHVybiBvW2tleV0uYmluZChvKTsgLy8gYXV0by1iaW5kIG1ldGhvZHMgdG8gb3JpZ2luYWwgb2JqZWN0LCBzbyB0aGV5IGNhbiBhY2Nlc3MgcHJpdmF0ZSBwcm9wc1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gZ2V0UHJveHkobW9kZWwsIG9ba2V5XSwgZGVmUGFydCwgbmV3UGF0aClcclxuXHRcdH0sXHJcblxyXG5cdFx0c2V0KG8sIGtleSwgdmFsKSB7XHJcblx0XHRcdHJldHVybiBjb250cm9sTXV0YXRpb24obW9kZWwsIGRlZiwgcGF0aCwgbywga2V5LCAobmV3UGF0aCkgPT4ge1xyXG5cdFx0XHRcdFJlZmxlY3Quc2V0KG8sIGtleSwgZ2V0UHJveHkobW9kZWwsIHZhbCwgZGVmW2tleV0sIG5ld1BhdGgpKVxyXG5cdFx0XHR9KVxyXG5cdFx0fSxcclxuXHJcblx0XHRkZWxldGVQcm9wZXJ0eShvLCBrZXkpIHtcclxuXHRcdFx0cmV0dXJuIGNvbnRyb2xNdXRhdGlvbihtb2RlbCwgZGVmLCBwYXRoLCBvLCBrZXksICgpID0+IFJlZmxlY3QuZGVsZXRlUHJvcGVydHkobywga2V5KSlcclxuXHRcdH0sXHJcblxyXG5cdFx0ZGVmaW5lUHJvcGVydHkobywga2V5LCBhcmdzKXtcclxuXHRcdFx0cmV0dXJuIGNvbnRyb2xNdXRhdGlvbihtb2RlbCwgZGVmLCBwYXRoLCBvLCBrZXksICgpID0+IFJlZmxlY3QuZGVmaW5lUHJvcGVydHkobywga2V5LCBhcmdzKSlcclxuXHRcdH0sXHJcblxyXG5cdFx0aGFzKG8sIGtleSl7XHJcblx0XHRcdHJldHVybiBSZWZsZWN0LmhhcyhvLCBrZXkpICYmIFJlZmxlY3QuaGFzKGRlZiwga2V5KSAmJiAhbW9kZWwuY29udmVudGlvbkZvclByaXZhdGUoa2V5KVxyXG5cdFx0fSxcclxuXHJcblx0XHRvd25LZXlzKCl7XHJcblx0XHRcdHJldHVybiBSZWZsZWN0Lm93bktleXMoZGVmKS5maWx0ZXIoa2V5ID0+ICFtb2RlbC5jb252ZW50aW9uRm9yUHJpdmF0ZShrZXkpKVxyXG5cdFx0fSxcclxuXHJcblx0XHRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobywga2V5KXtcclxuXHRcdFx0bGV0IGRlc2NyaXB0b3I7XHJcblx0XHRcdGlmKCFtb2RlbC5jb252ZW50aW9uRm9yUHJpdmF0ZShrZXkpKXtcclxuXHRcdFx0XHRkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWYsIGtleSk7XHJcblx0XHRcdFx0aWYoZGVzY3JpcHRvciAhPT0gdW5kZWZpbmVkKSBkZXNjcmlwdG9yLnZhbHVlID0gb1trZXldO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gZGVzY3JpcHRvclxyXG5cdFx0fVxyXG5cdH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbnRyb2xNdXRhdGlvbihtb2RlbCwgZGVmLCBwYXRoLCBvLCBrZXksIGFwcGx5TXV0YXRpb24pe1xyXG5cdGNvbnN0IG5ld1BhdGggPSAocGF0aCA/IHBhdGggKyAnLicgKyBrZXkgOiBrZXkpLFxyXG5cdCAgICAgIGlzUHJpdmF0ZSA9IG1vZGVsLmNvbnZlbnRpb25Gb3JQcml2YXRlKGtleSksXHJcblx0ICAgICAgaXNDb25zdGFudCA9IG1vZGVsLmNvbnZlbnRpb25Gb3JDb25zdGFudChrZXkpLFxyXG5cdCAgICAgIGlzT3duUHJvcGVydHkgPSBvLmhhc093blByb3BlcnR5KGtleSksXHJcblx0ICAgICAgaW5pdGlhbFByb3BEZXNjcmlwdG9yID0gaXNPd25Qcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8sIGtleSlcclxuXHJcblx0aWYoa2V5IGluIGRlZiAmJiAoaXNQcml2YXRlIHx8IChpc0NvbnN0YW50ICYmIG9ba2V5XSAhPT0gdW5kZWZpbmVkKSkpe1xyXG5cdFx0bW9kZWwuZXJyb3JTdGFjay5wdXNoKHtcclxuXHRcdFx0bWVzc2FnZTogYGNhbm5vdCBtb2RpZnkgJHtpc1ByaXZhdGUgPyBcInByaXZhdGVcIiA6IFwiY29uc3RhbnRcIn0gJHtrZXl9YFxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdGlmKGRlZi5oYXNPd25Qcm9wZXJ0eShrZXkpKXtcclxuXHRcdGFwcGx5TXV0YXRpb24obmV3UGF0aClcclxuXHRcdGNoZWNrRGVmaW5pdGlvbihvW2tleV0sIGRlZltrZXldLCBuZXdQYXRoLCBtb2RlbC5lcnJvclN0YWNrLCBbXSlcclxuXHRcdGNoZWNrQXNzZXJ0aW9ucyhvLCBtb2RlbCwgbmV3UGF0aClcclxuXHR9IGVsc2Uge1xyXG5cdFx0bW9kZWwuZXJyb3JTdGFjay5wdXNoKHtcclxuXHRcdFx0bWVzc2FnZTogYGNhbm5vdCBmaW5kIHByb3BlcnR5ICR7bmV3UGF0aH0gaW4gdGhlIG1vZGVsIGRlZmluaXRpb25gXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0aWYobW9kZWwuZXJyb3JTdGFjay5sZW5ndGgpe1xyXG5cdFx0aWYoaXNPd25Qcm9wZXJ0eSkgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGtleSwgaW5pdGlhbFByb3BEZXNjcmlwdG9yKVxyXG5cdFx0ZWxzZSBkZWxldGUgb1trZXldIC8vIGJhY2sgdG8gdGhlIGluaXRpYWwgcHJvcGVydHkgZGVmaW5lZCBpbiBwcm90b3R5cGUgY2hhaW5cclxuXHJcblx0XHRtb2RlbC51bnN0YWNrRXJyb3JzKClcclxuXHRcdHJldHVybiBmYWxzZVxyXG5cdH1cclxuXHJcblx0cmV0dXJuIHRydWVcclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL29iamVjdC1tb2RlbC5qc1xuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 6 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__src_index__ = __webpack_require__(3);\n\n\nQUnit.module(\"Array Models\");\n\nQUnit.test(\"Array model constructor && proto\", function (assert) {\n\n\tassert.ok(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */] instanceof Function, \"ArrayModel instanceof Function\");\n\n\tconst Arr = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])(Number);\n\n\tassert.ok(Arr instanceof __WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */], \"Array models can be declared\");\n\n\tassert.ok(typeof Arr.extend === \"function\", \"test Array model method extend\");\n\tassert.ok(typeof Arr.assert === \"function\", \"test Array model method assert\");\n\tassert.ok(typeof Arr.test === \"function\", \"test Array model method test\");\n\tassert.ok(typeof Arr.validate === \"function\", \"test Array model method validate\");\n\tassert.ok(Arr.definition === Number, \"test Array model prop definition\");\n\tassert.ok(typeof Arr.assertions === \"object\", \"test Array model prop assertions\");\n\n});\n\nQUnit.test(\"Array model instanciation && mutation methods watchers\", function (assert) {\n\n\tconst Arr = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])(Number);\n\tconst a   = Arr([]);\n\n\tassert.ok(a instanceof Arr && a instanceof Array, \"Array models can be instanciated\");\n\n\ta.push(1);\n\ta[0] = 42;\n\ta.splice(1, 0, 5, 6, Infinity);\n\tassert.throws(function () {\n\t\ta.push(\"toto\");\n\t}, /TypeError/, \"push calls are catched\");\n\tassert.throws(function () {\n\t\ta[0] = {};\n\t}, /TypeError/, \"array keys set are catched\");\n\tassert.throws(function () {\n\t\ta.splice(1, 0, 7, 'oups', 9);\n\t}, /TypeError/, \"splice calls are catched\");\n\tassert.equal(a.length, 4, \"array length change is ok\");\n\n});\n\nQUnit.test(\"Array model validation in constructor\", function (assert) {\n\n\tconst Arr = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])(Number);\n\tconst b   = Arr([1, 2, 3]);\n\tassert.equal(b.length, 3, \"array.length is ok\");\n\n\tassert.throws(function () {\n\t\tArr([1, false, 3]);\n\t}, /TypeError/, \"validation in array model constructor 1/2\");\n\n\tassert.throws(function () {\n\t\tArr([1, 2, 3, function () {\n\t\t}]);\n\t}, /TypeError/, \"validation in array model constructor 2/2\");\n\n});\n\nQUnit.test(\"Array model with union types & submodels\", function (assert) {\n\n\tconst Question = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\n\t\tanswer: Number\n\t});\n\n\tconst Arr = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])([Question, String, Boolean]);\n\tconst a   = Arr([\"test\"]);\n\ta.unshift(true);\n\ta.push(Question({answer: 42}));\n\ta.push({answer: 43});\n\tassert.throws(function () {\n\t\ta.unshift(42);\n\t}, /TypeError/, \"unshift multiple types\");\n\tassert.throws(function () {\n\t\ta[0] = null;\n\t}, /TypeError/, \"set index multiple types\");\n\n})\n\nQUnit.test(\"Array model with union types & fixed values\", function (assert) {\n\n\tconst Arr = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])([true, 2, \"3\"]);\n\tassert.throws(function () {\n\t\tArr([\"3\", 2, true, 1]);\n\t}, /TypeError[\\s\\S]*Array\\[3]/, \"ArrayModel fixed values\");\n\n\tconst Cards     = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])([Number, \"J\", \"Q\", \"K\"]); // array of Numbers, J, Q or K\n\tconst Hand      = Cards.extend().assert(cards => cards.length === 2);\n\tconst pokerHand = new Hand([\"K\", 10]);\n\n\tassert.ok(Object.getPrototypeOf(Hand.prototype) === Cards.prototype, \"extension respect prototypal chain\");\n\tassert.ok(pokerHand instanceof Hand && pokerHand instanceof Cards, \"array model inheritance\");\n\tCards([\"K\", 10]).push(7);\n\tassert.throws(function () {\n\t\tHand([\"K\", 10]).push(7);\n\t}, /TypeError/, \"min/max of inherit array model\");\n\n\tconst CheaterHand = Cards.extend(\"joker\");\n\tCheaterHand([\"K\", 10, \"joker\"]);\n\tassert.throws(function () {\n\t\tHand(\"K\", 10, \"joker\");\n\t}, /TypeError/, \"array model type extension\");\n\n})\n\nQUnit.test(\"Child array models in object models\", function (assert) {\n\n\tconst Child  = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({arr: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])(String)});\n\tconst Parent = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({child: Child});\n\n\tconst childO = Child({arr: [\"a\", \"b\", \"c\"]});\n\tassert.ok(childO.arr instanceof Array, \"child array model is array\");\n\tconst parentO = Parent({child: childO});\n\tassert.ok(parentO.child.arr instanceof Array, \"child array model from parent is array\");\n\n\tchildO.arr.push(\"a\");\n\tassert.throws(function () {\n\t\tchildO.arr.push(false);\n\t}, /TypeError/, \"child array model catches push calls\");\n\tassert.throws(function () {\n\t\tchildO.arr[0] = 1;\n\t}, /TypeError/, \"child array model catches set index\");\n\n\tassert.ok(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])(undefined) instanceof __WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */], \"ArrayModel can receive undefined as argument\");\n\tassert.throws(function () {\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])()\n\t}, /Error.*Model definition is required/, \"ArrayModel without definition throws\")\n\n});\n\nQUnit.test(\"Array model defaults values\", function (assert) {\n\n\tconst ArrModel = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])([Number, String]).defaultTo([]);\n\tconst a        = ArrModel();\n\n\tassert.ok(a instanceof Array && a.length === 0, \"Array model default value\");\n\n\tArrModel.default.push(1, 2, 3);\n\n\tconst b = ArrModel();\n\n\tassert.ok(b.length === 3 && b.join(\";\") == \"1;2;3\", \"array model default value is mutable array\");\n\n\tArrModel.default = \"nope\";\n\n\tassert.throws(function () {\n\t\tArrModel()\n\t}, /TypeError.*got String \"nope\"/, \"invalid default property still throws TypeError for array models\");\n\n})\n\nQUnit.test(\"Array model assertions\", function (assert) {\n\n\tconst ArrayMax3 = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])(Number).assert(function maxRange(arr){ return arr.length <= 3; });\n\tlet arr = ArrayMax3([1,2]);\n\n\tarr.push(3);\n\tassert.throws(function(){ arr.push(4); }, /TypeError[\\s\\S]*maxRange/, \"test assertion after array method\");\n\n\tconst ArraySumMax10 = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])(Number).assert(function(arr){\n\t\treturn arr.reduce(function(a,b){ return a+b; },0) <= 10;\n\t});\n\n\tarr = ArraySumMax10([2,3,4]);\n\tassert.throws(function(){ arr[1] = 7; }, /TypeError/, \"test assertion after array key assignment\");\n\n\tconst AssertArray = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])(Number).assert(v => v.length >= 0, \"may throw exception\");\n\n\tnew AssertArray([]);\n\n\tassert.throws(function(){ new AssertArray(); },\n\t\t/assertion \\\"may throw exception\\\" returned TypeError.*for value undefined/,\n\t\t\"assertions catch exceptions on Array models\");\n\n})\n\nQUnit.test(\"Automatic model casting in array models\", function (assert) {\n\n\tconst N = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({ x: Number, y: [Number] }).defaults({ x: 5, y: 7 });\n\tconst Arr = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])(N);\n\tconst a = Arr([ { x:9 } ]);\n\n\tassert.ok(a[0] instanceof N, \"test automatic model casting with array init 1/2\")\n\tassert.equal(a[0].x * a[0].y, 63, \"test automatic model casting with array init 2/2\")\n\n\ta.push({ x: 3 });\n\n\tassert.ok(a[1] instanceof N, \"test automatic model casting with array mutator method 1/2\")\n\tassert.equal(a[1].x * a[1].y, 21, \"test automatic model casting with array mutator method 2/2\")\n\n\ta[0] = { x: 10 };\n\n\tassert.ok(a[0] instanceof N, \"test automatic model casting with array set index 1/2\")\n\tassert.equal(a[0].x * a[0].y, 70, \"test automatic model casting with array set index 2/2\");\n\n});\n\nQUnit.test(\"Other traps\", function(assert){\n\n\tconst Arr = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])(Number);\n\tconst a = Arr([ 1, 2, 3 ])\n\n\tdelete a.unknownProperty;\n\tdelete a[3];\n\n\tassert.throws(function(){\n\t\tdelete a[2]\n\t}, /TypeError/, \"deleteProperty trap block array holes if def != undefined\")\n\n\tconst ArrB = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])([Number]);\n\tconst b = ArrB([ 1, 2, 3 ])\n\n\tdelete b[2]\n\tassert.equal(b[2], undefined, \"deleteProperty trap does not block when def is optional\")\n})//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3Rlc3QvYXJyYXktbW9kZWwuc3BlYy5qcz8zYjVlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7QXJyYXlNb2RlbCwgT2JqZWN0TW9kZWx9IGZyb20gXCIuLi9zcmMvaW5kZXhcIjtcblxuUVVuaXQubW9kdWxlKFwiQXJyYXkgTW9kZWxzXCIpO1xuXG5RVW5pdC50ZXN0KFwiQXJyYXkgbW9kZWwgY29uc3RydWN0b3IgJiYgcHJvdG9cIiwgZnVuY3Rpb24gKGFzc2VydCkge1xuXG5cdGFzc2VydC5vayhBcnJheU1vZGVsIGluc3RhbmNlb2YgRnVuY3Rpb24sIFwiQXJyYXlNb2RlbCBpbnN0YW5jZW9mIEZ1bmN0aW9uXCIpO1xuXG5cdGNvbnN0IEFyciA9IEFycmF5TW9kZWwoTnVtYmVyKTtcblxuXHRhc3NlcnQub2soQXJyIGluc3RhbmNlb2YgQXJyYXlNb2RlbCwgXCJBcnJheSBtb2RlbHMgY2FuIGJlIGRlY2xhcmVkXCIpO1xuXG5cdGFzc2VydC5vayh0eXBlb2YgQXJyLmV4dGVuZCA9PT0gXCJmdW5jdGlvblwiLCBcInRlc3QgQXJyYXkgbW9kZWwgbWV0aG9kIGV4dGVuZFwiKTtcblx0YXNzZXJ0Lm9rKHR5cGVvZiBBcnIuYXNzZXJ0ID09PSBcImZ1bmN0aW9uXCIsIFwidGVzdCBBcnJheSBtb2RlbCBtZXRob2QgYXNzZXJ0XCIpO1xuXHRhc3NlcnQub2sodHlwZW9mIEFyci50ZXN0ID09PSBcImZ1bmN0aW9uXCIsIFwidGVzdCBBcnJheSBtb2RlbCBtZXRob2QgdGVzdFwiKTtcblx0YXNzZXJ0Lm9rKHR5cGVvZiBBcnIudmFsaWRhdGUgPT09IFwiZnVuY3Rpb25cIiwgXCJ0ZXN0IEFycmF5IG1vZGVsIG1ldGhvZCB2YWxpZGF0ZVwiKTtcblx0YXNzZXJ0Lm9rKEFyci5kZWZpbml0aW9uID09PSBOdW1iZXIsIFwidGVzdCBBcnJheSBtb2RlbCBwcm9wIGRlZmluaXRpb25cIik7XG5cdGFzc2VydC5vayh0eXBlb2YgQXJyLmFzc2VydGlvbnMgPT09IFwib2JqZWN0XCIsIFwidGVzdCBBcnJheSBtb2RlbCBwcm9wIGFzc2VydGlvbnNcIik7XG5cbn0pO1xuXG5RVW5pdC50ZXN0KFwiQXJyYXkgbW9kZWwgaW5zdGFuY2lhdGlvbiAmJiBtdXRhdGlvbiBtZXRob2RzIHdhdGNoZXJzXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcblxuXHRjb25zdCBBcnIgPSBBcnJheU1vZGVsKE51bWJlcik7XG5cdGNvbnN0IGEgICA9IEFycihbXSk7XG5cblx0YXNzZXJ0Lm9rKGEgaW5zdGFuY2VvZiBBcnIgJiYgYSBpbnN0YW5jZW9mIEFycmF5LCBcIkFycmF5IG1vZGVscyBjYW4gYmUgaW5zdGFuY2lhdGVkXCIpO1xuXG5cdGEucHVzaCgxKTtcblx0YVswXSA9IDQyO1xuXHRhLnNwbGljZSgxLCAwLCA1LCA2LCBJbmZpbml0eSk7XG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xuXHRcdGEucHVzaChcInRvdG9cIik7XG5cdH0sIC9UeXBlRXJyb3IvLCBcInB1c2ggY2FsbHMgYXJlIGNhdGNoZWRcIik7XG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xuXHRcdGFbMF0gPSB7fTtcblx0fSwgL1R5cGVFcnJvci8sIFwiYXJyYXkga2V5cyBzZXQgYXJlIGNhdGNoZWRcIik7XG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xuXHRcdGEuc3BsaWNlKDEsIDAsIDcsICdvdXBzJywgOSk7XG5cdH0sIC9UeXBlRXJyb3IvLCBcInNwbGljZSBjYWxscyBhcmUgY2F0Y2hlZFwiKTtcblx0YXNzZXJ0LmVxdWFsKGEubGVuZ3RoLCA0LCBcImFycmF5IGxlbmd0aCBjaGFuZ2UgaXMgb2tcIik7XG5cbn0pO1xuXG5RVW5pdC50ZXN0KFwiQXJyYXkgbW9kZWwgdmFsaWRhdGlvbiBpbiBjb25zdHJ1Y3RvclwiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XG5cblx0Y29uc3QgQXJyID0gQXJyYXlNb2RlbChOdW1iZXIpO1xuXHRjb25zdCBiICAgPSBBcnIoWzEsIDIsIDNdKTtcblx0YXNzZXJ0LmVxdWFsKGIubGVuZ3RoLCAzLCBcImFycmF5Lmxlbmd0aCBpcyBva1wiKTtcblxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcblx0XHRBcnIoWzEsIGZhbHNlLCAzXSk7XG5cdH0sIC9UeXBlRXJyb3IvLCBcInZhbGlkYXRpb24gaW4gYXJyYXkgbW9kZWwgY29uc3RydWN0b3IgMS8yXCIpO1xuXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xuXHRcdEFycihbMSwgMiwgMywgZnVuY3Rpb24gKCkge1xuXHRcdH1dKTtcblx0fSwgL1R5cGVFcnJvci8sIFwidmFsaWRhdGlvbiBpbiBhcnJheSBtb2RlbCBjb25zdHJ1Y3RvciAyLzJcIik7XG5cbn0pO1xuXG5RVW5pdC50ZXN0KFwiQXJyYXkgbW9kZWwgd2l0aCB1bmlvbiB0eXBlcyAmIHN1Ym1vZGVsc1wiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XG5cblx0Y29uc3QgUXVlc3Rpb24gPSBPYmplY3RNb2RlbCh7XG5cdFx0YW5zd2VyOiBOdW1iZXJcblx0fSk7XG5cblx0Y29uc3QgQXJyID0gQXJyYXlNb2RlbChbUXVlc3Rpb24sIFN0cmluZywgQm9vbGVhbl0pO1xuXHRjb25zdCBhICAgPSBBcnIoW1widGVzdFwiXSk7XG5cdGEudW5zaGlmdCh0cnVlKTtcblx0YS5wdXNoKFF1ZXN0aW9uKHthbnN3ZXI6IDQyfSkpO1xuXHRhLnB1c2goe2Fuc3dlcjogNDN9KTtcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XG5cdFx0YS51bnNoaWZ0KDQyKTtcblx0fSwgL1R5cGVFcnJvci8sIFwidW5zaGlmdCBtdWx0aXBsZSB0eXBlc1wiKTtcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XG5cdFx0YVswXSA9IG51bGw7XG5cdH0sIC9UeXBlRXJyb3IvLCBcInNldCBpbmRleCBtdWx0aXBsZSB0eXBlc1wiKTtcblxufSlcblxuUVVuaXQudGVzdChcIkFycmF5IG1vZGVsIHdpdGggdW5pb24gdHlwZXMgJiBmaXhlZCB2YWx1ZXNcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xuXG5cdGNvbnN0IEFyciA9IEFycmF5TW9kZWwoW3RydWUsIDIsIFwiM1wiXSk7XG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xuXHRcdEFycihbXCIzXCIsIDIsIHRydWUsIDFdKTtcblx0fSwgL1R5cGVFcnJvcltcXHNcXFNdKkFycmF5XFxbM10vLCBcIkFycmF5TW9kZWwgZml4ZWQgdmFsdWVzXCIpO1xuXG5cdGNvbnN0IENhcmRzICAgICA9IEFycmF5TW9kZWwoW051bWJlciwgXCJKXCIsIFwiUVwiLCBcIktcIl0pOyAvLyBhcnJheSBvZiBOdW1iZXJzLCBKLCBRIG9yIEtcblx0Y29uc3QgSGFuZCAgICAgID0gQ2FyZHMuZXh0ZW5kKCkuYXNzZXJ0KGNhcmRzID0+IGNhcmRzLmxlbmd0aCA9PT0gMik7XG5cdGNvbnN0IHBva2VySGFuZCA9IG5ldyBIYW5kKFtcIktcIiwgMTBdKTtcblxuXHRhc3NlcnQub2soT2JqZWN0LmdldFByb3RvdHlwZU9mKEhhbmQucHJvdG90eXBlKSA9PT0gQ2FyZHMucHJvdG90eXBlLCBcImV4dGVuc2lvbiByZXNwZWN0IHByb3RvdHlwYWwgY2hhaW5cIik7XG5cdGFzc2VydC5vayhwb2tlckhhbmQgaW5zdGFuY2VvZiBIYW5kICYmIHBva2VySGFuZCBpbnN0YW5jZW9mIENhcmRzLCBcImFycmF5IG1vZGVsIGluaGVyaXRhbmNlXCIpO1xuXHRDYXJkcyhbXCJLXCIsIDEwXSkucHVzaCg3KTtcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XG5cdFx0SGFuZChbXCJLXCIsIDEwXSkucHVzaCg3KTtcblx0fSwgL1R5cGVFcnJvci8sIFwibWluL21heCBvZiBpbmhlcml0IGFycmF5IG1vZGVsXCIpO1xuXG5cdGNvbnN0IENoZWF0ZXJIYW5kID0gQ2FyZHMuZXh0ZW5kKFwiam9rZXJcIik7XG5cdENoZWF0ZXJIYW5kKFtcIktcIiwgMTAsIFwiam9rZXJcIl0pO1xuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcblx0XHRIYW5kKFwiS1wiLCAxMCwgXCJqb2tlclwiKTtcblx0fSwgL1R5cGVFcnJvci8sIFwiYXJyYXkgbW9kZWwgdHlwZSBleHRlbnNpb25cIik7XG5cbn0pXG5cblFVbml0LnRlc3QoXCJDaGlsZCBhcnJheSBtb2RlbHMgaW4gb2JqZWN0IG1vZGVsc1wiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XG5cblx0Y29uc3QgQ2hpbGQgID0gT2JqZWN0TW9kZWwoe2FycjogQXJyYXlNb2RlbChTdHJpbmcpfSk7XG5cdGNvbnN0IFBhcmVudCA9IE9iamVjdE1vZGVsKHtjaGlsZDogQ2hpbGR9KTtcblxuXHRjb25zdCBjaGlsZE8gPSBDaGlsZCh7YXJyOiBbXCJhXCIsIFwiYlwiLCBcImNcIl19KTtcblx0YXNzZXJ0Lm9rKGNoaWxkTy5hcnIgaW5zdGFuY2VvZiBBcnJheSwgXCJjaGlsZCBhcnJheSBtb2RlbCBpcyBhcnJheVwiKTtcblx0Y29uc3QgcGFyZW50TyA9IFBhcmVudCh7Y2hpbGQ6IGNoaWxkT30pO1xuXHRhc3NlcnQub2socGFyZW50Ty5jaGlsZC5hcnIgaW5zdGFuY2VvZiBBcnJheSwgXCJjaGlsZCBhcnJheSBtb2RlbCBmcm9tIHBhcmVudCBpcyBhcnJheVwiKTtcblxuXHRjaGlsZE8uYXJyLnB1c2goXCJhXCIpO1xuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcblx0XHRjaGlsZE8uYXJyLnB1c2goZmFsc2UpO1xuXHR9LCAvVHlwZUVycm9yLywgXCJjaGlsZCBhcnJheSBtb2RlbCBjYXRjaGVzIHB1c2ggY2FsbHNcIik7XG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xuXHRcdGNoaWxkTy5hcnJbMF0gPSAxO1xuXHR9LCAvVHlwZUVycm9yLywgXCJjaGlsZCBhcnJheSBtb2RlbCBjYXRjaGVzIHNldCBpbmRleFwiKTtcblxuXHRhc3NlcnQub2soQXJyYXlNb2RlbCh1bmRlZmluZWQpIGluc3RhbmNlb2YgQXJyYXlNb2RlbCwgXCJBcnJheU1vZGVsIGNhbiByZWNlaXZlIHVuZGVmaW5lZCBhcyBhcmd1bWVudFwiKTtcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XG5cdFx0QXJyYXlNb2RlbCgpXG5cdH0sIC9FcnJvci4qTW9kZWwgZGVmaW5pdGlvbiBpcyByZXF1aXJlZC8sIFwiQXJyYXlNb2RlbCB3aXRob3V0IGRlZmluaXRpb24gdGhyb3dzXCIpXG5cbn0pO1xuXG5RVW5pdC50ZXN0KFwiQXJyYXkgbW9kZWwgZGVmYXVsdHMgdmFsdWVzXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcblxuXHRjb25zdCBBcnJNb2RlbCA9IEFycmF5TW9kZWwoW051bWJlciwgU3RyaW5nXSkuZGVmYXVsdFRvKFtdKTtcblx0Y29uc3QgYSAgICAgICAgPSBBcnJNb2RlbCgpO1xuXG5cdGFzc2VydC5vayhhIGluc3RhbmNlb2YgQXJyYXkgJiYgYS5sZW5ndGggPT09IDAsIFwiQXJyYXkgbW9kZWwgZGVmYXVsdCB2YWx1ZVwiKTtcblxuXHRBcnJNb2RlbC5kZWZhdWx0LnB1c2goMSwgMiwgMyk7XG5cblx0Y29uc3QgYiA9IEFyck1vZGVsKCk7XG5cblx0YXNzZXJ0Lm9rKGIubGVuZ3RoID09PSAzICYmIGIuam9pbihcIjtcIikgPT0gXCIxOzI7M1wiLCBcImFycmF5IG1vZGVsIGRlZmF1bHQgdmFsdWUgaXMgbXV0YWJsZSBhcnJheVwiKTtcblxuXHRBcnJNb2RlbC5kZWZhdWx0ID0gXCJub3BlXCI7XG5cblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XG5cdFx0QXJyTW9kZWwoKVxuXHR9LCAvVHlwZUVycm9yLipnb3QgU3RyaW5nIFwibm9wZVwiLywgXCJpbnZhbGlkIGRlZmF1bHQgcHJvcGVydHkgc3RpbGwgdGhyb3dzIFR5cGVFcnJvciBmb3IgYXJyYXkgbW9kZWxzXCIpO1xuXG59KVxuXG5RVW5pdC50ZXN0KFwiQXJyYXkgbW9kZWwgYXNzZXJ0aW9uc1wiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XG5cblx0Y29uc3QgQXJyYXlNYXgzID0gQXJyYXlNb2RlbChOdW1iZXIpLmFzc2VydChmdW5jdGlvbiBtYXhSYW5nZShhcnIpeyByZXR1cm4gYXJyLmxlbmd0aCA8PSAzOyB9KTtcblx0bGV0IGFyciA9IEFycmF5TWF4MyhbMSwyXSk7XG5cblx0YXJyLnB1c2goMyk7XG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24oKXsgYXJyLnB1c2goNCk7IH0sIC9UeXBlRXJyb3JbXFxzXFxTXSptYXhSYW5nZS8sIFwidGVzdCBhc3NlcnRpb24gYWZ0ZXIgYXJyYXkgbWV0aG9kXCIpO1xuXG5cdGNvbnN0IEFycmF5U3VtTWF4MTAgPSBBcnJheU1vZGVsKE51bWJlcikuYXNzZXJ0KGZ1bmN0aW9uKGFycil7XG5cdFx0cmV0dXJuIGFyci5yZWR1Y2UoZnVuY3Rpb24oYSxiKXsgcmV0dXJuIGErYjsgfSwwKSA8PSAxMDtcblx0fSk7XG5cblx0YXJyID0gQXJyYXlTdW1NYXgxMChbMiwzLDRdKTtcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbigpeyBhcnJbMV0gPSA3OyB9LCAvVHlwZUVycm9yLywgXCJ0ZXN0IGFzc2VydGlvbiBhZnRlciBhcnJheSBrZXkgYXNzaWdubWVudFwiKTtcblxuXHRjb25zdCBBc3NlcnRBcnJheSA9IEFycmF5TW9kZWwoTnVtYmVyKS5hc3NlcnQodiA9PiB2Lmxlbmd0aCA+PSAwLCBcIm1heSB0aHJvdyBleGNlcHRpb25cIik7XG5cblx0bmV3IEFzc2VydEFycmF5KFtdKTtcblxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uKCl7IG5ldyBBc3NlcnRBcnJheSgpOyB9LFxuXHRcdC9hc3NlcnRpb24gXFxcIm1heSB0aHJvdyBleGNlcHRpb25cXFwiIHJldHVybmVkIFR5cGVFcnJvci4qZm9yIHZhbHVlIHVuZGVmaW5lZC8sXG5cdFx0XCJhc3NlcnRpb25zIGNhdGNoIGV4Y2VwdGlvbnMgb24gQXJyYXkgbW9kZWxzXCIpO1xuXG59KVxuXG5RVW5pdC50ZXN0KFwiQXV0b21hdGljIG1vZGVsIGNhc3RpbmcgaW4gYXJyYXkgbW9kZWxzXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcblxuXHRjb25zdCBOID0gT2JqZWN0TW9kZWwoeyB4OiBOdW1iZXIsIHk6IFtOdW1iZXJdIH0pLmRlZmF1bHRzKHsgeDogNSwgeTogNyB9KTtcblx0Y29uc3QgQXJyID0gQXJyYXlNb2RlbChOKTtcblx0Y29uc3QgYSA9IEFycihbIHsgeDo5IH0gXSk7XG5cblx0YXNzZXJ0Lm9rKGFbMF0gaW5zdGFuY2VvZiBOLCBcInRlc3QgYXV0b21hdGljIG1vZGVsIGNhc3Rpbmcgd2l0aCBhcnJheSBpbml0IDEvMlwiKVxuXHRhc3NlcnQuZXF1YWwoYVswXS54ICogYVswXS55LCA2MywgXCJ0ZXN0IGF1dG9tYXRpYyBtb2RlbCBjYXN0aW5nIHdpdGggYXJyYXkgaW5pdCAyLzJcIilcblxuXHRhLnB1c2goeyB4OiAzIH0pO1xuXG5cdGFzc2VydC5vayhhWzFdIGluc3RhbmNlb2YgTiwgXCJ0ZXN0IGF1dG9tYXRpYyBtb2RlbCBjYXN0aW5nIHdpdGggYXJyYXkgbXV0YXRvciBtZXRob2QgMS8yXCIpXG5cdGFzc2VydC5lcXVhbChhWzFdLnggKiBhWzFdLnksIDIxLCBcInRlc3QgYXV0b21hdGljIG1vZGVsIGNhc3Rpbmcgd2l0aCBhcnJheSBtdXRhdG9yIG1ldGhvZCAyLzJcIilcblxuXHRhWzBdID0geyB4OiAxMCB9O1xuXG5cdGFzc2VydC5vayhhWzBdIGluc3RhbmNlb2YgTiwgXCJ0ZXN0IGF1dG9tYXRpYyBtb2RlbCBjYXN0aW5nIHdpdGggYXJyYXkgc2V0IGluZGV4IDEvMlwiKVxuXHRhc3NlcnQuZXF1YWwoYVswXS54ICogYVswXS55LCA3MCwgXCJ0ZXN0IGF1dG9tYXRpYyBtb2RlbCBjYXN0aW5nIHdpdGggYXJyYXkgc2V0IGluZGV4IDIvMlwiKTtcblxufSk7XG5cblFVbml0LnRlc3QoXCJPdGhlciB0cmFwc1wiLCBmdW5jdGlvbihhc3NlcnQpe1xuXG5cdGNvbnN0IEFyciA9IEFycmF5TW9kZWwoTnVtYmVyKTtcblx0Y29uc3QgYSA9IEFycihbIDEsIDIsIDMgXSlcblxuXHRkZWxldGUgYS51bmtub3duUHJvcGVydHk7XG5cdGRlbGV0ZSBhWzNdO1xuXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24oKXtcblx0XHRkZWxldGUgYVsyXVxuXHR9LCAvVHlwZUVycm9yLywgXCJkZWxldGVQcm9wZXJ0eSB0cmFwIGJsb2NrIGFycmF5IGhvbGVzIGlmIGRlZiAhPSB1bmRlZmluZWRcIilcblxuXHRjb25zdCBBcnJCID0gQXJyYXlNb2RlbChbTnVtYmVyXSk7XG5cdGNvbnN0IGIgPSBBcnJCKFsgMSwgMiwgMyBdKVxuXG5cdGRlbGV0ZSBiWzJdXG5cdGFzc2VydC5lcXVhbChiWzJdLCB1bmRlZmluZWQsIFwiZGVsZXRlUHJvcGVydHkgdHJhcCBkb2VzIG5vdCBibG9jayB3aGVuIGRlZiBpcyBvcHRpb25hbFwiKVxufSlcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3Rlc3QvYXJyYXktbW9kZWwuc3BlYy5qc1xuLy8gbW9kdWxlIGlkID0gNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 7 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__src_index__ = __webpack_require__(3);\n\r\n\r\nQUnit.module(\"Basic Models\");\r\n\r\nQUnit.test(\"Basic models constructor && proto are correctly defined\", function (assert) {\r\n\tassert.ok(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* BasicModel */] instanceof Function, \"BasicModel is defined\");\r\n\r\n\tconst NumberModel = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* BasicModel */])(Number);\r\n\r\n\tassert.ok(typeof NumberModel.extend === \"function\", \"test model method extend\");\r\n\tassert.ok(typeof NumberModel.assert === \"function\", \"test model method assert\");\r\n\tassert.ok(typeof NumberModel.test === \"function\", \"test model method test\");\r\n\tassert.ok(typeof NumberModel.validate === \"function\", \"test model method validate\");\r\n\tassert.ok(NumberModel.definition === Number, \"test model prop definition\");\r\n\tassert.ok(typeof NumberModel.assertions === \"object\", \"test model prop assertions\");\r\n\r\n\tconst NumberModelThroughConstructor = new __WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* BasicModel */](Number);\r\n\r\n\tassert.ok(typeof NumberModelThroughConstructor.extend === \"function\", \"test new model method extend\");\r\n\tassert.ok(typeof NumberModelThroughConstructor.assert === \"function\", \"test new model method assert\");\r\n\tassert.ok(typeof NumberModelThroughConstructor.test === \"function\", \"test new model method test\");\r\n\tassert.ok(typeof NumberModelThroughConstructor.validate === \"function\", \"test new model method validate\");\r\n\tassert.ok(NumberModelThroughConstructor.definition === Number, \"test new model prop definition\");\r\n\tassert.ok(typeof NumberModelThroughConstructor.assertions === \"object\", \"test new model prop assertions\");\r\n});\r\n\r\nQUnit.test(\"Basic Model with undefined or no definition\", function (assert) {\r\n\r\n\tconst UndefinedModel = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* BasicModel */])(undefined);\r\n\tassert.ok(UndefinedModel instanceof __WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* BasicModel */], \"Model can receive undefined as argument\");\r\n\tassert.throws(function () {\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* BasicModel */])()\r\n\t}, /Error.*Model definition is required/, \"Model without definition throws\")\r\n\r\n});\r\n\r\nQUnit.test(\"Basic model behaviour\", function (assert) {\r\n\r\n\tconst NumberModel = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* BasicModel */])(Number);\r\n\tNumberModel(0); // should not throw\r\n\tassert.ok(typeof NumberModel(42) === \"number\", \"should return the original type\");\r\n\tassert.ok(NumberModel(17) === 17, \"should return the original value\");\r\n\tassert.throws(function () {\r\n\t\tNumberModel(\"12\")\r\n\t}, /TypeError/, \"test invalid type\");\r\n\tassert.throws(function () {\r\n\t\tNumberModel(NaN)\r\n\t}, /TypeError/, \"test NaN is invalid\");\r\n\r\n})\r\n\r\nQUnit.test(\"Optional basic model behaviour\", function (assert) {\r\n\r\n\tconst NumberModel = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* BasicModel */])(Number);\r\n\tconst OptionalNumberModel = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* BasicModel */])([Number]);\r\n\r\n\tassert.throws(function () {\r\n\t\tNumberModel()\r\n\t}, /TypeError/, \"test undefined value for optional model\");\r\n\r\n\tOptionalNumberModel(); // should not throw\r\n\r\n\tconst OptionalExtendedNumberModel = NumberModel.extend(undefined);\r\n\r\n\tOptionalExtendedNumberModel(); // should not throw\r\n\r\n\tassert.throws(function () {\r\n\t\tNumberModel()\r\n\t}, /TypeError/, \"test undefined value on mandatory prop\");\r\n\r\n});\r\n\r\nQUnit.test(\"Union basic model\", function (assert) {\r\n\r\n\tconst myModel = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* BasicModel */])([String, Boolean, Date]);\r\n\tmyModel(\"test\"); // should not throw\r\n\tmyModel(true); // should not throw\r\n\tmyModel(new Date()); // should not throw\r\n\tassert.throws(function () {\r\n\t\tmyModel()\r\n\t}, /TypeError/, \"test undefined value\");\r\n\tassert.throws(function () {\r\n\t\tmyModel(0)\r\n\t}, /TypeError/, \"test invalid type\");\r\n\tassert.throws(function () {\r\n\t\tmyModel(new Date(\"x\"))\r\n\t}, /TypeError/, \"test invalid date\");\r\n\r\n\tassert.ok(myModel.test(\"666\") === true, \"model.test 1/2\");\r\n\tassert.ok(myModel.test(666) === false, \"model.test 2/2\");\r\n\r\n\tmyModel.validate(\"666\"); // should not throw\r\n\tassert.throws(function () {\r\n\t\tmyModel.validate(666)\r\n\t}, /TypeError/, \"test undefined value\");\r\n\r\n});\r\n\r\nQUnit.test(\"Basic model default values\", function (assert) {\r\n\r\n\tconst myModel = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* BasicModel */])([String, Boolean, Date]);\r\n\tmyModel.defaultTo(\"blob\");\r\n\tassert.strictEqual(myModel.default, \"blob\", \"basic model defaultTo store the value as default property\")\r\n\tassert.strictEqual(myModel(), \"blob\", \"basic model default property is applied when undefined is passed\");\r\n\tmyModel.default = 42;\r\n\tassert.throws(function () {\r\n\t\tmyModel()\r\n\t}, /TypeError.*got Number 42/, \"basic model invalid default property still throws TypeError\");\r\n\r\n});\r\n\r\nQUnit.test(\"Basic model Assertions\", function (assert) {\r\n\r\n\tfunction isOdd(n) {\r\n\t\treturn n % 2 === 1;\r\n\t}\r\n\r\n\tconst OddNumber = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* BasicModel */])(Number).assert(isOdd);\r\n\tassert.strictEqual(OddNumber(17), 17, \"passing assertion on basic model 1/2\");\r\n\tassert.throws(function () {\r\n\t\tOddNumber(18)\r\n\t}, /TypeError[\\s\\S]*isOdd/, \"failing assertion on basic model 1/2\");\r\n\r\n\tconst RealNumber = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* BasicModel */])(Number).assert(isFinite);\r\n\r\n\tassert.equal(RealNumber(Math.sqrt(1)), 1, \"passing assertion on basic model 2/2\");\r\n\tassert.throws(function () {\r\n\t\tRealNumber(Math.sqrt(-1))\r\n\t}, /TypeError[\\s\\S]*isFinite/, \"failing assertion on basic model 2/2\");\r\n\r\n\tfunction isPrime(n) {\r\n\t\tfor (var i = 2, m = Math.sqrt(n); i <= m; i++) {\r\n\t\t\tif (n % i === 0) return false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tconst PrimeNumber = RealNumber\r\n\t\t.extend() // to not add next assertions to RealNumber model\r\n\t\t.assert(Number.isInteger)\r\n\t\t.assert(isPrime);\r\n\r\n\tPrimeNumber(83);\r\n\tassert.throws(function () {\r\n\t\tPrimeNumber(87);\r\n\t}, /TypeError[\\s\\S]*isPrime/, \"test multiple assertions 1\");\r\n\tassert.throws(function () {\r\n\t\tPrimeNumber(7.77);\r\n\t}, /TypeError[\\s\\S]*isInteger/, \"test multiple assertions 2\");\r\n\r\n\tconst AssertBasic = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* BasicModel */])(Number).assert(function (v) {\r\n\t\treturn +v.toString() == v\r\n\t}, \"may throw exception\")\r\n\r\n\tnew AssertBasic(0);\r\n\r\n\tassert.throws(function () {\r\n\t\t\tnew AssertBasic();\r\n\t\t},\r\n\t\t/assertion \\\"may throw exception\\\" returned TypeError.*for value undefined/,\r\n\t\t\"assertions catch exceptions on Basic models\");\r\n\r\n});\r\n\r\nQUnit.test(\"Custom error collectors for basic models\", function(assert) {\r\n\r\n\tassert.expect(13);\r\n\r\n\tconst defaultErrorCollector = __WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* BasicModel */].prototype.errorCollector;\r\n\tassert.equal(typeof defaultErrorCollector, \"function\", \"BasicModel has default errorCollector\");\r\n\r\n\t__WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* BasicModel */].prototype.errorCollector = function (errors) {\r\n\t\tassert.ok(errors.length === 1, \"check errors.length global collector\");\r\n\t\tconst err = errors[0];\r\n\t\tassert.equal(err.expected, Number, \"check error.expected global collector\");\r\n\t\tassert.equal(err.received, \"nope\", \"check error.received global collector\");\r\n\t\tassert.equal(err.message, 'expecting Number, got String \"nope\"', \"check error.message global collector\");\r\n\t}\r\n\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* BasicModel */])(Number)(\"nope\");\r\n\r\n\t__WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* BasicModel */].prototype.errorCollector = function (errors) {\r\n\t\tassert.ok(errors.length === 1, 'global custom collector assertion error catch 1/2');\r\n\t\tassert.equal(errors[0].message,\r\n\t\t\t'assertion \\\"shouldnt be nope\\\" returned false for value \\\"nope\\\"',\r\n\t\t\t'global custom collector assertion error catch 2/2');\r\n\t}\r\n\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* BasicModel */])(String).assert(function (s) {\r\n\t\treturn s !== \"nope\"\r\n\t}, \"shouldnt be nope\")(\"nope\");\r\n\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* BasicModel */])(Number).validate(\"nope\", function(errors){\r\n\t\tassert.ok(errors.length === 1, \"check errors.length custom collector\");\r\n\t\tvar err = errors[0];\r\n\t\tassert.equal(err.expected, Number, \"check error.expected custom collector\");\r\n\t\tassert.equal(err.received, \"nope\", \"check error.received custom collector\");\r\n\t\tassert.equal(err.message, 'expecting Number, got String \"nope\"', \"check error.message custom collector\");\r\n\t});\r\n\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* BasicModel */])(String).assert(function(s){ return s !== \"nope\" }, \"shouldnt be nope\")\r\n\t\t.validate(\"nope\", function(errors){\r\n\t\t\tassert.ok(errors.length === 1, 'local custom collector assertion error catch 1/2');\r\n\t\t\tassert.equal(errors[0].message,\r\n\t\t\t\t'assertion \\\"shouldnt be nope\\\" returned false for value \\\"nope\\\"',\r\n\t\t\t\t'local custom collector assertion error catch 2/2');\r\n\t\t});\r\n\r\n\t__WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* BasicModel */].prototype.errorCollector = defaultErrorCollector;\r\n\r\n});\r\n\r\nQUnit.test(\"Extensions\", function(assert){\r\n\r\n\tvar PositiveInteger = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* BasicModel */])(Number)\r\n\t\t.assert(Number.isInteger)\r\n\t\t.assert(n => n >= 0, \"should be greater or equal to zero\")\r\n\r\n\tfunction isPrime(n) {\r\n\t\tfor (var i=2, m=Math.sqrt(n); i <= m ; i++){\r\n\t\t\tif(n%i === 0) return false;\r\n\t\t}\r\n\t\treturn n > 1;\r\n\t}\r\n\r\n\tvar PrimeNumber = PositiveInteger.extend().assert(isPrime);\r\n\r\n\tassert.equal(PrimeNumber.definition, Number, \"Extension retrieve original definition\");\r\n\tassert.equal(PrimeNumber.assertions.length, 3, \"Extension can add assertions\");\r\n\tassert.equal(PositiveInteger.assertions.length, 2, \"Extension assertions are not added to original model\");\r\n\r\n})//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3Rlc3QvYmFzaWMtbW9kZWwuc3BlYy5qcz9mOTU1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7QmFzaWNNb2RlbH0gZnJvbSBcIi4uL3NyYy9pbmRleFwiO1xyXG5cclxuUVVuaXQubW9kdWxlKFwiQmFzaWMgTW9kZWxzXCIpO1xyXG5cclxuUVVuaXQudGVzdChcIkJhc2ljIG1vZGVscyBjb25zdHJ1Y3RvciAmJiBwcm90byBhcmUgY29ycmVjdGx5IGRlZmluZWRcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xyXG5cdGFzc2VydC5vayhCYXNpY01vZGVsIGluc3RhbmNlb2YgRnVuY3Rpb24sIFwiQmFzaWNNb2RlbCBpcyBkZWZpbmVkXCIpO1xyXG5cclxuXHRjb25zdCBOdW1iZXJNb2RlbCA9IEJhc2ljTW9kZWwoTnVtYmVyKTtcclxuXHJcblx0YXNzZXJ0Lm9rKHR5cGVvZiBOdW1iZXJNb2RlbC5leHRlbmQgPT09IFwiZnVuY3Rpb25cIiwgXCJ0ZXN0IG1vZGVsIG1ldGhvZCBleHRlbmRcIik7XHJcblx0YXNzZXJ0Lm9rKHR5cGVvZiBOdW1iZXJNb2RlbC5hc3NlcnQgPT09IFwiZnVuY3Rpb25cIiwgXCJ0ZXN0IG1vZGVsIG1ldGhvZCBhc3NlcnRcIik7XHJcblx0YXNzZXJ0Lm9rKHR5cGVvZiBOdW1iZXJNb2RlbC50ZXN0ID09PSBcImZ1bmN0aW9uXCIsIFwidGVzdCBtb2RlbCBtZXRob2QgdGVzdFwiKTtcclxuXHRhc3NlcnQub2sodHlwZW9mIE51bWJlck1vZGVsLnZhbGlkYXRlID09PSBcImZ1bmN0aW9uXCIsIFwidGVzdCBtb2RlbCBtZXRob2QgdmFsaWRhdGVcIik7XHJcblx0YXNzZXJ0Lm9rKE51bWJlck1vZGVsLmRlZmluaXRpb24gPT09IE51bWJlciwgXCJ0ZXN0IG1vZGVsIHByb3AgZGVmaW5pdGlvblwiKTtcclxuXHRhc3NlcnQub2sodHlwZW9mIE51bWJlck1vZGVsLmFzc2VydGlvbnMgPT09IFwib2JqZWN0XCIsIFwidGVzdCBtb2RlbCBwcm9wIGFzc2VydGlvbnNcIik7XHJcblxyXG5cdGNvbnN0IE51bWJlck1vZGVsVGhyb3VnaENvbnN0cnVjdG9yID0gbmV3IEJhc2ljTW9kZWwoTnVtYmVyKTtcclxuXHJcblx0YXNzZXJ0Lm9rKHR5cGVvZiBOdW1iZXJNb2RlbFRocm91Z2hDb25zdHJ1Y3Rvci5leHRlbmQgPT09IFwiZnVuY3Rpb25cIiwgXCJ0ZXN0IG5ldyBtb2RlbCBtZXRob2QgZXh0ZW5kXCIpO1xyXG5cdGFzc2VydC5vayh0eXBlb2YgTnVtYmVyTW9kZWxUaHJvdWdoQ29uc3RydWN0b3IuYXNzZXJ0ID09PSBcImZ1bmN0aW9uXCIsIFwidGVzdCBuZXcgbW9kZWwgbWV0aG9kIGFzc2VydFwiKTtcclxuXHRhc3NlcnQub2sodHlwZW9mIE51bWJlck1vZGVsVGhyb3VnaENvbnN0cnVjdG9yLnRlc3QgPT09IFwiZnVuY3Rpb25cIiwgXCJ0ZXN0IG5ldyBtb2RlbCBtZXRob2QgdGVzdFwiKTtcclxuXHRhc3NlcnQub2sodHlwZW9mIE51bWJlck1vZGVsVGhyb3VnaENvbnN0cnVjdG9yLnZhbGlkYXRlID09PSBcImZ1bmN0aW9uXCIsIFwidGVzdCBuZXcgbW9kZWwgbWV0aG9kIHZhbGlkYXRlXCIpO1xyXG5cdGFzc2VydC5vayhOdW1iZXJNb2RlbFRocm91Z2hDb25zdHJ1Y3Rvci5kZWZpbml0aW9uID09PSBOdW1iZXIsIFwidGVzdCBuZXcgbW9kZWwgcHJvcCBkZWZpbml0aW9uXCIpO1xyXG5cdGFzc2VydC5vayh0eXBlb2YgTnVtYmVyTW9kZWxUaHJvdWdoQ29uc3RydWN0b3IuYXNzZXJ0aW9ucyA9PT0gXCJvYmplY3RcIiwgXCJ0ZXN0IG5ldyBtb2RlbCBwcm9wIGFzc2VydGlvbnNcIik7XHJcbn0pO1xyXG5cclxuUVVuaXQudGVzdChcIkJhc2ljIE1vZGVsIHdpdGggdW5kZWZpbmVkIG9yIG5vIGRlZmluaXRpb25cIiwgZnVuY3Rpb24gKGFzc2VydCkge1xyXG5cclxuXHRjb25zdCBVbmRlZmluZWRNb2RlbCA9IEJhc2ljTW9kZWwodW5kZWZpbmVkKTtcclxuXHRhc3NlcnQub2soVW5kZWZpbmVkTW9kZWwgaW5zdGFuY2VvZiBCYXNpY01vZGVsLCBcIk1vZGVsIGNhbiByZWNlaXZlIHVuZGVmaW5lZCBhcyBhcmd1bWVudFwiKTtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdEJhc2ljTW9kZWwoKVxyXG5cdH0sIC9FcnJvci4qTW9kZWwgZGVmaW5pdGlvbiBpcyByZXF1aXJlZC8sIFwiTW9kZWwgd2l0aG91dCBkZWZpbml0aW9uIHRocm93c1wiKVxyXG5cclxufSk7XHJcblxyXG5RVW5pdC50ZXN0KFwiQmFzaWMgbW9kZWwgYmVoYXZpb3VyXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcclxuXHJcblx0Y29uc3QgTnVtYmVyTW9kZWwgPSBCYXNpY01vZGVsKE51bWJlcik7XHJcblx0TnVtYmVyTW9kZWwoMCk7IC8vIHNob3VsZCBub3QgdGhyb3dcclxuXHRhc3NlcnQub2sodHlwZW9mIE51bWJlck1vZGVsKDQyKSA9PT0gXCJudW1iZXJcIiwgXCJzaG91bGQgcmV0dXJuIHRoZSBvcmlnaW5hbCB0eXBlXCIpO1xyXG5cdGFzc2VydC5vayhOdW1iZXJNb2RlbCgxNykgPT09IDE3LCBcInNob3VsZCByZXR1cm4gdGhlIG9yaWdpbmFsIHZhbHVlXCIpO1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0TnVtYmVyTW9kZWwoXCIxMlwiKVxyXG5cdH0sIC9UeXBlRXJyb3IvLCBcInRlc3QgaW52YWxpZCB0eXBlXCIpO1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0TnVtYmVyTW9kZWwoTmFOKVxyXG5cdH0sIC9UeXBlRXJyb3IvLCBcInRlc3QgTmFOIGlzIGludmFsaWRcIik7XHJcblxyXG59KVxyXG5cclxuUVVuaXQudGVzdChcIk9wdGlvbmFsIGJhc2ljIG1vZGVsIGJlaGF2aW91clwiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XHJcblxyXG5cdGNvbnN0IE51bWJlck1vZGVsID0gQmFzaWNNb2RlbChOdW1iZXIpO1xyXG5cdGNvbnN0IE9wdGlvbmFsTnVtYmVyTW9kZWwgPSBCYXNpY01vZGVsKFtOdW1iZXJdKTtcclxuXHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHROdW1iZXJNb2RlbCgpXHJcblx0fSwgL1R5cGVFcnJvci8sIFwidGVzdCB1bmRlZmluZWQgdmFsdWUgZm9yIG9wdGlvbmFsIG1vZGVsXCIpO1xyXG5cclxuXHRPcHRpb25hbE51bWJlck1vZGVsKCk7IC8vIHNob3VsZCBub3QgdGhyb3dcclxuXHJcblx0Y29uc3QgT3B0aW9uYWxFeHRlbmRlZE51bWJlck1vZGVsID0gTnVtYmVyTW9kZWwuZXh0ZW5kKHVuZGVmaW5lZCk7XHJcblxyXG5cdE9wdGlvbmFsRXh0ZW5kZWROdW1iZXJNb2RlbCgpOyAvLyBzaG91bGQgbm90IHRocm93XHJcblxyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0TnVtYmVyTW9kZWwoKVxyXG5cdH0sIC9UeXBlRXJyb3IvLCBcInRlc3QgdW5kZWZpbmVkIHZhbHVlIG9uIG1hbmRhdG9yeSBwcm9wXCIpO1xyXG5cclxufSk7XHJcblxyXG5RVW5pdC50ZXN0KFwiVW5pb24gYmFzaWMgbW9kZWxcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xyXG5cclxuXHRjb25zdCBteU1vZGVsID0gQmFzaWNNb2RlbChbU3RyaW5nLCBCb29sZWFuLCBEYXRlXSk7XHJcblx0bXlNb2RlbChcInRlc3RcIik7IC8vIHNob3VsZCBub3QgdGhyb3dcclxuXHRteU1vZGVsKHRydWUpOyAvLyBzaG91bGQgbm90IHRocm93XHJcblx0bXlNb2RlbChuZXcgRGF0ZSgpKTsgLy8gc2hvdWxkIG5vdCB0aHJvd1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0bXlNb2RlbCgpXHJcblx0fSwgL1R5cGVFcnJvci8sIFwidGVzdCB1bmRlZmluZWQgdmFsdWVcIik7XHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRteU1vZGVsKDApXHJcblx0fSwgL1R5cGVFcnJvci8sIFwidGVzdCBpbnZhbGlkIHR5cGVcIik7XHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRteU1vZGVsKG5ldyBEYXRlKFwieFwiKSlcclxuXHR9LCAvVHlwZUVycm9yLywgXCJ0ZXN0IGludmFsaWQgZGF0ZVwiKTtcclxuXHJcblx0YXNzZXJ0Lm9rKG15TW9kZWwudGVzdChcIjY2NlwiKSA9PT0gdHJ1ZSwgXCJtb2RlbC50ZXN0IDEvMlwiKTtcclxuXHRhc3NlcnQub2sobXlNb2RlbC50ZXN0KDY2NikgPT09IGZhbHNlLCBcIm1vZGVsLnRlc3QgMi8yXCIpO1xyXG5cclxuXHRteU1vZGVsLnZhbGlkYXRlKFwiNjY2XCIpOyAvLyBzaG91bGQgbm90IHRocm93XHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRteU1vZGVsLnZhbGlkYXRlKDY2NilcclxuXHR9LCAvVHlwZUVycm9yLywgXCJ0ZXN0IHVuZGVmaW5lZCB2YWx1ZVwiKTtcclxuXHJcbn0pO1xyXG5cclxuUVVuaXQudGVzdChcIkJhc2ljIG1vZGVsIGRlZmF1bHQgdmFsdWVzXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcclxuXHJcblx0Y29uc3QgbXlNb2RlbCA9IEJhc2ljTW9kZWwoW1N0cmluZywgQm9vbGVhbiwgRGF0ZV0pO1xyXG5cdG15TW9kZWwuZGVmYXVsdFRvKFwiYmxvYlwiKTtcclxuXHRhc3NlcnQuc3RyaWN0RXF1YWwobXlNb2RlbC5kZWZhdWx0LCBcImJsb2JcIiwgXCJiYXNpYyBtb2RlbCBkZWZhdWx0VG8gc3RvcmUgdGhlIHZhbHVlIGFzIGRlZmF1bHQgcHJvcGVydHlcIilcclxuXHRhc3NlcnQuc3RyaWN0RXF1YWwobXlNb2RlbCgpLCBcImJsb2JcIiwgXCJiYXNpYyBtb2RlbCBkZWZhdWx0IHByb3BlcnR5IGlzIGFwcGxpZWQgd2hlbiB1bmRlZmluZWQgaXMgcGFzc2VkXCIpO1xyXG5cdG15TW9kZWwuZGVmYXVsdCA9IDQyO1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0bXlNb2RlbCgpXHJcblx0fSwgL1R5cGVFcnJvci4qZ290IE51bWJlciA0Mi8sIFwiYmFzaWMgbW9kZWwgaW52YWxpZCBkZWZhdWx0IHByb3BlcnR5IHN0aWxsIHRocm93cyBUeXBlRXJyb3JcIik7XHJcblxyXG59KTtcclxuXHJcblFVbml0LnRlc3QoXCJCYXNpYyBtb2RlbCBBc3NlcnRpb25zXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcclxuXHJcblx0ZnVuY3Rpb24gaXNPZGQobikge1xyXG5cdFx0cmV0dXJuIG4gJSAyID09PSAxO1xyXG5cdH1cclxuXHJcblx0Y29uc3QgT2RkTnVtYmVyID0gQmFzaWNNb2RlbChOdW1iZXIpLmFzc2VydChpc09kZCk7XHJcblx0YXNzZXJ0LnN0cmljdEVxdWFsKE9kZE51bWJlcigxNyksIDE3LCBcInBhc3NpbmcgYXNzZXJ0aW9uIG9uIGJhc2ljIG1vZGVsIDEvMlwiKTtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdE9kZE51bWJlcigxOClcclxuXHR9LCAvVHlwZUVycm9yW1xcc1xcU10qaXNPZGQvLCBcImZhaWxpbmcgYXNzZXJ0aW9uIG9uIGJhc2ljIG1vZGVsIDEvMlwiKTtcclxuXHJcblx0Y29uc3QgUmVhbE51bWJlciA9IEJhc2ljTW9kZWwoTnVtYmVyKS5hc3NlcnQoaXNGaW5pdGUpO1xyXG5cclxuXHRhc3NlcnQuZXF1YWwoUmVhbE51bWJlcihNYXRoLnNxcnQoMSkpLCAxLCBcInBhc3NpbmcgYXNzZXJ0aW9uIG9uIGJhc2ljIG1vZGVsIDIvMlwiKTtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdFJlYWxOdW1iZXIoTWF0aC5zcXJ0KC0xKSlcclxuXHR9LCAvVHlwZUVycm9yW1xcc1xcU10qaXNGaW5pdGUvLCBcImZhaWxpbmcgYXNzZXJ0aW9uIG9uIGJhc2ljIG1vZGVsIDIvMlwiKTtcclxuXHJcblx0ZnVuY3Rpb24gaXNQcmltZShuKSB7XHJcblx0XHRmb3IgKHZhciBpID0gMiwgbSA9IE1hdGguc3FydChuKTsgaSA8PSBtOyBpKyspIHtcclxuXHRcdFx0aWYgKG4gJSBpID09PSAwKSByZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdGNvbnN0IFByaW1lTnVtYmVyID0gUmVhbE51bWJlclxyXG5cdFx0LmV4dGVuZCgpIC8vIHRvIG5vdCBhZGQgbmV4dCBhc3NlcnRpb25zIHRvIFJlYWxOdW1iZXIgbW9kZWxcclxuXHRcdC5hc3NlcnQoTnVtYmVyLmlzSW50ZWdlcilcclxuXHRcdC5hc3NlcnQoaXNQcmltZSk7XHJcblxyXG5cdFByaW1lTnVtYmVyKDgzKTtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdFByaW1lTnVtYmVyKDg3KTtcclxuXHR9LCAvVHlwZUVycm9yW1xcc1xcU10qaXNQcmltZS8sIFwidGVzdCBtdWx0aXBsZSBhc3NlcnRpb25zIDFcIik7XHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRQcmltZU51bWJlcig3Ljc3KTtcclxuXHR9LCAvVHlwZUVycm9yW1xcc1xcU10qaXNJbnRlZ2VyLywgXCJ0ZXN0IG11bHRpcGxlIGFzc2VydGlvbnMgMlwiKTtcclxuXHJcblx0Y29uc3QgQXNzZXJ0QmFzaWMgPSBCYXNpY01vZGVsKE51bWJlcikuYXNzZXJ0KGZ1bmN0aW9uICh2KSB7XHJcblx0XHRyZXR1cm4gK3YudG9TdHJpbmcoKSA9PSB2XHJcblx0fSwgXCJtYXkgdGhyb3cgZXhjZXB0aW9uXCIpXHJcblxyXG5cdG5ldyBBc3NlcnRCYXNpYygwKTtcclxuXHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRcdG5ldyBBc3NlcnRCYXNpYygpO1xyXG5cdFx0fSxcclxuXHRcdC9hc3NlcnRpb24gXFxcIm1heSB0aHJvdyBleGNlcHRpb25cXFwiIHJldHVybmVkIFR5cGVFcnJvci4qZm9yIHZhbHVlIHVuZGVmaW5lZC8sXHJcblx0XHRcImFzc2VydGlvbnMgY2F0Y2ggZXhjZXB0aW9ucyBvbiBCYXNpYyBtb2RlbHNcIik7XHJcblxyXG59KTtcclxuXHJcblFVbml0LnRlc3QoXCJDdXN0b20gZXJyb3IgY29sbGVjdG9ycyBmb3IgYmFzaWMgbW9kZWxzXCIsIGZ1bmN0aW9uKGFzc2VydCkge1xyXG5cclxuXHRhc3NlcnQuZXhwZWN0KDEzKTtcclxuXHJcblx0Y29uc3QgZGVmYXVsdEVycm9yQ29sbGVjdG9yID0gQmFzaWNNb2RlbC5wcm90b3R5cGUuZXJyb3JDb2xsZWN0b3I7XHJcblx0YXNzZXJ0LmVxdWFsKHR5cGVvZiBkZWZhdWx0RXJyb3JDb2xsZWN0b3IsIFwiZnVuY3Rpb25cIiwgXCJCYXNpY01vZGVsIGhhcyBkZWZhdWx0IGVycm9yQ29sbGVjdG9yXCIpO1xyXG5cclxuXHRCYXNpY01vZGVsLnByb3RvdHlwZS5lcnJvckNvbGxlY3RvciA9IGZ1bmN0aW9uIChlcnJvcnMpIHtcclxuXHRcdGFzc2VydC5vayhlcnJvcnMubGVuZ3RoID09PSAxLCBcImNoZWNrIGVycm9ycy5sZW5ndGggZ2xvYmFsIGNvbGxlY3RvclwiKTtcclxuXHRcdGNvbnN0IGVyciA9IGVycm9yc1swXTtcclxuXHRcdGFzc2VydC5lcXVhbChlcnIuZXhwZWN0ZWQsIE51bWJlciwgXCJjaGVjayBlcnJvci5leHBlY3RlZCBnbG9iYWwgY29sbGVjdG9yXCIpO1xyXG5cdFx0YXNzZXJ0LmVxdWFsKGVyci5yZWNlaXZlZCwgXCJub3BlXCIsIFwiY2hlY2sgZXJyb3IucmVjZWl2ZWQgZ2xvYmFsIGNvbGxlY3RvclwiKTtcclxuXHRcdGFzc2VydC5lcXVhbChlcnIubWVzc2FnZSwgJ2V4cGVjdGluZyBOdW1iZXIsIGdvdCBTdHJpbmcgXCJub3BlXCInLCBcImNoZWNrIGVycm9yLm1lc3NhZ2UgZ2xvYmFsIGNvbGxlY3RvclwiKTtcclxuXHR9XHJcblxyXG5cdEJhc2ljTW9kZWwoTnVtYmVyKShcIm5vcGVcIik7XHJcblxyXG5cdEJhc2ljTW9kZWwucHJvdG90eXBlLmVycm9yQ29sbGVjdG9yID0gZnVuY3Rpb24gKGVycm9ycykge1xyXG5cdFx0YXNzZXJ0Lm9rKGVycm9ycy5sZW5ndGggPT09IDEsICdnbG9iYWwgY3VzdG9tIGNvbGxlY3RvciBhc3NlcnRpb24gZXJyb3IgY2F0Y2ggMS8yJyk7XHJcblx0XHRhc3NlcnQuZXF1YWwoZXJyb3JzWzBdLm1lc3NhZ2UsXHJcblx0XHRcdCdhc3NlcnRpb24gXFxcInNob3VsZG50IGJlIG5vcGVcXFwiIHJldHVybmVkIGZhbHNlIGZvciB2YWx1ZSBcXFwibm9wZVxcXCInLFxyXG5cdFx0XHQnZ2xvYmFsIGN1c3RvbSBjb2xsZWN0b3IgYXNzZXJ0aW9uIGVycm9yIGNhdGNoIDIvMicpO1xyXG5cdH1cclxuXHJcblx0QmFzaWNNb2RlbChTdHJpbmcpLmFzc2VydChmdW5jdGlvbiAocykge1xyXG5cdFx0cmV0dXJuIHMgIT09IFwibm9wZVwiXHJcblx0fSwgXCJzaG91bGRudCBiZSBub3BlXCIpKFwibm9wZVwiKTtcclxuXHJcblx0QmFzaWNNb2RlbChOdW1iZXIpLnZhbGlkYXRlKFwibm9wZVwiLCBmdW5jdGlvbihlcnJvcnMpe1xyXG5cdFx0YXNzZXJ0Lm9rKGVycm9ycy5sZW5ndGggPT09IDEsIFwiY2hlY2sgZXJyb3JzLmxlbmd0aCBjdXN0b20gY29sbGVjdG9yXCIpO1xyXG5cdFx0dmFyIGVyciA9IGVycm9yc1swXTtcclxuXHRcdGFzc2VydC5lcXVhbChlcnIuZXhwZWN0ZWQsIE51bWJlciwgXCJjaGVjayBlcnJvci5leHBlY3RlZCBjdXN0b20gY29sbGVjdG9yXCIpO1xyXG5cdFx0YXNzZXJ0LmVxdWFsKGVyci5yZWNlaXZlZCwgXCJub3BlXCIsIFwiY2hlY2sgZXJyb3IucmVjZWl2ZWQgY3VzdG9tIGNvbGxlY3RvclwiKTtcclxuXHRcdGFzc2VydC5lcXVhbChlcnIubWVzc2FnZSwgJ2V4cGVjdGluZyBOdW1iZXIsIGdvdCBTdHJpbmcgXCJub3BlXCInLCBcImNoZWNrIGVycm9yLm1lc3NhZ2UgY3VzdG9tIGNvbGxlY3RvclwiKTtcclxuXHR9KTtcclxuXHJcblx0QmFzaWNNb2RlbChTdHJpbmcpLmFzc2VydChmdW5jdGlvbihzKXsgcmV0dXJuIHMgIT09IFwibm9wZVwiIH0sIFwic2hvdWxkbnQgYmUgbm9wZVwiKVxyXG5cdFx0LnZhbGlkYXRlKFwibm9wZVwiLCBmdW5jdGlvbihlcnJvcnMpe1xyXG5cdFx0XHRhc3NlcnQub2soZXJyb3JzLmxlbmd0aCA9PT0gMSwgJ2xvY2FsIGN1c3RvbSBjb2xsZWN0b3IgYXNzZXJ0aW9uIGVycm9yIGNhdGNoIDEvMicpO1xyXG5cdFx0XHRhc3NlcnQuZXF1YWwoZXJyb3JzWzBdLm1lc3NhZ2UsXHJcblx0XHRcdFx0J2Fzc2VydGlvbiBcXFwic2hvdWxkbnQgYmUgbm9wZVxcXCIgcmV0dXJuZWQgZmFsc2UgZm9yIHZhbHVlIFxcXCJub3BlXFxcIicsXHJcblx0XHRcdFx0J2xvY2FsIGN1c3RvbSBjb2xsZWN0b3IgYXNzZXJ0aW9uIGVycm9yIGNhdGNoIDIvMicpO1xyXG5cdFx0fSk7XHJcblxyXG5cdEJhc2ljTW9kZWwucHJvdG90eXBlLmVycm9yQ29sbGVjdG9yID0gZGVmYXVsdEVycm9yQ29sbGVjdG9yO1xyXG5cclxufSk7XHJcblxyXG5RVW5pdC50ZXN0KFwiRXh0ZW5zaW9uc1wiLCBmdW5jdGlvbihhc3NlcnQpe1xyXG5cclxuXHR2YXIgUG9zaXRpdmVJbnRlZ2VyID0gQmFzaWNNb2RlbChOdW1iZXIpXHJcblx0XHQuYXNzZXJ0KE51bWJlci5pc0ludGVnZXIpXHJcblx0XHQuYXNzZXJ0KG4gPT4gbiA+PSAwLCBcInNob3VsZCBiZSBncmVhdGVyIG9yIGVxdWFsIHRvIHplcm9cIilcclxuXHJcblx0ZnVuY3Rpb24gaXNQcmltZShuKSB7XHJcblx0XHRmb3IgKHZhciBpPTIsIG09TWF0aC5zcXJ0KG4pOyBpIDw9IG0gOyBpKyspe1xyXG5cdFx0XHRpZihuJWkgPT09IDApIHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBuID4gMTtcclxuXHR9XHJcblxyXG5cdHZhciBQcmltZU51bWJlciA9IFBvc2l0aXZlSW50ZWdlci5leHRlbmQoKS5hc3NlcnQoaXNQcmltZSk7XHJcblxyXG5cdGFzc2VydC5lcXVhbChQcmltZU51bWJlci5kZWZpbml0aW9uLCBOdW1iZXIsIFwiRXh0ZW5zaW9uIHJldHJpZXZlIG9yaWdpbmFsIGRlZmluaXRpb25cIik7XHJcblx0YXNzZXJ0LmVxdWFsKFByaW1lTnVtYmVyLmFzc2VydGlvbnMubGVuZ3RoLCAzLCBcIkV4dGVuc2lvbiBjYW4gYWRkIGFzc2VydGlvbnNcIik7XHJcblx0YXNzZXJ0LmVxdWFsKFBvc2l0aXZlSW50ZWdlci5hc3NlcnRpb25zLmxlbmd0aCwgMiwgXCJFeHRlbnNpb24gYXNzZXJ0aW9ucyBhcmUgbm90IGFkZGVkIHRvIG9yaWdpbmFsIG1vZGVsXCIpO1xyXG5cclxufSlcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3Rlc3QvYmFzaWMtbW9kZWwuc3BlYy5qc1xuLy8gbW9kdWxlIGlkID0gN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 8 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__src_index__ = __webpack_require__(3);\n\n\nQUnit.module(\"Function Models\");\n\nQUnit.test(\"Function models constructor && proto\", function (assert) {\n\n\tassert.equal(typeof __WEBPACK_IMPORTED_MODULE_0__src_index__[\"e\" /* FunctionModel */], \"function\", \"FunctionModel is defined\");\n\n\tconst Operation = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"e\" /* FunctionModel */])(Number, Number).return(Number);\n\n\tassert.ok(Operation instanceof __WEBPACK_IMPORTED_MODULE_0__src_index__[\"e\" /* FunctionModel */], \"model instance of FunctionModel\");\n\n\tassert.ok(typeof Operation.extend === \"function\", \"test Function model method extend\");\n\tassert.ok(typeof Operation.assert === \"function\", \"test Function model method assert\");\n\tassert.ok(typeof Operation.test === \"function\", \"test Function model method test\");\n\tassert.ok(typeof Operation.validate === \"function\", \"test Function model method validate\");\n\tassert.ok(typeof Operation.return === \"function\", \"test Function model method return\");\n\tassert.equal(Operation.definition.arguments.map(a => a.name).join(','),\n\t\t'Number,Number', \"test Function model prop definition\");\n\tassert.ok(Operation.definition.return === Number, \"test Function model prop return\");\n\tassert.ok(typeof Operation.assertions === \"object\", \"test Function model prop assertions\");\n\n});\n\nQUnit.test(\"Function models instanciation and controls\", function (assert) {\n\n\tconst op = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"e\" /* FunctionModel */])(Number, Number).return(Number);\n\n\tconst add = op(function (a, b) { return a + b; });\n\tconst add3 = op(function (a, b, c) { return a + b + c; });\n\tconst noop = op(function () { return undefined; });\n\tconst addStr = op(function (a, b) { return String(a) + String(b); });\n\n\tassert.ok(add instanceof Function && add instanceof op, \"fn instanceof functionModel and Function\");\n\n\tassert.equal(add(15, 25), 40, \"valid function model call\");\n\tassert.throws(function () {\n\t\tadd(15)\n\t}, /TypeError/, \"too few arguments\");\n\tassert.throws(function () {\n\t\tadd3(15, 25, 42)\n\t}, /TypeError/, \"too much arguments\");\n\tassert.throws(function () {\n\t\tnoop(15, 25)\n\t}, /TypeError/, \"no return\");\n\tassert.throws(function () {\n\t\taddStr(15, 25)\n\t}, /TypeError/, \"incorrect return type\");\n\n});\n\nQUnit.test(\"Function models as object models methods\", function (assert) {\n\n\tconst Person = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\n\t\tname: String,\n\t\tage: Number,\n\t\t// function without arguments returning a String\n\t\tsayMyName: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"e\" /* FunctionModel */])().return(String)\n\t}).defaults({\n\t\tsayMyName: function () {\n\t\t\treturn \"my name is \" + this.name;\n\t\t}\n\t});\n\n\tconst greetFnModel = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"e\" /* FunctionModel */])(Person).return(String);\n\n\tPerson.prototype.greet = greetFnModel(function (otherguy) {\n\t\treturn \"Hello \" + otherguy.name + \", \" + this.sayMyName();\n\t});\n\n\tconst joe = new Person({name: \"Joe\", age: 28});\n\tconst ann = new Person({name: \"Ann\", age: 23});\n\n\tassert.equal(joe.sayMyName(), \"my name is Joe\", \"valid function model method call 1/2\");\n\tassert.equal(joe.greet(ann), \"Hello Ann, my name is Joe\", \"valid function model method call 2/2\");\n\n\tassert.throws(function () {\n\t\tjoe.greet(\"dog\");\n\t}, /TypeError/, \"invalid argument type\");\n\n});\n\nQUnit.test(\"Function model defaults arguments & arguments control\", function (assert) {\n\n\tconst Calculator = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"e\" /* FunctionModel */])(Number, [\"+\", \"-\", \"*\", \"/\", undefined], [Number])\n\t\t.return(Number);\n\n\tconst calc = new Calculator(function (a=0, operator='+', b=1) {\n\t\treturn eval(a + operator + b);\n\t});\n\n\tassert.equal(calc(3, \"+\"), 4, \"default argument value\");\n\tassert.equal(calc(41), 42, \"defaults arguments values\");\n\tassert.throws(function () {\n\t\tcalc(6, \"*\", false);\n\t}, /TypeError/, \"invalid argument type\");\n\n});\n\nQUnit.test(\"Function model with other models & objects as arguments\", function (assert) {\n\n\tconst api = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"e\" /* FunctionModel */])({\n\t\tlist: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])(Number),\n\t\top: [\"sum\", \"product\"]\n\t})(function (options) {\n\t\treturn options.list.reduce(function (a, b) {\n\t\t\tswitch (options.op) {\n\t\t\t\tcase \"sum\":\n\t\t\t\t\treturn a + b;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"product\":\n\t\t\t\t\treturn a * b;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}, options.op === \"product\" ? 1 : 0);\n\t});\n\n\tassert.equal(api({list: [1, 2, 3, 4], op: \"sum\"}), 10, \"FunctionModel object argument 1/5\");\n\tassert.equal(api({list: [1, 2, 3, 4], op: \"product\"}), 24, \"FunctionModel object argument 2/5\");\n\tassert.throws(function () {\n\t\tapi({list: [1, 2, \"3\", 4], op: \"product\"});\n\t}, /TypeError/, \"FunctionModel object argument 3/5\");\n\tassert.throws(function () {\n\t\tapi({list: [1, 2, 3, 4], op: \"divide\"});\n\t}, /TypeError/, \"FunctionModel object argument 4/5\");\n\tassert.throws(function () {\n\t\tapi({list: [1, 2, 3, 4]});\n\t}, /TypeError/, \"FunctionModel object argument 5/5\");\n\n\tassert.ok(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"e\" /* FunctionModel */])() instanceof __WEBPACK_IMPORTED_MODULE_0__src_index__[\"e\" /* FunctionModel */], \"FunctionModel does not throw when receiving no arguments\");\n\n});\n\nQUnit.test(\"Function model defaultTo\", function (assert) {\n\n\tconst yell = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"e\" /* FunctionModel */])(String).return(String).defaultTo(s => s.toUpperCase());\n\n\tassert.strictEqual(yell()(\"yo!\"), \"YO!\", \"Function model default value\");\n\tassert.throws(function () {\n\t\tyell()(42)\n\t}, /TypeError.*got Number 42/, \"invalid arguments still throws TypeError for defaulted function models\");\n\n\tyell.default = function (s) {\n\t\treturn s.length\n\t};\n\n\tassert.throws(function () {\n\t\tyell()(\"yo!\")\n\t}, /TypeError.*got Number 3/, \"invalid default property still throws TypeError for function models\");\n\n});\n\nQUnit.test(\"Automatic model casting with Function models\", function (assert) {\n\n\tconst N = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({ x: Number, y: [Number] }).defaults({ x: 5, y: 7 });\n\tconst F = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"e\" /* FunctionModel */])(N, N).return(N);\n\tconst f = F(function(a,b){ return { x: a.x+b.x, y: a.y+b.y } });\n\tconst returnValue = f({ x: 1 }, { x: 2 });\n\n\tassert.ok(returnValue instanceof N, \"test automatic model casting with return value\");\n\tassert.equal(returnValue.x, 3, \"test automatic casting with function args 1/2\");\n\tassert.equal(returnValue.y, 14, \"test automatic casting with function args 2/2\");\n\n})//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3Rlc3QvZnVuY3Rpb24tbW9kZWwuc3BlYy5qcz9lNTRkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7RnVuY3Rpb25Nb2RlbCwgT2JqZWN0TW9kZWwsIEFycmF5TW9kZWx9IGZyb20gXCIuLi9zcmMvaW5kZXhcIjtcblxuUVVuaXQubW9kdWxlKFwiRnVuY3Rpb24gTW9kZWxzXCIpO1xuXG5RVW5pdC50ZXN0KFwiRnVuY3Rpb24gbW9kZWxzIGNvbnN0cnVjdG9yICYmIHByb3RvXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcblxuXHRhc3NlcnQuZXF1YWwodHlwZW9mIEZ1bmN0aW9uTW9kZWwsIFwiZnVuY3Rpb25cIiwgXCJGdW5jdGlvbk1vZGVsIGlzIGRlZmluZWRcIik7XG5cblx0Y29uc3QgT3BlcmF0aW9uID0gRnVuY3Rpb25Nb2RlbChOdW1iZXIsIE51bWJlcikucmV0dXJuKE51bWJlcik7XG5cblx0YXNzZXJ0Lm9rKE9wZXJhdGlvbiBpbnN0YW5jZW9mIEZ1bmN0aW9uTW9kZWwsIFwibW9kZWwgaW5zdGFuY2Ugb2YgRnVuY3Rpb25Nb2RlbFwiKTtcblxuXHRhc3NlcnQub2sodHlwZW9mIE9wZXJhdGlvbi5leHRlbmQgPT09IFwiZnVuY3Rpb25cIiwgXCJ0ZXN0IEZ1bmN0aW9uIG1vZGVsIG1ldGhvZCBleHRlbmRcIik7XG5cdGFzc2VydC5vayh0eXBlb2YgT3BlcmF0aW9uLmFzc2VydCA9PT0gXCJmdW5jdGlvblwiLCBcInRlc3QgRnVuY3Rpb24gbW9kZWwgbWV0aG9kIGFzc2VydFwiKTtcblx0YXNzZXJ0Lm9rKHR5cGVvZiBPcGVyYXRpb24udGVzdCA9PT0gXCJmdW5jdGlvblwiLCBcInRlc3QgRnVuY3Rpb24gbW9kZWwgbWV0aG9kIHRlc3RcIik7XG5cdGFzc2VydC5vayh0eXBlb2YgT3BlcmF0aW9uLnZhbGlkYXRlID09PSBcImZ1bmN0aW9uXCIsIFwidGVzdCBGdW5jdGlvbiBtb2RlbCBtZXRob2QgdmFsaWRhdGVcIik7XG5cdGFzc2VydC5vayh0eXBlb2YgT3BlcmF0aW9uLnJldHVybiA9PT0gXCJmdW5jdGlvblwiLCBcInRlc3QgRnVuY3Rpb24gbW9kZWwgbWV0aG9kIHJldHVyblwiKTtcblx0YXNzZXJ0LmVxdWFsKE9wZXJhdGlvbi5kZWZpbml0aW9uLmFyZ3VtZW50cy5tYXAoYSA9PiBhLm5hbWUpLmpvaW4oJywnKSxcblx0XHQnTnVtYmVyLE51bWJlcicsIFwidGVzdCBGdW5jdGlvbiBtb2RlbCBwcm9wIGRlZmluaXRpb25cIik7XG5cdGFzc2VydC5vayhPcGVyYXRpb24uZGVmaW5pdGlvbi5yZXR1cm4gPT09IE51bWJlciwgXCJ0ZXN0IEZ1bmN0aW9uIG1vZGVsIHByb3AgcmV0dXJuXCIpO1xuXHRhc3NlcnQub2sodHlwZW9mIE9wZXJhdGlvbi5hc3NlcnRpb25zID09PSBcIm9iamVjdFwiLCBcInRlc3QgRnVuY3Rpb24gbW9kZWwgcHJvcCBhc3NlcnRpb25zXCIpO1xuXG59KTtcblxuUVVuaXQudGVzdChcIkZ1bmN0aW9uIG1vZGVscyBpbnN0YW5jaWF0aW9uIGFuZCBjb250cm9sc1wiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XG5cblx0Y29uc3Qgb3AgPSBGdW5jdGlvbk1vZGVsKE51bWJlciwgTnVtYmVyKS5yZXR1cm4oTnVtYmVyKTtcblxuXHRjb25zdCBhZGQgPSBvcChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYSArIGI7IH0pO1xuXHRjb25zdCBhZGQzID0gb3AoZnVuY3Rpb24gKGEsIGIsIGMpIHsgcmV0dXJuIGEgKyBiICsgYzsgfSk7XG5cdGNvbnN0IG5vb3AgPSBvcChmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0pO1xuXHRjb25zdCBhZGRTdHIgPSBvcChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gU3RyaW5nKGEpICsgU3RyaW5nKGIpOyB9KTtcblxuXHRhc3NlcnQub2soYWRkIGluc3RhbmNlb2YgRnVuY3Rpb24gJiYgYWRkIGluc3RhbmNlb2Ygb3AsIFwiZm4gaW5zdGFuY2VvZiBmdW5jdGlvbk1vZGVsIGFuZCBGdW5jdGlvblwiKTtcblxuXHRhc3NlcnQuZXF1YWwoYWRkKDE1LCAyNSksIDQwLCBcInZhbGlkIGZ1bmN0aW9uIG1vZGVsIGNhbGxcIik7XG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xuXHRcdGFkZCgxNSlcblx0fSwgL1R5cGVFcnJvci8sIFwidG9vIGZldyBhcmd1bWVudHNcIik7XG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xuXHRcdGFkZDMoMTUsIDI1LCA0Milcblx0fSwgL1R5cGVFcnJvci8sIFwidG9vIG11Y2ggYXJndW1lbnRzXCIpO1xuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcblx0XHRub29wKDE1LCAyNSlcblx0fSwgL1R5cGVFcnJvci8sIFwibm8gcmV0dXJuXCIpO1xuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcblx0XHRhZGRTdHIoMTUsIDI1KVxuXHR9LCAvVHlwZUVycm9yLywgXCJpbmNvcnJlY3QgcmV0dXJuIHR5cGVcIik7XG5cbn0pO1xuXG5RVW5pdC50ZXN0KFwiRnVuY3Rpb24gbW9kZWxzIGFzIG9iamVjdCBtb2RlbHMgbWV0aG9kc1wiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XG5cblx0Y29uc3QgUGVyc29uID0gT2JqZWN0TW9kZWwoe1xuXHRcdG5hbWU6IFN0cmluZyxcblx0XHRhZ2U6IE51bWJlcixcblx0XHQvLyBmdW5jdGlvbiB3aXRob3V0IGFyZ3VtZW50cyByZXR1cm5pbmcgYSBTdHJpbmdcblx0XHRzYXlNeU5hbWU6IEZ1bmN0aW9uTW9kZWwoKS5yZXR1cm4oU3RyaW5nKVxuXHR9KS5kZWZhdWx0cyh7XG5cdFx0c2F5TXlOYW1lOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gXCJteSBuYW1lIGlzIFwiICsgdGhpcy5uYW1lO1xuXHRcdH1cblx0fSk7XG5cblx0Y29uc3QgZ3JlZXRGbk1vZGVsID0gRnVuY3Rpb25Nb2RlbChQZXJzb24pLnJldHVybihTdHJpbmcpO1xuXG5cdFBlcnNvbi5wcm90b3R5cGUuZ3JlZXQgPSBncmVldEZuTW9kZWwoZnVuY3Rpb24gKG90aGVyZ3V5KSB7XG5cdFx0cmV0dXJuIFwiSGVsbG8gXCIgKyBvdGhlcmd1eS5uYW1lICsgXCIsIFwiICsgdGhpcy5zYXlNeU5hbWUoKTtcblx0fSk7XG5cblx0Y29uc3Qgam9lID0gbmV3IFBlcnNvbih7bmFtZTogXCJKb2VcIiwgYWdlOiAyOH0pO1xuXHRjb25zdCBhbm4gPSBuZXcgUGVyc29uKHtuYW1lOiBcIkFublwiLCBhZ2U6IDIzfSk7XG5cblx0YXNzZXJ0LmVxdWFsKGpvZS5zYXlNeU5hbWUoKSwgXCJteSBuYW1lIGlzIEpvZVwiLCBcInZhbGlkIGZ1bmN0aW9uIG1vZGVsIG1ldGhvZCBjYWxsIDEvMlwiKTtcblx0YXNzZXJ0LmVxdWFsKGpvZS5ncmVldChhbm4pLCBcIkhlbGxvIEFubiwgbXkgbmFtZSBpcyBKb2VcIiwgXCJ2YWxpZCBmdW5jdGlvbiBtb2RlbCBtZXRob2QgY2FsbCAyLzJcIik7XG5cblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XG5cdFx0am9lLmdyZWV0KFwiZG9nXCIpO1xuXHR9LCAvVHlwZUVycm9yLywgXCJpbnZhbGlkIGFyZ3VtZW50IHR5cGVcIik7XG5cbn0pO1xuXG5RVW5pdC50ZXN0KFwiRnVuY3Rpb24gbW9kZWwgZGVmYXVsdHMgYXJndW1lbnRzICYgYXJndW1lbnRzIGNvbnRyb2xcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xuXG5cdGNvbnN0IENhbGN1bGF0b3IgPSBGdW5jdGlvbk1vZGVsKE51bWJlciwgW1wiK1wiLCBcIi1cIiwgXCIqXCIsIFwiL1wiLCB1bmRlZmluZWRdLCBbTnVtYmVyXSlcblx0XHQucmV0dXJuKE51bWJlcik7XG5cblx0Y29uc3QgY2FsYyA9IG5ldyBDYWxjdWxhdG9yKGZ1bmN0aW9uIChhPTAsIG9wZXJhdG9yPScrJywgYj0xKSB7XG5cdFx0cmV0dXJuIGV2YWwoYSArIG9wZXJhdG9yICsgYik7XG5cdH0pO1xuXG5cdGFzc2VydC5lcXVhbChjYWxjKDMsIFwiK1wiKSwgNCwgXCJkZWZhdWx0IGFyZ3VtZW50IHZhbHVlXCIpO1xuXHRhc3NlcnQuZXF1YWwoY2FsYyg0MSksIDQyLCBcImRlZmF1bHRzIGFyZ3VtZW50cyB2YWx1ZXNcIik7XG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xuXHRcdGNhbGMoNiwgXCIqXCIsIGZhbHNlKTtcblx0fSwgL1R5cGVFcnJvci8sIFwiaW52YWxpZCBhcmd1bWVudCB0eXBlXCIpO1xuXG59KTtcblxuUVVuaXQudGVzdChcIkZ1bmN0aW9uIG1vZGVsIHdpdGggb3RoZXIgbW9kZWxzICYgb2JqZWN0cyBhcyBhcmd1bWVudHNcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xuXG5cdGNvbnN0IGFwaSA9IEZ1bmN0aW9uTW9kZWwoe1xuXHRcdGxpc3Q6IEFycmF5TW9kZWwoTnVtYmVyKSxcblx0XHRvcDogW1wic3VtXCIsIFwicHJvZHVjdFwiXVxuXHR9KShmdW5jdGlvbiAob3B0aW9ucykge1xuXHRcdHJldHVybiBvcHRpb25zLmxpc3QucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7XG5cdFx0XHRzd2l0Y2ggKG9wdGlvbnMub3ApIHtcblx0XHRcdFx0Y2FzZSBcInN1bVwiOlxuXHRcdFx0XHRcdHJldHVybiBhICsgYjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcInByb2R1Y3RcIjpcblx0XHRcdFx0XHRyZXR1cm4gYSAqIGI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fSwgb3B0aW9ucy5vcCA9PT0gXCJwcm9kdWN0XCIgPyAxIDogMCk7XG5cdH0pO1xuXG5cdGFzc2VydC5lcXVhbChhcGkoe2xpc3Q6IFsxLCAyLCAzLCA0XSwgb3A6IFwic3VtXCJ9KSwgMTAsIFwiRnVuY3Rpb25Nb2RlbCBvYmplY3QgYXJndW1lbnQgMS81XCIpO1xuXHRhc3NlcnQuZXF1YWwoYXBpKHtsaXN0OiBbMSwgMiwgMywgNF0sIG9wOiBcInByb2R1Y3RcIn0pLCAyNCwgXCJGdW5jdGlvbk1vZGVsIG9iamVjdCBhcmd1bWVudCAyLzVcIik7XG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xuXHRcdGFwaSh7bGlzdDogWzEsIDIsIFwiM1wiLCA0XSwgb3A6IFwicHJvZHVjdFwifSk7XG5cdH0sIC9UeXBlRXJyb3IvLCBcIkZ1bmN0aW9uTW9kZWwgb2JqZWN0IGFyZ3VtZW50IDMvNVwiKTtcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XG5cdFx0YXBpKHtsaXN0OiBbMSwgMiwgMywgNF0sIG9wOiBcImRpdmlkZVwifSk7XG5cdH0sIC9UeXBlRXJyb3IvLCBcIkZ1bmN0aW9uTW9kZWwgb2JqZWN0IGFyZ3VtZW50IDQvNVwiKTtcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XG5cdFx0YXBpKHtsaXN0OiBbMSwgMiwgMywgNF19KTtcblx0fSwgL1R5cGVFcnJvci8sIFwiRnVuY3Rpb25Nb2RlbCBvYmplY3QgYXJndW1lbnQgNS81XCIpO1xuXG5cdGFzc2VydC5vayhGdW5jdGlvbk1vZGVsKCkgaW5zdGFuY2VvZiBGdW5jdGlvbk1vZGVsLCBcIkZ1bmN0aW9uTW9kZWwgZG9lcyBub3QgdGhyb3cgd2hlbiByZWNlaXZpbmcgbm8gYXJndW1lbnRzXCIpO1xuXG59KTtcblxuUVVuaXQudGVzdChcIkZ1bmN0aW9uIG1vZGVsIGRlZmF1bHRUb1wiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XG5cblx0Y29uc3QgeWVsbCA9IEZ1bmN0aW9uTW9kZWwoU3RyaW5nKS5yZXR1cm4oU3RyaW5nKS5kZWZhdWx0VG8ocyA9PiBzLnRvVXBwZXJDYXNlKCkpO1xuXG5cdGFzc2VydC5zdHJpY3RFcXVhbCh5ZWxsKCkoXCJ5byFcIiksIFwiWU8hXCIsIFwiRnVuY3Rpb24gbW9kZWwgZGVmYXVsdCB2YWx1ZVwiKTtcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XG5cdFx0eWVsbCgpKDQyKVxuXHR9LCAvVHlwZUVycm9yLipnb3QgTnVtYmVyIDQyLywgXCJpbnZhbGlkIGFyZ3VtZW50cyBzdGlsbCB0aHJvd3MgVHlwZUVycm9yIGZvciBkZWZhdWx0ZWQgZnVuY3Rpb24gbW9kZWxzXCIpO1xuXG5cdHllbGwuZGVmYXVsdCA9IGZ1bmN0aW9uIChzKSB7XG5cdFx0cmV0dXJuIHMubGVuZ3RoXG5cdH07XG5cblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XG5cdFx0eWVsbCgpKFwieW8hXCIpXG5cdH0sIC9UeXBlRXJyb3IuKmdvdCBOdW1iZXIgMy8sIFwiaW52YWxpZCBkZWZhdWx0IHByb3BlcnR5IHN0aWxsIHRocm93cyBUeXBlRXJyb3IgZm9yIGZ1bmN0aW9uIG1vZGVsc1wiKTtcblxufSk7XG5cblFVbml0LnRlc3QoXCJBdXRvbWF0aWMgbW9kZWwgY2FzdGluZyB3aXRoIEZ1bmN0aW9uIG1vZGVsc1wiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XG5cblx0Y29uc3QgTiA9IE9iamVjdE1vZGVsKHsgeDogTnVtYmVyLCB5OiBbTnVtYmVyXSB9KS5kZWZhdWx0cyh7IHg6IDUsIHk6IDcgfSk7XG5cdGNvbnN0IEYgPSBGdW5jdGlvbk1vZGVsKE4sIE4pLnJldHVybihOKTtcblx0Y29uc3QgZiA9IEYoZnVuY3Rpb24oYSxiKXsgcmV0dXJuIHsgeDogYS54K2IueCwgeTogYS55K2IueSB9IH0pO1xuXHRjb25zdCByZXR1cm5WYWx1ZSA9IGYoeyB4OiAxIH0sIHsgeDogMiB9KTtcblxuXHRhc3NlcnQub2socmV0dXJuVmFsdWUgaW5zdGFuY2VvZiBOLCBcInRlc3QgYXV0b21hdGljIG1vZGVsIGNhc3Rpbmcgd2l0aCByZXR1cm4gdmFsdWVcIik7XG5cdGFzc2VydC5lcXVhbChyZXR1cm5WYWx1ZS54LCAzLCBcInRlc3QgYXV0b21hdGljIGNhc3Rpbmcgd2l0aCBmdW5jdGlvbiBhcmdzIDEvMlwiKTtcblx0YXNzZXJ0LmVxdWFsKHJldHVyblZhbHVlLnksIDE0LCBcInRlc3QgYXV0b21hdGljIGNhc3Rpbmcgd2l0aCBmdW5jdGlvbiBhcmdzIDIvMlwiKTtcblxufSlcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3Rlc3QvZnVuY3Rpb24tbW9kZWwuc3BlYy5qc1xuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 9 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__src_index__ = __webpack_require__(3);\n\r\n\r\nQUnit.module(\"Generic Model\");\r\n\r\nQUnit.test(\"Generic models constructor && proto are correctly defined\", function (assert) {\r\n\tassert.ok(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* Model */] instanceof Function, \"Model is defined\");\r\n\r\n\tassert.ok(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* Model */])(Number) instanceof __WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* BasicModel */], \"test model constructor 1/4\");\r\n\tassert.ok(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* Model */])({}) instanceof __WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */], \"test model constructor 2/4\");\r\n\tassert.ok(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* Model */])([]) instanceof __WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* BasicModel */], \"test model constructor 3/4\");\r\n\tassert.ok(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* Model */])() instanceof __WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* BasicModel */], \"test model constructor 4/4\");\r\n});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3Rlc3QvbW9kZWwuc3BlYy5qcz80NTQ0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7TW9kZWwsIEJhc2ljTW9kZWwsIE9iamVjdE1vZGVsfSBmcm9tIFwiLi4vc3JjL2luZGV4XCI7XHJcblxyXG5RVW5pdC5tb2R1bGUoXCJHZW5lcmljIE1vZGVsXCIpO1xyXG5cclxuUVVuaXQudGVzdChcIkdlbmVyaWMgbW9kZWxzIGNvbnN0cnVjdG9yICYmIHByb3RvIGFyZSBjb3JyZWN0bHkgZGVmaW5lZFwiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XHJcblx0YXNzZXJ0Lm9rKE1vZGVsIGluc3RhbmNlb2YgRnVuY3Rpb24sIFwiTW9kZWwgaXMgZGVmaW5lZFwiKTtcclxuXHJcblx0YXNzZXJ0Lm9rKE1vZGVsKE51bWJlcikgaW5zdGFuY2VvZiBCYXNpY01vZGVsLCBcInRlc3QgbW9kZWwgY29uc3RydWN0b3IgMS80XCIpO1xyXG5cdGFzc2VydC5vayhNb2RlbCh7fSkgaW5zdGFuY2VvZiBPYmplY3RNb2RlbCwgXCJ0ZXN0IG1vZGVsIGNvbnN0cnVjdG9yIDIvNFwiKTtcclxuXHRhc3NlcnQub2soTW9kZWwoW10pIGluc3RhbmNlb2YgQmFzaWNNb2RlbCwgXCJ0ZXN0IG1vZGVsIGNvbnN0cnVjdG9yIDMvNFwiKTtcclxuXHRhc3NlcnQub2soTW9kZWwoKSBpbnN0YW5jZW9mIEJhc2ljTW9kZWwsIFwidGVzdCBtb2RlbCBjb25zdHJ1Y3RvciA0LzRcIik7XHJcbn0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vdGVzdC9tb2RlbC5zcGVjLmpzXG4vLyBtb2R1bGUgaWQgPSA5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 10 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__src_index__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mocks_console__ = __webpack_require__(15);\n\r\n\r\n\r\nQUnit.module(\"Object Models\");\r\n\r\nQUnit.test(\"Object model constructor && proto\", function (assert) {\r\n\r\n\tassert.ok(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */] instanceof Function, \"ObjectModel instanceof Function\");\r\n\r\n\tconst EmptyObjectModel = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({});\r\n\r\n\tassert.ok(typeof EmptyObjectModel.extend === \"function\", \"test object model method extend\");\r\n\tassert.ok(typeof EmptyObjectModel.assert === \"function\", \"test object model method assert\");\r\n\tassert.ok(typeof EmptyObjectModel.test === \"function\", \"test object model method test\");\r\n\tassert.ok(typeof EmptyObjectModel.validate === \"function\", \"test object model method validate\");\r\n\tassert.ok(typeof EmptyObjectModel.definition === \"object\", \"test object model prop definition\");\r\n\tassert.ok(typeof EmptyObjectModel.assertions === \"object\", \"test object model prop assertions\");\r\n\r\n\tconst EmptyObjectModelThroughConstructor = new __WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */]({});\r\n\r\n\tassert.ok(typeof EmptyObjectModelThroughConstructor.extend === \"function\", \"test new model method extend\");\r\n\tassert.ok(typeof EmptyObjectModelThroughConstructor.assert === \"function\", \"test new model method assert\");\r\n\tassert.ok(typeof EmptyObjectModelThroughConstructor.test === \"function\", \"test new model method test\");\r\n\tassert.ok(typeof EmptyObjectModelThroughConstructor.validate === \"function\", \"test new model method validate\");\r\n\tassert.ok(typeof EmptyObjectModelThroughConstructor.definition === \"object\", \"test new model prop definition\");\r\n\tassert.ok(typeof EmptyObjectModelThroughConstructor.assertions === \"object\", \"test new model prop assertions\");\r\n})\r\n\r\nQUnit.test(\"Object model behaviour for properties\", function (assert) {\r\n\tvar Person = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\r\n\t\tname: String,\r\n\t\tage: Number,\r\n\t\tbirth: Date,\r\n\t\tfemale: [Boolean],\r\n\t\taddress: {\r\n\t\t\twork: {\r\n\t\t\t\tcity: [String]\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tvar joe = Person({\r\n\t\tname: \"Joe\",\r\n\t\tage: 42,\r\n\t\tbirth: new Date(1990, 3, 25),\r\n\t\tfemale: false,\r\n\t\taddress: {\r\n\t\t\twork: {\r\n\t\t\t\tcity: \"Lille\"\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tassert.strictEqual(joe.name, \"Joe\", \"String property retrieved\");\r\n\tassert.strictEqual(joe.age, 42, \"Number property retrieved\");\r\n\tassert.strictEqual(joe.female, false, \"Boolean property retrieved\");\r\n\tassert.equal(+joe.birth, +(new Date(1990, 3, 25)), \"Date property retrieved\");\r\n\tassert.strictEqual(joe.address.work.city, \"Lille\", \"nested property retrieved\");\r\n\tassert.ok(joe instanceof Person && joe instanceof Object, \"instance is instanceof model and Object\");\r\n\tassert.ok(Person instanceof __WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */], \"model is instanceof ObjectModel\");\r\n\r\n\tjoe.name = \"Big Joe\";\r\n\tjoe.age++;\r\n\tjoe.birth = new Date(1990, 3, 26);\r\n\tdelete joe.female;\r\n\r\n\tassert.throws(function () {\r\n\t\tjoe.name = 42;\r\n\t}, /TypeError.*got Number 42/, \"invalid Number set\");\r\n\tassert.throws(function () {\r\n\t\tjoe.age = true;\r\n\t}, /TypeError.*got Boolean true/, \"invalid Boolean set\");\r\n\tassert.throws(function () {\r\n\t\tjoe.birth = function () {\r\n\t\t};\r\n\t}, /TypeError.*got Function/, \"invalid Function set\");\r\n\tassert.throws(function () {\r\n\t\tjoe.female = \"nope\";\r\n\t}, /TypeError.*got String \"nope\"/, \"invalid String set\");\r\n\tassert.throws(function () {\r\n\t\tjoe.address.work.city = [];\r\n\t}, /TypeError.*got Array/, \"invalid Array set\");\r\n\tassert.throws(function () {\r\n\t\tjoe.address.work = {city: 42};\r\n\t}, /TypeError.*got Number 42/, \"invalid Object set\");\r\n\tassert.throws(function () {\r\n\t\t\tjoe = Person({\r\n\t\t\t\tname: \"Joe\",\r\n\t\t\t\tage: 42,\r\n\t\t\t\tbirth: new Date(1990, 3, 25),\r\n\t\t\t\tfemale: \"false\"\r\n\t\t\t});\r\n\t\t}, /TypeError.*expecting female to be Boolean.*got String \"false\"/,\r\n\t\t\"invalid prop at object model instanciation\"\r\n\t);\r\n\r\n\tjoe = Person({\r\n\t\tname: \"Joe\",\r\n\t\tage: 42,\r\n\t\tbirth: new Date(1990, 3, 25),\r\n\t\tfemale: false,\r\n\t\taddress: {\r\n\t\t\twork: {\r\n\t\t\t\tcity: \"Lille\"\r\n\t\t\t}\r\n\t\t},\r\n\t\tjob: \"Taxi\"\r\n\t});\r\n\r\n\tassert.strictEqual(joe.job, \"Taxi\", \"Properties out of model definition are kept but are not validated\");\r\n\r\n\tassert.throws(function () {\r\n\t\tPerson({\r\n\t\t\tname: false,\r\n\t\t\tage: [42],\r\n\t\t\tbirth: \"nope\",\r\n\t\t\tfemale: null,\r\n\t\t\taddress: {\r\n\t\t\t\twork: {\r\n\t\t\t\t\tcity: true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}, function (err) {\r\n\t\treturn /TypeError/.test(err.toString())\r\n\t\t\t&& /name/.test(err.toString())\r\n\t\t\t&& /age/.test(err.toString())\r\n\t\t\t&& /birth/.test(err.toString())\r\n\t\t\t&& /city/.test(err.toString())\r\n\t}, \"check that errors are correctly stacked\");\r\n});\r\n\r\nQUnit.test(\"ObjectModel edge cases of constructors\", function (assert) {\r\n\tassert.ok(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({}) instanceof __WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */], \"ObjectModel can receive empty object as argument\");\r\n\tassert.throws(function () {\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])()\r\n\t}, /Error.*Model definition is required/, \"ObjectModel without definition throws\")\r\n\r\n\t/* //TODO\r\n\t assert.throws(function () {\r\n\t ObjectModel(undefined)\r\n\t }, /expecting arguments\\[0] to be Object, got undefined/,\r\n\t \"ObjectModel with definition undefined throws\")\r\n\r\n\t assert.throws(function () {\r\n\t ObjectModel(42)\r\n\t }, /expecting arguments\\[0] to be Object, got Number 42/,\r\n\t \"ObjectModel with definition primitive throws\")\r\n\t */\r\n});\r\n\r\nQUnit.test(\"ObjectModel with optional and multiple parameters\", function (assert) {\r\n\tvar Person = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\r\n\t\tname: [String],\r\n\t\tage: [Number, Date, String, Boolean, undefined],\r\n\t\tfemale: [Boolean, Number, String, null],\r\n\t\thaircolor: [\"blond\", \"brown\", \"black\", undefined],\r\n\t\taddress: {\r\n\t\t\twork: {\r\n\t\t\t\tcity: [String]\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tvar joe = Person({female: false});\r\n\tassert.ok(joe instanceof Person, \"instanceof model test\");\r\n\tjoe.name = \"joe\";\r\n\tjoe.name = undefined;\r\n\tjoe.name = null;\r\n\tjoe.age  = new Date(1995, 1, 23);\r\n\tjoe.age  = undefined;\r\n\tassert.throws(function () {\r\n\t\tjoe.age = null;\r\n\t}, /TypeError.*got null/, \"invalid set null\");\r\n\tjoe.female = \"ann\";\r\n\tjoe.female = 2;\r\n\tjoe.female = false;\r\n\tassert.throws(function () {\r\n\t\tjoe.female = undefined;\r\n\t}, /TypeError.*got undefined/, \"invalid set undefined\");\r\n\tjoe.address.work.city = \"Lille\";\r\n\tjoe.address.work.city = undefined;\r\n\tjoe.haircolor         = \"blond\";\r\n\tjoe.haircolor         = undefined;\r\n\tassert.throws(function () {\r\n\t\tjoe.name = false;\r\n\t}, /TypeError.*expecting name to be String.*got Boolean false/, \"invalid type for optional prop\");\r\n\tassert.throws(function () {\r\n\t\tjoe.age = null;\r\n\t}, /TypeError.*expecting age to be Number or Date or String or Boolean or undefined/, \"invalid set null for optional union type prop\");\r\n\tassert.throws(function () {\r\n\t\tjoe.age = [];\r\n\t}, /TypeError.*got Array/, \"invalid set array for optional union type prop\");\r\n\tassert.throws(function () {\r\n\t\tjoe.address.work.city = 0;\r\n\t}, /TypeError.*expecting address.work.city to be String.*got Number 0/, \"invalid type for nested optional prop\");\r\n\tassert.throws(function () {\r\n\t\tjoe.haircolor = \"\";\r\n\t}, /TypeError.*expecting haircolor to be \"blond\" or \"brown\" or \"black\" or undefined, got String \"\"/, \"invalid type for value enum prop\");\r\n\r\n});\r\n\r\nQUnit.test(\"ObjectModel with fixed values\", function (assert) {\r\n\tvar myModel = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\r\n\t\ta: [1, 2, 3],\r\n\t\tb: 42,\r\n\t\tc: [\"\", false, null, 0],\r\n\t\thaircolor: [\"blond\", \"brown\", \"black\"],\r\n\t\tfoo: \"bar\",\r\n\t\tx: [Number, true]\r\n\t});\r\n\r\n\tvar model = myModel({\r\n\t\ta: 1,\r\n\t\tb: 42,\r\n\t\tc: 0,\r\n\t\thaircolor: \"blond\",\r\n\t\tfoo: \"bar\",\r\n\t\tx: true\r\n\t});\r\n\r\n\tmodel.x         = 666;\r\n\tmodel.haircolor = \"brown\";\r\n\r\n\tassert.throws(function () {\r\n\t\tmodel.a = 4;\r\n\t}, /TypeError.*expecting a to be 1 or 2 or 3.*got Number 4/, 'invalid set on values enum 1/2');\r\n\tassert.throws(function () {\r\n\t\tmodel.b = 43;\r\n\t}, /TypeError.*expecting b to be 42.*got Number 43/, \"invalid set on fixed value 1/2\");\r\n\tassert.throws(function () {\r\n\t\tmodel.c = undefined;\r\n\t}, /TypeError.*expecting c to be \"\" or false or null or 0.*got undefined/, \"invalid set undefined on mixed typed values enum\");\r\n\tassert.throws(function () {\r\n\t\tmodel.haircolor = \"roux\";\r\n\t}, /TypeError.*expecting haircolor to be \"blond\" or \"brown\" or \"black\".*got String \"roux\"/, 'invalid set on values enum 2/2');\r\n\tassert.throws(function () {\r\n\t\tmodel.foo = \"baz\";\r\n\t}, /TypeError.*expecting foo to be \"bar\".*got String \"baz\"/, \"invalid set on fixed value 2/2\");\r\n\tassert.throws(function () {\r\n\t\tmodel.x = false;\r\n\t}, /TypeError.*expecting x to be Number or true.*got Boolean false/, \"invalid set on mixed type/values enum\");\r\n\r\n});\r\n\r\nQUnit.test(\"Object model default values\", function (assert) {\r\n\r\n\tconst myModel = new __WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */]({\r\n\t\tname: String,\r\n\t\tfoo: {\r\n\t\t\tbar: {\r\n\t\t\t\tbuz: Number\r\n\t\t\t}\r\n\t\t}\r\n\t}).defaults({\r\n\t\tname: \"joe\",\r\n\t\tfoo: {\r\n\t\t\tbar: {\r\n\t\t\t\tbuz: 0\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst model = myModel();\r\n\tassert.strictEqual(model.name, \"joe\", \"defaults values correctly applied\");\r\n\tassert.strictEqual(model.foo.bar.buz, 0, \"defaults nested props values correctly applied\");\r\n\tassert.ok(myModel.test({}), \"defaults should be applied when testing duck typed objects\")\r\n\r\n\tconst model2 = myModel({name: \"jim\", foo: {bar: {buz: 1}}});\r\n\tassert.strictEqual(model2.name, \"jim\", \"defaults values not applied if provided\");\r\n\tassert.strictEqual(model2.foo.bar.buz, 1, \"defaults nested props values not applied if provided\");\r\n\r\n});\r\n\r\nQUnit.test(\"Object model defaultTo with defaults\", function (assert) {\r\n\r\n\tconst myModel = new __WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */]({x: Number, y: String})\r\n\t\t.defaultTo({x: 42})\r\n\t\t.defaults({y: \"hello\"})\r\n\r\n\tassert.strictEqual(myModel.default.x, 42, \"object model defaultTo store the value as default property\")\r\n\tassert.strictEqual(myModel.prototype.y, \"hello\", \"object model defaults store values to proto\")\r\n\tassert.strictEqual(myModel().x, 42, \"object model default property is applied when undefined is passed\");\r\n\tassert.strictEqual(myModel().y, \"hello\", \"defaulted object model still inherit from model proto\");\r\n\tassert.strictEqual(myModel.default.y, undefined, \"object model default value itself does not inherit from from model proto\");\r\n\r\n\tmyModel.default.x = \"nope\";\r\n\r\n\tassert.throws(function () {\r\n\t\tmyModel()\r\n\t}, /TypeError.*got String \"nope\"/, \"invalid default property still throws TypeError for object models\");\r\n\r\n});\r\n\r\nQUnit.test(\"RegExp values\", function (assert) {\r\n\r\n\tconst myModel = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\r\n\t\tphonenumber: /^[0-9]{10}$/,\r\n\t\tvoyels: [/^[aeiouy]+$/]\r\n\t});\r\n\r\n\tconst m = myModel({\r\n\t\tphonenumber: \"0612345678\"\r\n\t});\r\n\r\n\tm.voyels = \"ouioui\";\r\n\r\n\tassert.throws(function () {\r\n\t\tm.voyels = \"nonnon\"\r\n\t}, /TypeError/, \"regex matching\");\r\n\tassert.throws(function () {\r\n\t\tm.phonenumber = \"123456789\"\r\n\t}, /TypeError/, \"regex matching 2\");\r\n\r\n});\r\n\r\nQUnit.test(\"Private and constant properties\", function (assert) {\r\n\r\n\tlet myModel = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\r\n\t\tCONST: Number,\r\n\t\t_private: Number,\r\n\t\tnormal: Number\r\n\t});\r\n\r\n\tlet m = myModel({\r\n\t\tCONST: 42,\r\n\t\t_private: 43,\r\n\t\tnormal: 44\r\n\t});\r\n\r\n\tm.normal++;\r\n\r\n\tassert.throws(function () {\r\n\t\tm._private++;\r\n\t}, /TypeError[\\s\\S]*private/, \"try to modify private\");\r\n\r\n\tassert.throws(function () {\r\n\t\tm.CONST++;\r\n\t}, /TypeError[\\s\\S]*constant/, \"try to modify constant\");\r\n\tassert.equal(Object.keys(m).length, 2, \"non enumerable key not counted by Object.keys\");\r\n\tassert.equal(Object.keys(m).includes(\"_private\"), false, \"non enumerable key not found in Object.keys\");\r\n\tassert.equal(Object.getOwnPropertyNames(m).length, 2, \"non enumerable key not counted by Object.getOwnPropertyNames\");\r\n\tassert.equal(Object.getOwnPropertyNames(m).includes(\"_private\"), false, \"non enumerable key not found in Object.getOwnPropertyNames\");\r\n\tassert.equal(\"normal\" in m, true, \"enumerable key found with operator in\")\r\n\tassert.equal(\"_private\" in m, false, \"non enumerable key not found with operator in\")\r\n\tassert.equal(Object.getOwnPropertyDescriptor(m, \"normal\").value, 45, \"getOwnProperyDescriptor trap for normal prop\")\r\n\tassert.equal(Object.getOwnPropertyDescriptor(m, \"_private\"), undefined, \"getOwnProperyDescriptor for private prop\")\r\n\r\n\tlet M = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({ _p: Number })\r\n\tm = M({ _p: 42 })\r\n\r\n\tassert.throws(function () {\r\n\t\tm._p\r\n\t}, /TypeError[\\s\\S]*cannot access to private/, \"try to access private from outside\");\r\n\r\n\tM.prototype.incrementPrivate = function(){ this._p++ }\r\n\tM.prototype.getPrivate = function(){ return this._p }\r\n\tm.incrementPrivate();\r\n\tassert.equal(m.getPrivate(), 43, \"can access and mutate private props through methods\")\r\n\r\n});\r\n\r\nQUnit.test(\"Non-enumerable and non-writable properties with overridden convention\", function (assert) {\r\n\r\n\tconst myModel = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\r\n\t\tprivate_prop: Number,\r\n\t\tconstant_prop: Number,\r\n\t\tnormal_prop: Number\r\n\t});\r\n\r\n\tmyModel.conventionForConstant = s => s.indexOf(\"constant_\") === 0;\r\n\tmyModel.conventionForPrivate  = s => s.indexOf(\"private_\") === 0;\r\n\r\n\tconst m = myModel({\r\n\t\tprivate_prop: 42,\r\n\t\tconstant_prop: 43,\r\n\t\tnormal_prop: 44\r\n\t});\r\n\r\n\tassert.throws(function () {\r\n\t\tm.constant_prop++;\r\n\t}, /TypeError[\\s\\S]*constant/, \"try to redefine constant with overridden convention\");\r\n\tassert.equal(Object.keys(m).length, 2, \"non enumerable key not counted by Object.keys with overridden convention\");\r\n\tassert.equal(Object.keys(m).includes(\"private_prop\"), false, \"non enumerable key not found in Object.keys with overridden convention\");\r\n\tassert.equal(Object.getOwnPropertyNames(m).length, 2, \"non enumerable key not counted by Object.getOwnPropertyNames with overridden convention\");\r\n\tassert.equal(Object.getOwnPropertyNames(m).includes(\"private_prop\"), false, \"non enumerable key not found in Object.getOwnPropertyNames with overridden convention\");\r\n\tassert.equal(\"normal_prop\" in m, true, \"enumerable key found with operator in with overridden convention\")\r\n\tassert.equal(\"private_prop\" in m, false, \"non enumerable key not found with operator in with overridden convention\")\r\n\r\n});\r\n\r\nQUnit.test(\"Extensions\", function (assert) {\r\n\r\n\tconst Person = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\r\n\t\tname: String,\r\n\t\tage: Number,\r\n\t\tbirth: Date,\r\n\t\tfemale: [Boolean],\r\n\t\taddress: {\r\n\t\t\twork: {\r\n\t\t\t\tcity: [String]\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst joe = Person({\r\n\t\tname: \"Joe\",\r\n\t\tage: 42,\r\n\t\tbirth: new Date(1990, 3, 25),\r\n\t\tfemale: false,\r\n\t\taddress: {\r\n\t\t\twork: {\r\n\t\t\t\tcity: \"Lille\"\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst Woman = Person.extend({female: true});\r\n\r\n\tassert.ok(Person(joe), \"Person valid model for joe\");\r\n\r\n\tassert.throws(function () {\r\n\t\tWoman(joe);\r\n\t}, /TypeError[\\s\\S]*female/, \"Woman invalid model for joe\");\r\n\r\n\tassert.throws(function () {\r\n\t\tWoman({\r\n\t\t\tname: \"Joe\",\r\n\t\t\tage: 42,\r\n\t\t\tbirth: new Date(1990, 3, 25),\r\n\t\t\tfemale: false,\r\n\t\t\taddress: {\r\n\t\t\t\twork: {\r\n\t\t\t\t\tcity: \"Lille\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}, /TypeError[\\s\\S]*female/, \"cant be woman from joe parameters\");\r\n\r\n\tassert.throws(function () {\r\n\t\tWoman(joe);\r\n\t}, /TypeError[\\s\\S]*female/, \"cant be woman from Person joe\");\r\n\r\n\tconst ann = Woman({\r\n\t\tname: \"Joe's wife\",\r\n\t\tage: 42,\r\n\t\tbirth: new Date(1990, 3, 25),\r\n\t\tfemale: true,\r\n\t\taddress: {\r\n\t\t\twork: {\r\n\t\t\t\tcity: \"Lille\"\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst UnemployedWoman = Woman.extend({\r\n\t\taddress: {\r\n\t\t\twork: {\r\n\t\t\t\tcity: undefined\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tassert.ok(Woman(ann), \"Woman valid model for ann\");\r\n\r\n\tassert.ok(Woman.prototype.constructor === Woman, \"extended model has a new constructor\");\r\n\tassert.ok(ann.constructor === Woman, \"extended model instance has the right constructor\");\r\n\r\n\tassert.throws(function () {\r\n\t\tUnemployedWoman(ann);\r\n\t}, /TypeError[\\s\\S]*city/, \"ann cant be UnemployedWoman;  model extension nested undefined property\");\r\n\r\n\r\n\tconst jane = UnemployedWoman({\r\n\t\tname: \"Jane\",\r\n\t\tage: 52,\r\n\t\tbirth: new Date(1990, 3, 25),\r\n\t\tfemale: true\r\n\t});\r\n\r\n\tassert.ok(ann instanceof Person, \"ann instanceof Person\");\r\n\tassert.ok(ann instanceof Woman, \"ann instanceof Woman\");\r\n\tassert.ok(jane instanceof Person, \"jane instanceof Person\");\r\n\tassert.ok(jane instanceof Woman, \"jane instanceof Woman\");\r\n\tassert.ok(jane instanceof UnemployedWoman, \"jane instanceof UnemployedWoman\");\r\n\tassert.equal(joe instanceof Woman, false, \"joe not instanceof Woman\");\r\n\tassert.equal(joe instanceof UnemployedWoman, false, \"joe not instanceof UnemployedWoman\");\r\n\tassert.equal(ann instanceof UnemployedWoman, false, \"ann not instanceof UnemployedWoman\");\r\n\r\n\tlet Vehicle = {speed: Number};\r\n\tlet Car     = Object.create(Vehicle);\r\n\tlet Ferrari = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({expensive: true}).extend(Car);\r\n\tassert.ok(\"speed\" in Ferrari.definition, \"should retrieve definitions from parent prototypes when extending with objects\");\r\n\r\n\tVehicle = function () {};\r\n\tVehicle.prototype.speed = 99;\r\n\tCar = function () {};\r\n\tCar.prototype = new Vehicle();\r\n\tFerrari = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({ price: [Number] }).extend(Car);\r\n\r\n\tlet ferrari = new Ferrari({ price: 999999 });\r\n\tassert.equal(ferrari.speed, 99, \"should retrieve properties from parent prototypes when extending with constructors\");\r\n\tassert.equal(\"price\" in ferrari, true, \"should trap in operator and return true for properties in definition\");\r\n\tassert.equal(\"speed\" in ferrari, false, \"should trap in operator and return false for properties out of definition\");\r\n\r\n});\r\n\r\nQUnit.test(\"Multiple inheritance\", function (assert) {\r\n\r\n\tconst A = new __WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */]({\r\n\t\ta: Boolean,\r\n\t\tb: Boolean\r\n\t});\r\n\r\n\tconst B = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\r\n\t\tb: Number,\r\n\t\tc: Number\r\n\t});\r\n\r\n\tconst C = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\r\n\t\tc: String,\r\n\t\td: {\r\n\t\t\td1: Boolean,\r\n\t\t\td2: Boolean\r\n\t\t}\r\n\t});\r\n\r\n\tconst D = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\r\n\t\ta: String,\r\n\t\td: {\r\n\t\t\td2: Number,\r\n\t\t\td3: Number\r\n\t\t}\r\n\t});\r\n\r\n\tlet M1 = A.extend(B, C, D);\r\n\tlet M2 = D.extend(C, B, A);\r\n\r\n\tassert.equal(Object.keys(M1.definition).sort().join(','), \"a,b,c,d\", \"definition merge for multiple inheritance 1/4\");\r\n\tassert.equal(Object.keys(M2.definition).sort().join(','), \"a,b,c,d\", \"definition merge for multiple inheritance 2/4\");\r\n\tassert.equal(Object.keys(M1.definition.d).sort().join(','), \"d1,d2,d3\", \"definition merge for multiple inheritance 3/4\");\r\n\tassert.equal(Object.keys(M2.definition.d).sort().join(','), \"d1,d2,d3\", \"definition merge for multiple inheritance 4/4\");\r\n\r\n\tlet m1 = M1({\r\n\t\ta: \"\",\r\n\t\tb: 42,\r\n\t\tc: \"test\",\r\n\t\td: {\r\n\t\t\td1: true,\r\n\t\t\td2: 2,\r\n\t\t\td3: 3\r\n\t\t}\r\n\t});\r\n\r\n\tlet m2 = M2({\r\n\t\ta: false,\r\n\t\tb: false,\r\n\t\tc: 666,\r\n\t\td: {\r\n\t\t\td1: false,\r\n\t\t\td2: false,\r\n\t\t\td3: 0\r\n\t\t}\r\n\t});\r\n\r\n\tassert.throws(function () {\r\n\t\tm1.a = true;\r\n\t}, /TypeError[\\s\\S]*a/, \"type checking multiple inheritance 1/8\");\r\n\tassert.throws(function () {\r\n\t\tm2.a = \"nope\";\r\n\t}, /TypeError[\\s\\S]*a/, \"type checking multiple inheritance 2/8\");\r\n\tassert.throws(function () {\r\n\t\tm1.b = !m1.b;\r\n\t}, /TypeError[\\s\\S]*b/, \"type checking multiple inheritance 3/8\");\r\n\tassert.throws(function () {\r\n\t\tm2.b += 7;\r\n\t}, /TypeError[\\s\\S]*b/, \"type checking multiple inheritance 4/8\");\r\n\tassert.throws(function () {\r\n\t\tm1.c = undefined;\r\n\t}, /TypeError[\\s\\S]*c/, \"type checking multiple inheritance 5/8\");\r\n\tassert.throws(function () {\r\n\t\tm2.c = null;\r\n\t}, /TypeError[\\s\\S]*c/, \"type checking multiple inheritance 6/8\");\r\n\tassert.throws(function () {\r\n\t\tm1.d.d2 = true;\r\n\t}, /TypeError[\\s\\S]*d2/, \"type checking multiple inheritance 7/8\");\r\n\tassert.throws(function () {\r\n\t\tm2.d.d2 = 1;\r\n\t}, /TypeError[\\s\\S]*d2/, \"type checking multiple inheritance 8/8\");\r\n\r\n\tA.defaults({\r\n\t\ta: false,\r\n\t\tb: false\r\n\t});\r\n\r\n\tB.defaults({\r\n\t\tb: 0,\r\n\t\tc: 0\r\n\t});\r\n\r\n\tC.defaults({\r\n\t\tc: \"\",\r\n\t\td: {\r\n\t\t\td1: false,\r\n\t\t\td2: false\r\n\t\t}\r\n\t});\r\n\r\n\tD.defaults({\r\n\t\ta: \"\",\r\n\t\td: {\r\n\t\t\td2: 0,\r\n\t\t\td3: 0\r\n\t\t}\r\n\t});\r\n\r\n\tM1 = A.extend(B, C, D);\r\n\tM2 = D.extend(C, B, A);\r\n\tm1 = M1();\r\n\tm2 = M2();\r\n\r\n\tassert.ok(m1.a === \"\" && m1.b === 0 && m1.c === \"\" && m1.d.d1 === false && m1.d.d2 === 0 && m1.d.d3 === 0, \"defaults checking multiple inheritance 1/2\");\r\n\tassert.ok(m2.a === false && m2.b === false && m2.c === 0 && m2.d.d1 === false && m2.d.d2 === false && m2.d.d3 === 0, \"defaults checking multiple inheritance 2/2\");\r\n\r\n\tfunction dummyAssert() {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tA.assert(dummyAssert);\r\n\tB.assert(dummyAssert);\r\n\tC.assert(dummyAssert);\r\n\tD.assert(dummyAssert);\r\n\r\n\tM1 = A.extend(B, C, D);\r\n\tM2 = D.extend(C, B, A);\r\n\tm1 = M1();\r\n\tm2 = M2();\r\n\r\n\tassert.ok(M1.assertions.length === 4, \"assertions checking multiple inheritance 1/2\");\r\n\tassert.ok(M2.assertions.length === 4, \"assertions checking multiple inheritance 2/2\");\r\n\r\n});\r\n\r\nQUnit.test(\"Composition\", function (assert) {\r\n\r\n\tconst Person = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\r\n\t\tname: String,\r\n\t\tage: [Number, Date],\r\n\t\tfemale: [Boolean],\r\n\t\taddress: {\r\n\t\t\twork: {\r\n\t\t\t\tcity: [String]\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst Family = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\r\n\t\tfather: Person,\r\n\t\tmother: Person.extend({female: true}),\r\n\t\tchildren: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])(Person),\r\n\t\tgrandparents: [__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])(Person).assert(function (persons) {\r\n\t\t\treturn persons && persons.length <= 4\r\n\t\t})]\r\n\t});\r\n\r\n\tconst joe = Person({\r\n\t\tname: \"Joe\",\r\n\t\tage: 42,\r\n\t\tfemale: false\r\n\t});\r\n\r\n\r\n\tconst ann = new Person({\r\n\t\tfemale: true,\r\n\t\tage: joe.age - 5,\r\n\t\tname: joe.name + \"'s wife\"\r\n\t});\r\n\r\n\tlet joefamily = new Family({\r\n\t\tfather: joe,\r\n\t\tmother: ann,\r\n\t\tchildren: []\r\n\t});\r\n\r\n\tassert.ok(joefamily instanceof Family, \"joefamily instance of Family\");\r\n\tassert.ok(joefamily.father instanceof Person, \"father instanceof Person\");\r\n\tassert.ok(joefamily.mother instanceof Person, \"mother instanceof Person\");\r\n\r\n\tconst duckmother = {\r\n\t\tfemale: true,\r\n\t\tage: joe.age - 5,\r\n\t\tname: joe.name + \"'s wife\"\r\n\t};\r\n\r\n\tjoefamily = new Family({\r\n\t\tfather: joe,\r\n\t\tmother: duckmother,\r\n\t\tchildren: []\r\n\t});\r\n\r\n\tassert.ok(Person.test(duckmother), \"Duck typing for object properties 1/2\");\r\n\tassert.notOk(duckmother instanceof Person, \"Duck typing for object properties 2/2\");\r\n\r\n\tjoefamily.mother.name = \"Daisy\";\r\n\tassert.equal(joefamily.mother.name, \"Daisy\", \"Duck typing submodel property can be modified\");\r\n\tassert.throws(function () {\r\n\t\tjoefamily.mother.female = \"Quack !\";\r\n\t}, /TypeError[\\s\\S]*female/, \"validation of submodel duck typed at modification\");\r\n\r\n\tassert.throws(function () {\r\n\t\tnew Family({\r\n\t\t\tfather: joe,\r\n\t\t\tmother: {\r\n\t\t\t\tfemale: false,\r\n\t\t\t\tage: joe.age - 5,\r\n\t\t\t\tname: joe.name + \"'s wife\"\r\n\t\t\t},\r\n\t\t\tchildren: []\r\n\t\t});\r\n\t}, /TypeError[\\s\\S]*female/, \"validation of submodel duck typed at instanciation\");\r\n\r\n});\r\n\r\nQUnit.test(\"Object model Assertions\", function (assert) {\r\n\r\n\tconst NestedModel = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({foo: {bar: {baz: Boolean}}})\r\n\t\t.assert(o => o.foo.bar.baz === true);\r\n\r\n\tconst nestedModel = NestedModel({foo: {bar: {baz: true}}});\r\n\r\n\tassert.throws(function () {\r\n\t\tnestedModel.foo.bar.baz = false;\r\n\t}, /TypeError/, \"test assertion after nested property assignment\");\r\n\r\n\tfunction assertFail() {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfunction assertFailWithData() {\r\n\t\treturn -1;\r\n\t}\r\n\r\n\t__WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* Model */].prototype.assert(assertFail, \"expected message without data\");\r\n\t__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */].prototype.assert(assertFailWithData, function (data) {\r\n\t\treturn \"expected message with data \" + data;\r\n\t});\r\n\r\n\tassert.equal(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* Model */].prototype.assertions.length, 1, \"check number of assertions on BasicModel.prototype\")\r\n\tassert.equal(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */].prototype.assertions.length, 2, \"check number of assertions on ObjectModel.prototype\");\r\n\r\n\tconst M = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({a: String});\r\n\r\n\tassert.throws(function () {\r\n\t\tM({a: \"test\"})\r\n\t}, /TypeError/, \"expected message without data\");\r\n\r\n\tassert.throws(function () {\r\n\t\tM({a: \"test\"})\r\n\t}, /TypeError/, \"expected message with data -1\");\r\n\r\n\t// clean up global assertions\r\n\t__WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* Model */].prototype.assertions = [];\r\n\tdelete __WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */].prototype.assertions;\r\n\r\n\tconst AssertObject = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({name: [String]})\r\n\t\t.assert((o => o.name.toLowerCase().length == o.name.length), \"may throw exception\");\r\n\r\n\tnew AssertObject({name: \"joe\"});\r\n\r\n\tassert.throws(function () {\r\n\t\t\tnew AssertObject({name: undefined});\r\n\t\t},\r\n\t\t/assertion \\\"may throw exception\\\" returned TypeError.*for value {\\s+name: undefined\\s+}/,\r\n\t\t\"assertions catch exceptions on Object models\");\r\n\r\n});\r\n\r\nQUnit.test(\"Object models validate method\", function (assert) {\r\n\r\n\tconst assertFunction = (c => c === \"GB\");\r\n\r\n\tassertFunction.toString = function () {\r\n\t\treturn \"expected assertFunction toString\";\r\n\t}\r\n\r\n\tconst Address = new __WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */]({\r\n\t\tcity: String,\r\n\t\tcountry: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* BasicModel */])(String).assert(assertFunction, \"Country must be GB\")\r\n\t});\r\n\r\n\tconst gbAddress = {city: \"London\", country: \"GB\"};\r\n\tconst frAddress = {city: \"Paris\", country: \"FR\"};\r\n\r\n\tconst Order = new __WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */]({\r\n\t\tsku: String,\r\n\t\taddress: Address\r\n\t});\r\n\r\n\tconst gbOrder = {sku: \"ABC123\", address: gbAddress};\r\n\tconst frOrder = {sku: \"ABC123\", address: frAddress};\r\n\r\n\tOrder.validate(gbOrder); // no errors\r\n\tassert.throws(function () {\r\n\t\tOrder.validate(frOrder);\r\n\t}, \"should validate sub-objects assertions\");\r\n\r\n\tconst errors = [];\r\n\tOrder.validate(frOrder, function (err) {\r\n\t\terrors.push(...err);\r\n\t});\r\n\r\n\tassert.equal(errors.length, 1, \"should throw exactly one error here\")\r\n\tassert.equal(errors[0].expected, \"expected assertFunction toString\", \"check assertion error expected parameter\");\r\n\tassert.equal(errors[0].received, \"FR\", \"check assertion error received parameter\");\r\n\tassert.equal(errors[0].path, \"address.country\", \"check assertion error path parameter\");\r\n\tassert.equal(errors[0].message, 'assertion \"Country must be GB\" returned false for value \"FR\"', \"check assertion error message parameter\");\r\n\r\n});\r\n\r\nQUnit.test(\"Cyclic detection\", function(assert){\r\n\r\n\tlet A, B, a, b;\r\n\r\n\tA = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({ b: [] });\r\n\tB = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({ a: A });\r\n\tA.definition.b = [B];\r\n\r\n\ta = A();\r\n\tb = B({ a: a });\r\n\r\n\tassert.ok(a.b = b, \"valid cyclic value assignment\");\r\n\tassert.throws(function(){a.b = a; }, /TypeError/, \"invalid cyclic value assignment\");\r\n\r\n\tA = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({ b: [] });\r\n\tB = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({ a: A });\r\n\r\n\tA.definition.b = {\r\n\t\tc: {\r\n\t\t\td: [B]\r\n\t\t}\r\n\t};\r\n\r\n\ta = A();\r\n\tb = B({ a: a });\r\n\r\n\tassert.ok((a.b = { c: { d: b } }), \"valid deep cyclic value assignment\");\r\n\tassert.throws(function(){\r\n\t\ta.b = { c: { d: a } };\r\n\t}, /TypeError/, \"invalid deep cyclic value assignment\");\r\n\r\n\tconst Honey = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\r\n\t\tsweetie: [] // Sweetie is not yet defined\r\n\t});\r\n\r\n\tconst Sweetie = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\r\n\t\thoney: Honey\r\n\t});\r\n\r\n\tHoney.definition.sweetie = [Sweetie];\r\n\r\n\tconst joe = Honey({ sweetie: undefined }); // ann is not yet defined\r\n\tconst ann = Sweetie({ honey: joe });\r\n\tassert.ok(joe.sweetie = ann, \"website example valid assignment\");\r\n\tassert.throws(function(){ joe.sweetie = \"dog\" }, /TypeError/, \"website example invalid assignment 1\");\r\n\tassert.throws(function(){ joe.sweetie = joe }, /TypeError/, \"website example invalid assignment 2\");\r\n\r\n});\r\n\r\nQUnit.test(\"Custom error collectors for object models\", function (assert) {\r\n\r\n\tassert.expect(11);\r\n\r\n\tlet M = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\r\n\t\ta: {\r\n\t\t\tb: {\r\n\t\t\t\tc: true\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tM.errorCollector = function (errors) {\r\n\t\tassert.ok(errors.length === 1, \"check errors.length model collector\");\r\n\t\tvar err = errors[0];\r\n\t\tassert.equal(err.expected, true, \"check error.expected model collector\");\r\n\t\tassert.equal(err.received, false, \"check error.received model collector\");\r\n\t\tassert.equal(err.path, \"a.b.c\", \"check error.path model collector\");\r\n\t\tassert.equal(err.message, 'expecting a.b.c to be true, got Boolean false', \"check error message model collector\");\r\n\t}\r\n\r\n\tM({\r\n\t\ta: {\r\n\t\t\tb: {\r\n\t\t\t\tc: false\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\r\n\t\td: {\r\n\t\t\te: {\r\n\t\t\t\tf: null\r\n\t\t\t}\r\n\t\t}\r\n\t}).validate({\r\n\t\td: {\r\n\t\t\te: {\r\n\t\t\t\tf: undefined\r\n\t\t\t}\r\n\t\t}\r\n\t}, function (errors) {\r\n\t\tassert.ok(errors.length === 1, \"check nested errors.length custom collector\");\r\n\t\tvar err = errors[0];\r\n\t\tassert.deepEqual(err.expected, null, \"check nested error.expected custom collector\");\r\n\t\tassert.deepEqual(err.received, undefined, \"check nested error.received custom collector\");\r\n\t\tassert.equal(err.path, \"d.e.f\", \"check nested error.path custom collector\");\r\n\t\tassert.equal(err.message, 'expecting d.e.f to be null, got undefined', \"check nested error.message custom collector\");\r\n\t})\r\n\r\n\tM = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({x: Number});\r\n\tM.errorCollector = function noop() {};\r\n\r\n\tassert.equal(M.test({x: \"nope\"}), false, \"model.test should work even when errorCollector does not throw exceptions\");\r\n\r\n});\r\n\r\nQUnit.test(\"Automatic model casting\", function (assert) {\r\n\r\n\tlet User = new __WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */]({username: String, email: String})\r\n\t\t.defaults({username: 'foo', email: 'foo@foo'});\r\n\r\n\tlet Article = new __WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */]({title: String, user: User})\r\n\t\t.defaults({title: 'bar', user: new User()});\r\n\r\n\tlet a = new Article();\r\n\ta.user = {username: 'joe', email: 'foo'};\r\n\r\n\tassert.ok(a.user instanceof User, \"automatic model casting when assigning a duck typed object\");\r\n\tassert.ok(a.user.username === \"joe\", \"preserved props after automatic model casting of duck typed object\");\r\n\r\n\tUser = new __WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */]({username: String, email: String})\r\n\t\t.defaults({username: 'foo', email: 'foo@foo'});\r\n\r\n\tArticle = new __WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */]({title: String, user: [User]})\r\n\t\t.defaults({title: 'bar', user: new User()});\r\n\r\n\ta = new Article();\r\n\ta.user = {username: 'joe', email: 'foo'};\r\n\r\n\tassert.ok(a.user instanceof User, \"automatic optional model casting when assigning a duck typed object\");\r\n\tassert.ok(a.user.username === \"joe\", \"preserved props after automatic optional model casting of duck typed object\");\r\n\r\n\r\n\tconst Type1 = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({ name: String, other1: [Boolean] });\r\n\tconst Type2 = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({ name: String, other2: [Number] });\r\n\tconst Container = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({ foo: { bar: [Type1, Type2] }});\r\n\r\n\tlet c = new Container({ foo: { bar: { name: \"dunno\" }}});\r\n\t__WEBPACK_IMPORTED_MODULE_1__mocks_console__[\"a\" /* default */].apply();\r\n\tc.foo.bar; //get ambiguous key\r\n\tassert.ok(/Ambiguous model for[\\s\\S]*?name: \"dunno\"[\\s\\S]*?other1: \\[Boolean\\][\\s\\S]*?other2: \\[Number]/\r\n\t\t\t.test(__WEBPACK_IMPORTED_MODULE_1__mocks_console__[\"a\" /* default */][\"warnLastArgs\"][0]),\r\n\t\t\"should warn about ambiguous model for object sub prop\"\r\n\t);\r\n\tassert.ok(c.foo.bar.name === \"dunno\", \"should preserve values even when ambiguous model cast\");\r\n\tassert.ok(!(c.foo.bar instanceof Type1 || c.foo.bar instanceof Type2), \"should not cast when ambiguous model\");\r\n\t__WEBPACK_IMPORTED_MODULE_1__mocks_console__[\"a\" /* default */].revert();\r\n\r\n\t__WEBPACK_IMPORTED_MODULE_1__mocks_console__[\"a\" /* default */].apply();\r\n\tc = new Container({ foo: { bar: Type2({ name: \"dunno\" }) }});\r\n\tassert.ok(__WEBPACK_IMPORTED_MODULE_1__mocks_console__[\"a\" /* default */][\"warnLastArgs\"].length === 0, \"should not warn when explicit model cast in ambiguous context\");\r\n\tassert.ok(c.foo.bar.name === \"dunno\", \"should preserve values when explicit model cast in ambiguous context\");\r\n\tassert.ok(c.foo.bar instanceof Type2, \"should preserve model when explicit cast in ambiguous context\");\r\n\t__WEBPACK_IMPORTED_MODULE_1__mocks_console__[\"a\" /* default */].revert();\r\n\r\n})\r\n\r\nQUnit.test(\"ObjectModel delete trap\", function (assert) {\r\n\r\n\tconst M = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({ _p: Boolean, C: Number, u: undefined, n: null, x: [Boolean] })\r\n\tconst m = M({ _p: true, C: 42, u: undefined, n: null, x: false })\r\n\r\n\tassert.throws(function(){ delete m._p }, /TypeError.*private/, \"cannot delete private prop\");\r\n\tassert.throws(function(){ delete m.C }, /TypeError.*constant/, \"cannot delete constant prop\");\r\n\tdelete m.u; // can delete undefined properties\r\n\tassert.throws(function(){ delete m.n }, /TypeError.*expecting n to be null, got undefined/, \"delete should differenciate null and undefined\");\r\n\tdelete m.x // can delete optional properties\r\n\tassert.throws(function(){ delete m.undefined }, /TypeError.*cannot find property/, \"cannot delete property out of model definition\");\r\n\r\n})\r\n\r\nQUnit.test(\"ObjectModel defineProperty trap\", function (assert) {\r\n\r\n\tconst M = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({ _p: Boolean, C: Number, u: undefined, n: null, x: [Boolean] })\r\n\tconst m = M({ _p: true, C: 42, u: undefined, n: null, x: false })\r\n\r\n\tassert.throws(function(){ Object.defineProperty(m, \"_p\", { value: true }) }, /TypeError.*private/, \"cannot define private prop\");\r\n\tassert.throws(function(){ Object.defineProperty(m, \"C\", { value: 43 })}, /TypeError.*constant/, \"cannot define constant prop\");\r\n\tassert.throws(function(){ Object.defineProperty(m, \"u\", { value: \"test\" })}, /TypeError.*expecting u to be undefined/, \"check type after defineProperty\");\r\n\tassert.throws(function(){ Object.defineProperty(m, \"n\", { value: undefined }) }, /TypeError.*expecting n to be null, got undefined/, \"defineProperty should differenciate null and undefined\");\r\n\tObject.defineProperty(m, \"x\", { value: undefined }) // can define optional properties\r\n\tassert.throws(function(){ Object.defineProperty(m, \"undefined\", { value: \"test\" }) }, /TypeError.*cannot find property/, \"cannot define property out of model definition\");\r\n\r\n})\r\n\r\nQUnit.test(\"ObjectModel ownKeys/has trap\", function (assert) {\r\n\r\n\tconst A = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({ _pa: Boolean, a: Boolean })\r\n\tconst B = A.extend({ _pb: Boolean, b: Boolean })\r\n\tconst m = B({ _pa: true, _pb: true, a: true, b: true })\r\n\tB.prototype.B = true;\r\n\tB.prototype._PB = true;\r\n\tA.prototype.A = true;\r\n\tA.prototype._PA = true;\r\n\r\n\tassert.equal(\"a\" in m, true)\r\n\tassert.equal(\"b\" in m, true)\r\n\tassert.equal(\"toString\" in m, true)\r\n\r\n\tassert.equal(\"A\" in m, false)\r\n\tassert.equal(\"B\" in m, false)\r\n\tassert.equal(\"_pa\" in m, false)\r\n\tassert.equal(\"_pb\" in m, false)\r\n\tassert.equal(\"_PA\" in m, false)\r\n\tassert.equal(\"_PB\" in m, false)\r\n\tassert.equal(\"unknown\" in m, false)\r\n\r\n\tconst oKeys = Object.keys(m);\r\n\r\n\tconst ownKeys = Object.getOwnPropertyNames(m);\r\n\r\n\tassert.equal(oKeys.sort().join(\",\"), \"a,b\")\r\n\tassert.equal(ownKeys.sort().join(\",\"), \"a,b\")\r\n})\r\n\r\nQUnit.test(\"ObjectModel constructors\", function (assert) {\r\n\r\n\tclass User extends __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({ firstName: String, lastName: String, fullName: String }){\r\n\t\tconstructor({ firstName, lastName }){\r\n\t\t\tconst fullName = `${firstName} ${lastName}`\r\n\t\t\tsuper({ firstName, lastName, fullName })\r\n\t\t}\r\n\t}\r\n\r\n\tassert.equal((new User({ firstName: \"John\", lastName: \"Smith\" })).fullName, \"John Smith\",\r\n\t\t\"check es6 class constructor\")\r\n\r\n\tconst Bill = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({ unitPrice: Number, quantity: Number, total: Number });\r\n\tBill.constructor = function({ unitPrice, quantity }) { this.total = unitPrice * quantity }\r\n\r\n\tassert.equal((new Bill({ unitPrice: 2.50, quantity: 4 })).total, 10,\r\n\t\t\"check constructor method\")\r\n\r\n})//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi90ZXN0L29iamVjdC1tb2RlbC5zcGVjLmpzP2JiOWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtNb2RlbCwgQmFzaWNNb2RlbCwgT2JqZWN0TW9kZWwsIEFycmF5TW9kZWx9IGZyb20gXCIuLi9zcmMvaW5kZXhcIjtcclxuaW1wb3J0IGNvbnNvbGVNb2NrIGZyb20gXCIuL21vY2tzL2NvbnNvbGVcIjtcclxuXHJcblFVbml0Lm1vZHVsZShcIk9iamVjdCBNb2RlbHNcIik7XHJcblxyXG5RVW5pdC50ZXN0KFwiT2JqZWN0IG1vZGVsIGNvbnN0cnVjdG9yICYmIHByb3RvXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcclxuXHJcblx0YXNzZXJ0Lm9rKE9iamVjdE1vZGVsIGluc3RhbmNlb2YgRnVuY3Rpb24sIFwiT2JqZWN0TW9kZWwgaW5zdGFuY2VvZiBGdW5jdGlvblwiKTtcclxuXHJcblx0Y29uc3QgRW1wdHlPYmplY3RNb2RlbCA9IE9iamVjdE1vZGVsKHt9KTtcclxuXHJcblx0YXNzZXJ0Lm9rKHR5cGVvZiBFbXB0eU9iamVjdE1vZGVsLmV4dGVuZCA9PT0gXCJmdW5jdGlvblwiLCBcInRlc3Qgb2JqZWN0IG1vZGVsIG1ldGhvZCBleHRlbmRcIik7XHJcblx0YXNzZXJ0Lm9rKHR5cGVvZiBFbXB0eU9iamVjdE1vZGVsLmFzc2VydCA9PT0gXCJmdW5jdGlvblwiLCBcInRlc3Qgb2JqZWN0IG1vZGVsIG1ldGhvZCBhc3NlcnRcIik7XHJcblx0YXNzZXJ0Lm9rKHR5cGVvZiBFbXB0eU9iamVjdE1vZGVsLnRlc3QgPT09IFwiZnVuY3Rpb25cIiwgXCJ0ZXN0IG9iamVjdCBtb2RlbCBtZXRob2QgdGVzdFwiKTtcclxuXHRhc3NlcnQub2sodHlwZW9mIEVtcHR5T2JqZWN0TW9kZWwudmFsaWRhdGUgPT09IFwiZnVuY3Rpb25cIiwgXCJ0ZXN0IG9iamVjdCBtb2RlbCBtZXRob2QgdmFsaWRhdGVcIik7XHJcblx0YXNzZXJ0Lm9rKHR5cGVvZiBFbXB0eU9iamVjdE1vZGVsLmRlZmluaXRpb24gPT09IFwib2JqZWN0XCIsIFwidGVzdCBvYmplY3QgbW9kZWwgcHJvcCBkZWZpbml0aW9uXCIpO1xyXG5cdGFzc2VydC5vayh0eXBlb2YgRW1wdHlPYmplY3RNb2RlbC5hc3NlcnRpb25zID09PSBcIm9iamVjdFwiLCBcInRlc3Qgb2JqZWN0IG1vZGVsIHByb3AgYXNzZXJ0aW9uc1wiKTtcclxuXHJcblx0Y29uc3QgRW1wdHlPYmplY3RNb2RlbFRocm91Z2hDb25zdHJ1Y3RvciA9IG5ldyBPYmplY3RNb2RlbCh7fSk7XHJcblxyXG5cdGFzc2VydC5vayh0eXBlb2YgRW1wdHlPYmplY3RNb2RlbFRocm91Z2hDb25zdHJ1Y3Rvci5leHRlbmQgPT09IFwiZnVuY3Rpb25cIiwgXCJ0ZXN0IG5ldyBtb2RlbCBtZXRob2QgZXh0ZW5kXCIpO1xyXG5cdGFzc2VydC5vayh0eXBlb2YgRW1wdHlPYmplY3RNb2RlbFRocm91Z2hDb25zdHJ1Y3Rvci5hc3NlcnQgPT09IFwiZnVuY3Rpb25cIiwgXCJ0ZXN0IG5ldyBtb2RlbCBtZXRob2QgYXNzZXJ0XCIpO1xyXG5cdGFzc2VydC5vayh0eXBlb2YgRW1wdHlPYmplY3RNb2RlbFRocm91Z2hDb25zdHJ1Y3Rvci50ZXN0ID09PSBcImZ1bmN0aW9uXCIsIFwidGVzdCBuZXcgbW9kZWwgbWV0aG9kIHRlc3RcIik7XHJcblx0YXNzZXJ0Lm9rKHR5cGVvZiBFbXB0eU9iamVjdE1vZGVsVGhyb3VnaENvbnN0cnVjdG9yLnZhbGlkYXRlID09PSBcImZ1bmN0aW9uXCIsIFwidGVzdCBuZXcgbW9kZWwgbWV0aG9kIHZhbGlkYXRlXCIpO1xyXG5cdGFzc2VydC5vayh0eXBlb2YgRW1wdHlPYmplY3RNb2RlbFRocm91Z2hDb25zdHJ1Y3Rvci5kZWZpbml0aW9uID09PSBcIm9iamVjdFwiLCBcInRlc3QgbmV3IG1vZGVsIHByb3AgZGVmaW5pdGlvblwiKTtcclxuXHRhc3NlcnQub2sodHlwZW9mIEVtcHR5T2JqZWN0TW9kZWxUaHJvdWdoQ29uc3RydWN0b3IuYXNzZXJ0aW9ucyA9PT0gXCJvYmplY3RcIiwgXCJ0ZXN0IG5ldyBtb2RlbCBwcm9wIGFzc2VydGlvbnNcIik7XHJcbn0pXHJcblxyXG5RVW5pdC50ZXN0KFwiT2JqZWN0IG1vZGVsIGJlaGF2aW91ciBmb3IgcHJvcGVydGllc1wiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XHJcblx0dmFyIFBlcnNvbiA9IE9iamVjdE1vZGVsKHtcclxuXHRcdG5hbWU6IFN0cmluZyxcclxuXHRcdGFnZTogTnVtYmVyLFxyXG5cdFx0YmlydGg6IERhdGUsXHJcblx0XHRmZW1hbGU6IFtCb29sZWFuXSxcclxuXHRcdGFkZHJlc3M6IHtcclxuXHRcdFx0d29yazoge1xyXG5cdFx0XHRcdGNpdHk6IFtTdHJpbmddXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0dmFyIGpvZSA9IFBlcnNvbih7XHJcblx0XHRuYW1lOiBcIkpvZVwiLFxyXG5cdFx0YWdlOiA0MixcclxuXHRcdGJpcnRoOiBuZXcgRGF0ZSgxOTkwLCAzLCAyNSksXHJcblx0XHRmZW1hbGU6IGZhbHNlLFxyXG5cdFx0YWRkcmVzczoge1xyXG5cdFx0XHR3b3JrOiB7XHJcblx0XHRcdFx0Y2l0eTogXCJMaWxsZVwiXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0YXNzZXJ0LnN0cmljdEVxdWFsKGpvZS5uYW1lLCBcIkpvZVwiLCBcIlN0cmluZyBwcm9wZXJ0eSByZXRyaWV2ZWRcIik7XHJcblx0YXNzZXJ0LnN0cmljdEVxdWFsKGpvZS5hZ2UsIDQyLCBcIk51bWJlciBwcm9wZXJ0eSByZXRyaWV2ZWRcIik7XHJcblx0YXNzZXJ0LnN0cmljdEVxdWFsKGpvZS5mZW1hbGUsIGZhbHNlLCBcIkJvb2xlYW4gcHJvcGVydHkgcmV0cmlldmVkXCIpO1xyXG5cdGFzc2VydC5lcXVhbCgram9lLmJpcnRoLCArKG5ldyBEYXRlKDE5OTAsIDMsIDI1KSksIFwiRGF0ZSBwcm9wZXJ0eSByZXRyaWV2ZWRcIik7XHJcblx0YXNzZXJ0LnN0cmljdEVxdWFsKGpvZS5hZGRyZXNzLndvcmsuY2l0eSwgXCJMaWxsZVwiLCBcIm5lc3RlZCBwcm9wZXJ0eSByZXRyaWV2ZWRcIik7XHJcblx0YXNzZXJ0Lm9rKGpvZSBpbnN0YW5jZW9mIFBlcnNvbiAmJiBqb2UgaW5zdGFuY2VvZiBPYmplY3QsIFwiaW5zdGFuY2UgaXMgaW5zdGFuY2VvZiBtb2RlbCBhbmQgT2JqZWN0XCIpO1xyXG5cdGFzc2VydC5vayhQZXJzb24gaW5zdGFuY2VvZiBPYmplY3RNb2RlbCwgXCJtb2RlbCBpcyBpbnN0YW5jZW9mIE9iamVjdE1vZGVsXCIpO1xyXG5cclxuXHRqb2UubmFtZSA9IFwiQmlnIEpvZVwiO1xyXG5cdGpvZS5hZ2UrKztcclxuXHRqb2UuYmlydGggPSBuZXcgRGF0ZSgxOTkwLCAzLCAyNik7XHJcblx0ZGVsZXRlIGpvZS5mZW1hbGU7XHJcblxyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0am9lLm5hbWUgPSA0MjtcclxuXHR9LCAvVHlwZUVycm9yLipnb3QgTnVtYmVyIDQyLywgXCJpbnZhbGlkIE51bWJlciBzZXRcIik7XHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRqb2UuYWdlID0gdHJ1ZTtcclxuXHR9LCAvVHlwZUVycm9yLipnb3QgQm9vbGVhbiB0cnVlLywgXCJpbnZhbGlkIEJvb2xlYW4gc2V0XCIpO1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0am9lLmJpcnRoID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0fTtcclxuXHR9LCAvVHlwZUVycm9yLipnb3QgRnVuY3Rpb24vLCBcImludmFsaWQgRnVuY3Rpb24gc2V0XCIpO1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0am9lLmZlbWFsZSA9IFwibm9wZVwiO1xyXG5cdH0sIC9UeXBlRXJyb3IuKmdvdCBTdHJpbmcgXCJub3BlXCIvLCBcImludmFsaWQgU3RyaW5nIHNldFwiKTtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdGpvZS5hZGRyZXNzLndvcmsuY2l0eSA9IFtdO1xyXG5cdH0sIC9UeXBlRXJyb3IuKmdvdCBBcnJheS8sIFwiaW52YWxpZCBBcnJheSBzZXRcIik7XHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRqb2UuYWRkcmVzcy53b3JrID0ge2NpdHk6IDQyfTtcclxuXHR9LCAvVHlwZUVycm9yLipnb3QgTnVtYmVyIDQyLywgXCJpbnZhbGlkIE9iamVjdCBzZXRcIik7XHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGpvZSA9IFBlcnNvbih7XHJcblx0XHRcdFx0bmFtZTogXCJKb2VcIixcclxuXHRcdFx0XHRhZ2U6IDQyLFxyXG5cdFx0XHRcdGJpcnRoOiBuZXcgRGF0ZSgxOTkwLCAzLCAyNSksXHJcblx0XHRcdFx0ZmVtYWxlOiBcImZhbHNlXCJcclxuXHRcdFx0fSk7XHJcblx0XHR9LCAvVHlwZUVycm9yLipleHBlY3RpbmcgZmVtYWxlIHRvIGJlIEJvb2xlYW4uKmdvdCBTdHJpbmcgXCJmYWxzZVwiLyxcclxuXHRcdFwiaW52YWxpZCBwcm9wIGF0IG9iamVjdCBtb2RlbCBpbnN0YW5jaWF0aW9uXCJcclxuXHQpO1xyXG5cclxuXHRqb2UgPSBQZXJzb24oe1xyXG5cdFx0bmFtZTogXCJKb2VcIixcclxuXHRcdGFnZTogNDIsXHJcblx0XHRiaXJ0aDogbmV3IERhdGUoMTk5MCwgMywgMjUpLFxyXG5cdFx0ZmVtYWxlOiBmYWxzZSxcclxuXHRcdGFkZHJlc3M6IHtcclxuXHRcdFx0d29yazoge1xyXG5cdFx0XHRcdGNpdHk6IFwiTGlsbGVcIlxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0am9iOiBcIlRheGlcIlxyXG5cdH0pO1xyXG5cclxuXHRhc3NlcnQuc3RyaWN0RXF1YWwoam9lLmpvYiwgXCJUYXhpXCIsIFwiUHJvcGVydGllcyBvdXQgb2YgbW9kZWwgZGVmaW5pdGlvbiBhcmUga2VwdCBidXQgYXJlIG5vdCB2YWxpZGF0ZWRcIik7XHJcblxyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0UGVyc29uKHtcclxuXHRcdFx0bmFtZTogZmFsc2UsXHJcblx0XHRcdGFnZTogWzQyXSxcclxuXHRcdFx0YmlydGg6IFwibm9wZVwiLFxyXG5cdFx0XHRmZW1hbGU6IG51bGwsXHJcblx0XHRcdGFkZHJlc3M6IHtcclxuXHRcdFx0XHR3b3JrOiB7XHJcblx0XHRcdFx0XHRjaXR5OiB0cnVlXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9LCBmdW5jdGlvbiAoZXJyKSB7XHJcblx0XHRyZXR1cm4gL1R5cGVFcnJvci8udGVzdChlcnIudG9TdHJpbmcoKSlcclxuXHRcdFx0JiYgL25hbWUvLnRlc3QoZXJyLnRvU3RyaW5nKCkpXHJcblx0XHRcdCYmIC9hZ2UvLnRlc3QoZXJyLnRvU3RyaW5nKCkpXHJcblx0XHRcdCYmIC9iaXJ0aC8udGVzdChlcnIudG9TdHJpbmcoKSlcclxuXHRcdFx0JiYgL2NpdHkvLnRlc3QoZXJyLnRvU3RyaW5nKCkpXHJcblx0fSwgXCJjaGVjayB0aGF0IGVycm9ycyBhcmUgY29ycmVjdGx5IHN0YWNrZWRcIik7XHJcbn0pO1xyXG5cclxuUVVuaXQudGVzdChcIk9iamVjdE1vZGVsIGVkZ2UgY2FzZXMgb2YgY29uc3RydWN0b3JzXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcclxuXHRhc3NlcnQub2soT2JqZWN0TW9kZWwoe30pIGluc3RhbmNlb2YgT2JqZWN0TW9kZWwsIFwiT2JqZWN0TW9kZWwgY2FuIHJlY2VpdmUgZW1wdHkgb2JqZWN0IGFzIGFyZ3VtZW50XCIpO1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0T2JqZWN0TW9kZWwoKVxyXG5cdH0sIC9FcnJvci4qTW9kZWwgZGVmaW5pdGlvbiBpcyByZXF1aXJlZC8sIFwiT2JqZWN0TW9kZWwgd2l0aG91dCBkZWZpbml0aW9uIHRocm93c1wiKVxyXG5cclxuXHQvKiAvL1RPRE9cclxuXHQgYXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0IE9iamVjdE1vZGVsKHVuZGVmaW5lZClcclxuXHQgfSwgL2V4cGVjdGluZyBhcmd1bWVudHNcXFswXSB0byBiZSBPYmplY3QsIGdvdCB1bmRlZmluZWQvLFxyXG5cdCBcIk9iamVjdE1vZGVsIHdpdGggZGVmaW5pdGlvbiB1bmRlZmluZWQgdGhyb3dzXCIpXHJcblxyXG5cdCBhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHQgT2JqZWN0TW9kZWwoNDIpXHJcblx0IH0sIC9leHBlY3RpbmcgYXJndW1lbnRzXFxbMF0gdG8gYmUgT2JqZWN0LCBnb3QgTnVtYmVyIDQyLyxcclxuXHQgXCJPYmplY3RNb2RlbCB3aXRoIGRlZmluaXRpb24gcHJpbWl0aXZlIHRocm93c1wiKVxyXG5cdCAqL1xyXG59KTtcclxuXHJcblFVbml0LnRlc3QoXCJPYmplY3RNb2RlbCB3aXRoIG9wdGlvbmFsIGFuZCBtdWx0aXBsZSBwYXJhbWV0ZXJzXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcclxuXHR2YXIgUGVyc29uID0gT2JqZWN0TW9kZWwoe1xyXG5cdFx0bmFtZTogW1N0cmluZ10sXHJcblx0XHRhZ2U6IFtOdW1iZXIsIERhdGUsIFN0cmluZywgQm9vbGVhbiwgdW5kZWZpbmVkXSxcclxuXHRcdGZlbWFsZTogW0Jvb2xlYW4sIE51bWJlciwgU3RyaW5nLCBudWxsXSxcclxuXHRcdGhhaXJjb2xvcjogW1wiYmxvbmRcIiwgXCJicm93blwiLCBcImJsYWNrXCIsIHVuZGVmaW5lZF0sXHJcblx0XHRhZGRyZXNzOiB7XHJcblx0XHRcdHdvcms6IHtcclxuXHRcdFx0XHRjaXR5OiBbU3RyaW5nXVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdHZhciBqb2UgPSBQZXJzb24oe2ZlbWFsZTogZmFsc2V9KTtcclxuXHRhc3NlcnQub2soam9lIGluc3RhbmNlb2YgUGVyc29uLCBcImluc3RhbmNlb2YgbW9kZWwgdGVzdFwiKTtcclxuXHRqb2UubmFtZSA9IFwiam9lXCI7XHJcblx0am9lLm5hbWUgPSB1bmRlZmluZWQ7XHJcblx0am9lLm5hbWUgPSBudWxsO1xyXG5cdGpvZS5hZ2UgID0gbmV3IERhdGUoMTk5NSwgMSwgMjMpO1xyXG5cdGpvZS5hZ2UgID0gdW5kZWZpbmVkO1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0am9lLmFnZSA9IG51bGw7XHJcblx0fSwgL1R5cGVFcnJvci4qZ290IG51bGwvLCBcImludmFsaWQgc2V0IG51bGxcIik7XHJcblx0am9lLmZlbWFsZSA9IFwiYW5uXCI7XHJcblx0am9lLmZlbWFsZSA9IDI7XHJcblx0am9lLmZlbWFsZSA9IGZhbHNlO1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0am9lLmZlbWFsZSA9IHVuZGVmaW5lZDtcclxuXHR9LCAvVHlwZUVycm9yLipnb3QgdW5kZWZpbmVkLywgXCJpbnZhbGlkIHNldCB1bmRlZmluZWRcIik7XHJcblx0am9lLmFkZHJlc3Mud29yay5jaXR5ID0gXCJMaWxsZVwiO1xyXG5cdGpvZS5hZGRyZXNzLndvcmsuY2l0eSA9IHVuZGVmaW5lZDtcclxuXHRqb2UuaGFpcmNvbG9yICAgICAgICAgPSBcImJsb25kXCI7XHJcblx0am9lLmhhaXJjb2xvciAgICAgICAgID0gdW5kZWZpbmVkO1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0am9lLm5hbWUgPSBmYWxzZTtcclxuXHR9LCAvVHlwZUVycm9yLipleHBlY3RpbmcgbmFtZSB0byBiZSBTdHJpbmcuKmdvdCBCb29sZWFuIGZhbHNlLywgXCJpbnZhbGlkIHR5cGUgZm9yIG9wdGlvbmFsIHByb3BcIik7XHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRqb2UuYWdlID0gbnVsbDtcclxuXHR9LCAvVHlwZUVycm9yLipleHBlY3RpbmcgYWdlIHRvIGJlIE51bWJlciBvciBEYXRlIG9yIFN0cmluZyBvciBCb29sZWFuIG9yIHVuZGVmaW5lZC8sIFwiaW52YWxpZCBzZXQgbnVsbCBmb3Igb3B0aW9uYWwgdW5pb24gdHlwZSBwcm9wXCIpO1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0am9lLmFnZSA9IFtdO1xyXG5cdH0sIC9UeXBlRXJyb3IuKmdvdCBBcnJheS8sIFwiaW52YWxpZCBzZXQgYXJyYXkgZm9yIG9wdGlvbmFsIHVuaW9uIHR5cGUgcHJvcFwiKTtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdGpvZS5hZGRyZXNzLndvcmsuY2l0eSA9IDA7XHJcblx0fSwgL1R5cGVFcnJvci4qZXhwZWN0aW5nIGFkZHJlc3Mud29yay5jaXR5IHRvIGJlIFN0cmluZy4qZ290IE51bWJlciAwLywgXCJpbnZhbGlkIHR5cGUgZm9yIG5lc3RlZCBvcHRpb25hbCBwcm9wXCIpO1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0am9lLmhhaXJjb2xvciA9IFwiXCI7XHJcblx0fSwgL1R5cGVFcnJvci4qZXhwZWN0aW5nIGhhaXJjb2xvciB0byBiZSBcImJsb25kXCIgb3IgXCJicm93blwiIG9yIFwiYmxhY2tcIiBvciB1bmRlZmluZWQsIGdvdCBTdHJpbmcgXCJcIi8sIFwiaW52YWxpZCB0eXBlIGZvciB2YWx1ZSBlbnVtIHByb3BcIik7XHJcblxyXG59KTtcclxuXHJcblFVbml0LnRlc3QoXCJPYmplY3RNb2RlbCB3aXRoIGZpeGVkIHZhbHVlc1wiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XHJcblx0dmFyIG15TW9kZWwgPSBPYmplY3RNb2RlbCh7XHJcblx0XHRhOiBbMSwgMiwgM10sXHJcblx0XHRiOiA0MixcclxuXHRcdGM6IFtcIlwiLCBmYWxzZSwgbnVsbCwgMF0sXHJcblx0XHRoYWlyY29sb3I6IFtcImJsb25kXCIsIFwiYnJvd25cIiwgXCJibGFja1wiXSxcclxuXHRcdGZvbzogXCJiYXJcIixcclxuXHRcdHg6IFtOdW1iZXIsIHRydWVdXHJcblx0fSk7XHJcblxyXG5cdHZhciBtb2RlbCA9IG15TW9kZWwoe1xyXG5cdFx0YTogMSxcclxuXHRcdGI6IDQyLFxyXG5cdFx0YzogMCxcclxuXHRcdGhhaXJjb2xvcjogXCJibG9uZFwiLFxyXG5cdFx0Zm9vOiBcImJhclwiLFxyXG5cdFx0eDogdHJ1ZVxyXG5cdH0pO1xyXG5cclxuXHRtb2RlbC54ICAgICAgICAgPSA2NjY7XHJcblx0bW9kZWwuaGFpcmNvbG9yID0gXCJicm93blwiO1xyXG5cclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdG1vZGVsLmEgPSA0O1xyXG5cdH0sIC9UeXBlRXJyb3IuKmV4cGVjdGluZyBhIHRvIGJlIDEgb3IgMiBvciAzLipnb3QgTnVtYmVyIDQvLCAnaW52YWxpZCBzZXQgb24gdmFsdWVzIGVudW0gMS8yJyk7XHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRtb2RlbC5iID0gNDM7XHJcblx0fSwgL1R5cGVFcnJvci4qZXhwZWN0aW5nIGIgdG8gYmUgNDIuKmdvdCBOdW1iZXIgNDMvLCBcImludmFsaWQgc2V0IG9uIGZpeGVkIHZhbHVlIDEvMlwiKTtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdG1vZGVsLmMgPSB1bmRlZmluZWQ7XHJcblx0fSwgL1R5cGVFcnJvci4qZXhwZWN0aW5nIGMgdG8gYmUgXCJcIiBvciBmYWxzZSBvciBudWxsIG9yIDAuKmdvdCB1bmRlZmluZWQvLCBcImludmFsaWQgc2V0IHVuZGVmaW5lZCBvbiBtaXhlZCB0eXBlZCB2YWx1ZXMgZW51bVwiKTtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdG1vZGVsLmhhaXJjb2xvciA9IFwicm91eFwiO1xyXG5cdH0sIC9UeXBlRXJyb3IuKmV4cGVjdGluZyBoYWlyY29sb3IgdG8gYmUgXCJibG9uZFwiIG9yIFwiYnJvd25cIiBvciBcImJsYWNrXCIuKmdvdCBTdHJpbmcgXCJyb3V4XCIvLCAnaW52YWxpZCBzZXQgb24gdmFsdWVzIGVudW0gMi8yJyk7XHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRtb2RlbC5mb28gPSBcImJhelwiO1xyXG5cdH0sIC9UeXBlRXJyb3IuKmV4cGVjdGluZyBmb28gdG8gYmUgXCJiYXJcIi4qZ290IFN0cmluZyBcImJhelwiLywgXCJpbnZhbGlkIHNldCBvbiBmaXhlZCB2YWx1ZSAyLzJcIik7XHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRtb2RlbC54ID0gZmFsc2U7XHJcblx0fSwgL1R5cGVFcnJvci4qZXhwZWN0aW5nIHggdG8gYmUgTnVtYmVyIG9yIHRydWUuKmdvdCBCb29sZWFuIGZhbHNlLywgXCJpbnZhbGlkIHNldCBvbiBtaXhlZCB0eXBlL3ZhbHVlcyBlbnVtXCIpO1xyXG5cclxufSk7XHJcblxyXG5RVW5pdC50ZXN0KFwiT2JqZWN0IG1vZGVsIGRlZmF1bHQgdmFsdWVzXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcclxuXHJcblx0Y29uc3QgbXlNb2RlbCA9IG5ldyBPYmplY3RNb2RlbCh7XHJcblx0XHRuYW1lOiBTdHJpbmcsXHJcblx0XHRmb286IHtcclxuXHRcdFx0YmFyOiB7XHJcblx0XHRcdFx0YnV6OiBOdW1iZXJcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pLmRlZmF1bHRzKHtcclxuXHRcdG5hbWU6IFwiam9lXCIsXHJcblx0XHRmb286IHtcclxuXHRcdFx0YmFyOiB7XHJcblx0XHRcdFx0YnV6OiAwXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0Y29uc3QgbW9kZWwgPSBteU1vZGVsKCk7XHJcblx0YXNzZXJ0LnN0cmljdEVxdWFsKG1vZGVsLm5hbWUsIFwiam9lXCIsIFwiZGVmYXVsdHMgdmFsdWVzIGNvcnJlY3RseSBhcHBsaWVkXCIpO1xyXG5cdGFzc2VydC5zdHJpY3RFcXVhbChtb2RlbC5mb28uYmFyLmJ1eiwgMCwgXCJkZWZhdWx0cyBuZXN0ZWQgcHJvcHMgdmFsdWVzIGNvcnJlY3RseSBhcHBsaWVkXCIpO1xyXG5cdGFzc2VydC5vayhteU1vZGVsLnRlc3Qoe30pLCBcImRlZmF1bHRzIHNob3VsZCBiZSBhcHBsaWVkIHdoZW4gdGVzdGluZyBkdWNrIHR5cGVkIG9iamVjdHNcIilcclxuXHJcblx0Y29uc3QgbW9kZWwyID0gbXlNb2RlbCh7bmFtZTogXCJqaW1cIiwgZm9vOiB7YmFyOiB7YnV6OiAxfX19KTtcclxuXHRhc3NlcnQuc3RyaWN0RXF1YWwobW9kZWwyLm5hbWUsIFwiamltXCIsIFwiZGVmYXVsdHMgdmFsdWVzIG5vdCBhcHBsaWVkIGlmIHByb3ZpZGVkXCIpO1xyXG5cdGFzc2VydC5zdHJpY3RFcXVhbChtb2RlbDIuZm9vLmJhci5idXosIDEsIFwiZGVmYXVsdHMgbmVzdGVkIHByb3BzIHZhbHVlcyBub3QgYXBwbGllZCBpZiBwcm92aWRlZFwiKTtcclxuXHJcbn0pO1xyXG5cclxuUVVuaXQudGVzdChcIk9iamVjdCBtb2RlbCBkZWZhdWx0VG8gd2l0aCBkZWZhdWx0c1wiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XHJcblxyXG5cdGNvbnN0IG15TW9kZWwgPSBuZXcgT2JqZWN0TW9kZWwoe3g6IE51bWJlciwgeTogU3RyaW5nfSlcclxuXHRcdC5kZWZhdWx0VG8oe3g6IDQyfSlcclxuXHRcdC5kZWZhdWx0cyh7eTogXCJoZWxsb1wifSlcclxuXHJcblx0YXNzZXJ0LnN0cmljdEVxdWFsKG15TW9kZWwuZGVmYXVsdC54LCA0MiwgXCJvYmplY3QgbW9kZWwgZGVmYXVsdFRvIHN0b3JlIHRoZSB2YWx1ZSBhcyBkZWZhdWx0IHByb3BlcnR5XCIpXHJcblx0YXNzZXJ0LnN0cmljdEVxdWFsKG15TW9kZWwucHJvdG90eXBlLnksIFwiaGVsbG9cIiwgXCJvYmplY3QgbW9kZWwgZGVmYXVsdHMgc3RvcmUgdmFsdWVzIHRvIHByb3RvXCIpXHJcblx0YXNzZXJ0LnN0cmljdEVxdWFsKG15TW9kZWwoKS54LCA0MiwgXCJvYmplY3QgbW9kZWwgZGVmYXVsdCBwcm9wZXJ0eSBpcyBhcHBsaWVkIHdoZW4gdW5kZWZpbmVkIGlzIHBhc3NlZFwiKTtcclxuXHRhc3NlcnQuc3RyaWN0RXF1YWwobXlNb2RlbCgpLnksIFwiaGVsbG9cIiwgXCJkZWZhdWx0ZWQgb2JqZWN0IG1vZGVsIHN0aWxsIGluaGVyaXQgZnJvbSBtb2RlbCBwcm90b1wiKTtcclxuXHRhc3NlcnQuc3RyaWN0RXF1YWwobXlNb2RlbC5kZWZhdWx0LnksIHVuZGVmaW5lZCwgXCJvYmplY3QgbW9kZWwgZGVmYXVsdCB2YWx1ZSBpdHNlbGYgZG9lcyBub3QgaW5oZXJpdCBmcm9tIGZyb20gbW9kZWwgcHJvdG9cIik7XHJcblxyXG5cdG15TW9kZWwuZGVmYXVsdC54ID0gXCJub3BlXCI7XHJcblxyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0bXlNb2RlbCgpXHJcblx0fSwgL1R5cGVFcnJvci4qZ290IFN0cmluZyBcIm5vcGVcIi8sIFwiaW52YWxpZCBkZWZhdWx0IHByb3BlcnR5IHN0aWxsIHRocm93cyBUeXBlRXJyb3IgZm9yIG9iamVjdCBtb2RlbHNcIik7XHJcblxyXG59KTtcclxuXHJcblFVbml0LnRlc3QoXCJSZWdFeHAgdmFsdWVzXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcclxuXHJcblx0Y29uc3QgbXlNb2RlbCA9IE9iamVjdE1vZGVsKHtcclxuXHRcdHBob25lbnVtYmVyOiAvXlswLTldezEwfSQvLFxyXG5cdFx0dm95ZWxzOiBbL15bYWVpb3V5XSskL11cclxuXHR9KTtcclxuXHJcblx0Y29uc3QgbSA9IG15TW9kZWwoe1xyXG5cdFx0cGhvbmVudW1iZXI6IFwiMDYxMjM0NTY3OFwiXHJcblx0fSk7XHJcblxyXG5cdG0udm95ZWxzID0gXCJvdWlvdWlcIjtcclxuXHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRtLnZveWVscyA9IFwibm9ubm9uXCJcclxuXHR9LCAvVHlwZUVycm9yLywgXCJyZWdleCBtYXRjaGluZ1wiKTtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdG0ucGhvbmVudW1iZXIgPSBcIjEyMzQ1Njc4OVwiXHJcblx0fSwgL1R5cGVFcnJvci8sIFwicmVnZXggbWF0Y2hpbmcgMlwiKTtcclxuXHJcbn0pO1xyXG5cclxuUVVuaXQudGVzdChcIlByaXZhdGUgYW5kIGNvbnN0YW50IHByb3BlcnRpZXNcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xyXG5cclxuXHRsZXQgbXlNb2RlbCA9IE9iamVjdE1vZGVsKHtcclxuXHRcdENPTlNUOiBOdW1iZXIsXHJcblx0XHRfcHJpdmF0ZTogTnVtYmVyLFxyXG5cdFx0bm9ybWFsOiBOdW1iZXJcclxuXHR9KTtcclxuXHJcblx0bGV0IG0gPSBteU1vZGVsKHtcclxuXHRcdENPTlNUOiA0MixcclxuXHRcdF9wcml2YXRlOiA0MyxcclxuXHRcdG5vcm1hbDogNDRcclxuXHR9KTtcclxuXHJcblx0bS5ub3JtYWwrKztcclxuXHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRtLl9wcml2YXRlKys7XHJcblx0fSwgL1R5cGVFcnJvcltcXHNcXFNdKnByaXZhdGUvLCBcInRyeSB0byBtb2RpZnkgcHJpdmF0ZVwiKTtcclxuXHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRtLkNPTlNUKys7XHJcblx0fSwgL1R5cGVFcnJvcltcXHNcXFNdKmNvbnN0YW50LywgXCJ0cnkgdG8gbW9kaWZ5IGNvbnN0YW50XCIpO1xyXG5cdGFzc2VydC5lcXVhbChPYmplY3Qua2V5cyhtKS5sZW5ndGgsIDIsIFwibm9uIGVudW1lcmFibGUga2V5IG5vdCBjb3VudGVkIGJ5IE9iamVjdC5rZXlzXCIpO1xyXG5cdGFzc2VydC5lcXVhbChPYmplY3Qua2V5cyhtKS5pbmNsdWRlcyhcIl9wcml2YXRlXCIpLCBmYWxzZSwgXCJub24gZW51bWVyYWJsZSBrZXkgbm90IGZvdW5kIGluIE9iamVjdC5rZXlzXCIpO1xyXG5cdGFzc2VydC5lcXVhbChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhtKS5sZW5ndGgsIDIsIFwibm9uIGVudW1lcmFibGUga2V5IG5vdCBjb3VudGVkIGJ5IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXCIpO1xyXG5cdGFzc2VydC5lcXVhbChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhtKS5pbmNsdWRlcyhcIl9wcml2YXRlXCIpLCBmYWxzZSwgXCJub24gZW51bWVyYWJsZSBrZXkgbm90IGZvdW5kIGluIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXCIpO1xyXG5cdGFzc2VydC5lcXVhbChcIm5vcm1hbFwiIGluIG0sIHRydWUsIFwiZW51bWVyYWJsZSBrZXkgZm91bmQgd2l0aCBvcGVyYXRvciBpblwiKVxyXG5cdGFzc2VydC5lcXVhbChcIl9wcml2YXRlXCIgaW4gbSwgZmFsc2UsIFwibm9uIGVudW1lcmFibGUga2V5IG5vdCBmb3VuZCB3aXRoIG9wZXJhdG9yIGluXCIpXHJcblx0YXNzZXJ0LmVxdWFsKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgXCJub3JtYWxcIikudmFsdWUsIDQ1LCBcImdldE93blByb3BlcnlEZXNjcmlwdG9yIHRyYXAgZm9yIG5vcm1hbCBwcm9wXCIpXHJcblx0YXNzZXJ0LmVxdWFsKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgXCJfcHJpdmF0ZVwiKSwgdW5kZWZpbmVkLCBcImdldE93blByb3BlcnlEZXNjcmlwdG9yIGZvciBwcml2YXRlIHByb3BcIilcclxuXHJcblx0bGV0IE0gPSBPYmplY3RNb2RlbCh7IF9wOiBOdW1iZXIgfSlcclxuXHRtID0gTSh7IF9wOiA0MiB9KVxyXG5cclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdG0uX3BcclxuXHR9LCAvVHlwZUVycm9yW1xcc1xcU10qY2Fubm90IGFjY2VzcyB0byBwcml2YXRlLywgXCJ0cnkgdG8gYWNjZXNzIHByaXZhdGUgZnJvbSBvdXRzaWRlXCIpO1xyXG5cclxuXHRNLnByb3RvdHlwZS5pbmNyZW1lbnRQcml2YXRlID0gZnVuY3Rpb24oKXsgdGhpcy5fcCsrIH1cclxuXHRNLnByb3RvdHlwZS5nZXRQcml2YXRlID0gZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXMuX3AgfVxyXG5cdG0uaW5jcmVtZW50UHJpdmF0ZSgpO1xyXG5cdGFzc2VydC5lcXVhbChtLmdldFByaXZhdGUoKSwgNDMsIFwiY2FuIGFjY2VzcyBhbmQgbXV0YXRlIHByaXZhdGUgcHJvcHMgdGhyb3VnaCBtZXRob2RzXCIpXHJcblxyXG59KTtcclxuXHJcblFVbml0LnRlc3QoXCJOb24tZW51bWVyYWJsZSBhbmQgbm9uLXdyaXRhYmxlIHByb3BlcnRpZXMgd2l0aCBvdmVycmlkZGVuIGNvbnZlbnRpb25cIiwgZnVuY3Rpb24gKGFzc2VydCkge1xyXG5cclxuXHRjb25zdCBteU1vZGVsID0gT2JqZWN0TW9kZWwoe1xyXG5cdFx0cHJpdmF0ZV9wcm9wOiBOdW1iZXIsXHJcblx0XHRjb25zdGFudF9wcm9wOiBOdW1iZXIsXHJcblx0XHRub3JtYWxfcHJvcDogTnVtYmVyXHJcblx0fSk7XHJcblxyXG5cdG15TW9kZWwuY29udmVudGlvbkZvckNvbnN0YW50ID0gcyA9PiBzLmluZGV4T2YoXCJjb25zdGFudF9cIikgPT09IDA7XHJcblx0bXlNb2RlbC5jb252ZW50aW9uRm9yUHJpdmF0ZSAgPSBzID0+IHMuaW5kZXhPZihcInByaXZhdGVfXCIpID09PSAwO1xyXG5cclxuXHRjb25zdCBtID0gbXlNb2RlbCh7XHJcblx0XHRwcml2YXRlX3Byb3A6IDQyLFxyXG5cdFx0Y29uc3RhbnRfcHJvcDogNDMsXHJcblx0XHRub3JtYWxfcHJvcDogNDRcclxuXHR9KTtcclxuXHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRtLmNvbnN0YW50X3Byb3ArKztcclxuXHR9LCAvVHlwZUVycm9yW1xcc1xcU10qY29uc3RhbnQvLCBcInRyeSB0byByZWRlZmluZSBjb25zdGFudCB3aXRoIG92ZXJyaWRkZW4gY29udmVudGlvblwiKTtcclxuXHRhc3NlcnQuZXF1YWwoT2JqZWN0LmtleXMobSkubGVuZ3RoLCAyLCBcIm5vbiBlbnVtZXJhYmxlIGtleSBub3QgY291bnRlZCBieSBPYmplY3Qua2V5cyB3aXRoIG92ZXJyaWRkZW4gY29udmVudGlvblwiKTtcclxuXHRhc3NlcnQuZXF1YWwoT2JqZWN0LmtleXMobSkuaW5jbHVkZXMoXCJwcml2YXRlX3Byb3BcIiksIGZhbHNlLCBcIm5vbiBlbnVtZXJhYmxlIGtleSBub3QgZm91bmQgaW4gT2JqZWN0LmtleXMgd2l0aCBvdmVycmlkZGVuIGNvbnZlbnRpb25cIik7XHJcblx0YXNzZXJ0LmVxdWFsKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG0pLmxlbmd0aCwgMiwgXCJub24gZW51bWVyYWJsZSBrZXkgbm90IGNvdW50ZWQgYnkgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgd2l0aCBvdmVycmlkZGVuIGNvbnZlbnRpb25cIik7XHJcblx0YXNzZXJ0LmVxdWFsKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG0pLmluY2x1ZGVzKFwicHJpdmF0ZV9wcm9wXCIpLCBmYWxzZSwgXCJub24gZW51bWVyYWJsZSBrZXkgbm90IGZvdW5kIGluIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHdpdGggb3ZlcnJpZGRlbiBjb252ZW50aW9uXCIpO1xyXG5cdGFzc2VydC5lcXVhbChcIm5vcm1hbF9wcm9wXCIgaW4gbSwgdHJ1ZSwgXCJlbnVtZXJhYmxlIGtleSBmb3VuZCB3aXRoIG9wZXJhdG9yIGluIHdpdGggb3ZlcnJpZGRlbiBjb252ZW50aW9uXCIpXHJcblx0YXNzZXJ0LmVxdWFsKFwicHJpdmF0ZV9wcm9wXCIgaW4gbSwgZmFsc2UsIFwibm9uIGVudW1lcmFibGUga2V5IG5vdCBmb3VuZCB3aXRoIG9wZXJhdG9yIGluIHdpdGggb3ZlcnJpZGRlbiBjb252ZW50aW9uXCIpXHJcblxyXG59KTtcclxuXHJcblFVbml0LnRlc3QoXCJFeHRlbnNpb25zXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcclxuXHJcblx0Y29uc3QgUGVyc29uID0gT2JqZWN0TW9kZWwoe1xyXG5cdFx0bmFtZTogU3RyaW5nLFxyXG5cdFx0YWdlOiBOdW1iZXIsXHJcblx0XHRiaXJ0aDogRGF0ZSxcclxuXHRcdGZlbWFsZTogW0Jvb2xlYW5dLFxyXG5cdFx0YWRkcmVzczoge1xyXG5cdFx0XHR3b3JrOiB7XHJcblx0XHRcdFx0Y2l0eTogW1N0cmluZ11cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRjb25zdCBqb2UgPSBQZXJzb24oe1xyXG5cdFx0bmFtZTogXCJKb2VcIixcclxuXHRcdGFnZTogNDIsXHJcblx0XHRiaXJ0aDogbmV3IERhdGUoMTk5MCwgMywgMjUpLFxyXG5cdFx0ZmVtYWxlOiBmYWxzZSxcclxuXHRcdGFkZHJlc3M6IHtcclxuXHRcdFx0d29yazoge1xyXG5cdFx0XHRcdGNpdHk6IFwiTGlsbGVcIlxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdGNvbnN0IFdvbWFuID0gUGVyc29uLmV4dGVuZCh7ZmVtYWxlOiB0cnVlfSk7XHJcblxyXG5cdGFzc2VydC5vayhQZXJzb24oam9lKSwgXCJQZXJzb24gdmFsaWQgbW9kZWwgZm9yIGpvZVwiKTtcclxuXHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRXb21hbihqb2UpO1xyXG5cdH0sIC9UeXBlRXJyb3JbXFxzXFxTXSpmZW1hbGUvLCBcIldvbWFuIGludmFsaWQgbW9kZWwgZm9yIGpvZVwiKTtcclxuXHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRXb21hbih7XHJcblx0XHRcdG5hbWU6IFwiSm9lXCIsXHJcblx0XHRcdGFnZTogNDIsXHJcblx0XHRcdGJpcnRoOiBuZXcgRGF0ZSgxOTkwLCAzLCAyNSksXHJcblx0XHRcdGZlbWFsZTogZmFsc2UsXHJcblx0XHRcdGFkZHJlc3M6IHtcclxuXHRcdFx0XHR3b3JrOiB7XHJcblx0XHRcdFx0XHRjaXR5OiBcIkxpbGxlXCJcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH0sIC9UeXBlRXJyb3JbXFxzXFxTXSpmZW1hbGUvLCBcImNhbnQgYmUgd29tYW4gZnJvbSBqb2UgcGFyYW1ldGVyc1wiKTtcclxuXHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRXb21hbihqb2UpO1xyXG5cdH0sIC9UeXBlRXJyb3JbXFxzXFxTXSpmZW1hbGUvLCBcImNhbnQgYmUgd29tYW4gZnJvbSBQZXJzb24gam9lXCIpO1xyXG5cclxuXHRjb25zdCBhbm4gPSBXb21hbih7XHJcblx0XHRuYW1lOiBcIkpvZSdzIHdpZmVcIixcclxuXHRcdGFnZTogNDIsXHJcblx0XHRiaXJ0aDogbmV3IERhdGUoMTk5MCwgMywgMjUpLFxyXG5cdFx0ZmVtYWxlOiB0cnVlLFxyXG5cdFx0YWRkcmVzczoge1xyXG5cdFx0XHR3b3JrOiB7XHJcblx0XHRcdFx0Y2l0eTogXCJMaWxsZVwiXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0Y29uc3QgVW5lbXBsb3llZFdvbWFuID0gV29tYW4uZXh0ZW5kKHtcclxuXHRcdGFkZHJlc3M6IHtcclxuXHRcdFx0d29yazoge1xyXG5cdFx0XHRcdGNpdHk6IHVuZGVmaW5lZFxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdGFzc2VydC5vayhXb21hbihhbm4pLCBcIldvbWFuIHZhbGlkIG1vZGVsIGZvciBhbm5cIik7XHJcblxyXG5cdGFzc2VydC5vayhXb21hbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPT09IFdvbWFuLCBcImV4dGVuZGVkIG1vZGVsIGhhcyBhIG5ldyBjb25zdHJ1Y3RvclwiKTtcclxuXHRhc3NlcnQub2soYW5uLmNvbnN0cnVjdG9yID09PSBXb21hbiwgXCJleHRlbmRlZCBtb2RlbCBpbnN0YW5jZSBoYXMgdGhlIHJpZ2h0IGNvbnN0cnVjdG9yXCIpO1xyXG5cclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdFVuZW1wbG95ZWRXb21hbihhbm4pO1xyXG5cdH0sIC9UeXBlRXJyb3JbXFxzXFxTXSpjaXR5LywgXCJhbm4gY2FudCBiZSBVbmVtcGxveWVkV29tYW47ICBtb2RlbCBleHRlbnNpb24gbmVzdGVkIHVuZGVmaW5lZCBwcm9wZXJ0eVwiKTtcclxuXHJcblxyXG5cdGNvbnN0IGphbmUgPSBVbmVtcGxveWVkV29tYW4oe1xyXG5cdFx0bmFtZTogXCJKYW5lXCIsXHJcblx0XHRhZ2U6IDUyLFxyXG5cdFx0YmlydGg6IG5ldyBEYXRlKDE5OTAsIDMsIDI1KSxcclxuXHRcdGZlbWFsZTogdHJ1ZVxyXG5cdH0pO1xyXG5cclxuXHRhc3NlcnQub2soYW5uIGluc3RhbmNlb2YgUGVyc29uLCBcImFubiBpbnN0YW5jZW9mIFBlcnNvblwiKTtcclxuXHRhc3NlcnQub2soYW5uIGluc3RhbmNlb2YgV29tYW4sIFwiYW5uIGluc3RhbmNlb2YgV29tYW5cIik7XHJcblx0YXNzZXJ0Lm9rKGphbmUgaW5zdGFuY2VvZiBQZXJzb24sIFwiamFuZSBpbnN0YW5jZW9mIFBlcnNvblwiKTtcclxuXHRhc3NlcnQub2soamFuZSBpbnN0YW5jZW9mIFdvbWFuLCBcImphbmUgaW5zdGFuY2VvZiBXb21hblwiKTtcclxuXHRhc3NlcnQub2soamFuZSBpbnN0YW5jZW9mIFVuZW1wbG95ZWRXb21hbiwgXCJqYW5lIGluc3RhbmNlb2YgVW5lbXBsb3llZFdvbWFuXCIpO1xyXG5cdGFzc2VydC5lcXVhbChqb2UgaW5zdGFuY2VvZiBXb21hbiwgZmFsc2UsIFwiam9lIG5vdCBpbnN0YW5jZW9mIFdvbWFuXCIpO1xyXG5cdGFzc2VydC5lcXVhbChqb2UgaW5zdGFuY2VvZiBVbmVtcGxveWVkV29tYW4sIGZhbHNlLCBcImpvZSBub3QgaW5zdGFuY2VvZiBVbmVtcGxveWVkV29tYW5cIik7XHJcblx0YXNzZXJ0LmVxdWFsKGFubiBpbnN0YW5jZW9mIFVuZW1wbG95ZWRXb21hbiwgZmFsc2UsIFwiYW5uIG5vdCBpbnN0YW5jZW9mIFVuZW1wbG95ZWRXb21hblwiKTtcclxuXHJcblx0bGV0IFZlaGljbGUgPSB7c3BlZWQ6IE51bWJlcn07XHJcblx0bGV0IENhciAgICAgPSBPYmplY3QuY3JlYXRlKFZlaGljbGUpO1xyXG5cdGxldCBGZXJyYXJpID0gT2JqZWN0TW9kZWwoe2V4cGVuc2l2ZTogdHJ1ZX0pLmV4dGVuZChDYXIpO1xyXG5cdGFzc2VydC5vayhcInNwZWVkXCIgaW4gRmVycmFyaS5kZWZpbml0aW9uLCBcInNob3VsZCByZXRyaWV2ZSBkZWZpbml0aW9ucyBmcm9tIHBhcmVudCBwcm90b3R5cGVzIHdoZW4gZXh0ZW5kaW5nIHdpdGggb2JqZWN0c1wiKTtcclxuXHJcblx0VmVoaWNsZSA9IGZ1bmN0aW9uICgpIHt9O1xyXG5cdFZlaGljbGUucHJvdG90eXBlLnNwZWVkID0gOTk7XHJcblx0Q2FyID0gZnVuY3Rpb24gKCkge307XHJcblx0Q2FyLnByb3RvdHlwZSA9IG5ldyBWZWhpY2xlKCk7XHJcblx0RmVycmFyaSA9IE9iamVjdE1vZGVsKHsgcHJpY2U6IFtOdW1iZXJdIH0pLmV4dGVuZChDYXIpO1xyXG5cclxuXHRsZXQgZmVycmFyaSA9IG5ldyBGZXJyYXJpKHsgcHJpY2U6IDk5OTk5OSB9KTtcclxuXHRhc3NlcnQuZXF1YWwoZmVycmFyaS5zcGVlZCwgOTksIFwic2hvdWxkIHJldHJpZXZlIHByb3BlcnRpZXMgZnJvbSBwYXJlbnQgcHJvdG90eXBlcyB3aGVuIGV4dGVuZGluZyB3aXRoIGNvbnN0cnVjdG9yc1wiKTtcclxuXHRhc3NlcnQuZXF1YWwoXCJwcmljZVwiIGluIGZlcnJhcmksIHRydWUsIFwic2hvdWxkIHRyYXAgaW4gb3BlcmF0b3IgYW5kIHJldHVybiB0cnVlIGZvciBwcm9wZXJ0aWVzIGluIGRlZmluaXRpb25cIik7XHJcblx0YXNzZXJ0LmVxdWFsKFwic3BlZWRcIiBpbiBmZXJyYXJpLCBmYWxzZSwgXCJzaG91bGQgdHJhcCBpbiBvcGVyYXRvciBhbmQgcmV0dXJuIGZhbHNlIGZvciBwcm9wZXJ0aWVzIG91dCBvZiBkZWZpbml0aW9uXCIpO1xyXG5cclxufSk7XHJcblxyXG5RVW5pdC50ZXN0KFwiTXVsdGlwbGUgaW5oZXJpdGFuY2VcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xyXG5cclxuXHRjb25zdCBBID0gbmV3IE9iamVjdE1vZGVsKHtcclxuXHRcdGE6IEJvb2xlYW4sXHJcblx0XHRiOiBCb29sZWFuXHJcblx0fSk7XHJcblxyXG5cdGNvbnN0IEIgPSBPYmplY3RNb2RlbCh7XHJcblx0XHRiOiBOdW1iZXIsXHJcblx0XHRjOiBOdW1iZXJcclxuXHR9KTtcclxuXHJcblx0Y29uc3QgQyA9IE9iamVjdE1vZGVsKHtcclxuXHRcdGM6IFN0cmluZyxcclxuXHRcdGQ6IHtcclxuXHRcdFx0ZDE6IEJvb2xlYW4sXHJcblx0XHRcdGQyOiBCb29sZWFuXHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdGNvbnN0IEQgPSBPYmplY3RNb2RlbCh7XHJcblx0XHRhOiBTdHJpbmcsXHJcblx0XHRkOiB7XHJcblx0XHRcdGQyOiBOdW1iZXIsXHJcblx0XHRcdGQzOiBOdW1iZXJcclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0bGV0IE0xID0gQS5leHRlbmQoQiwgQywgRCk7XHJcblx0bGV0IE0yID0gRC5leHRlbmQoQywgQiwgQSk7XHJcblxyXG5cdGFzc2VydC5lcXVhbChPYmplY3Qua2V5cyhNMS5kZWZpbml0aW9uKS5zb3J0KCkuam9pbignLCcpLCBcImEsYixjLGRcIiwgXCJkZWZpbml0aW9uIG1lcmdlIGZvciBtdWx0aXBsZSBpbmhlcml0YW5jZSAxLzRcIik7XHJcblx0YXNzZXJ0LmVxdWFsKE9iamVjdC5rZXlzKE0yLmRlZmluaXRpb24pLnNvcnQoKS5qb2luKCcsJyksIFwiYSxiLGMsZFwiLCBcImRlZmluaXRpb24gbWVyZ2UgZm9yIG11bHRpcGxlIGluaGVyaXRhbmNlIDIvNFwiKTtcclxuXHRhc3NlcnQuZXF1YWwoT2JqZWN0LmtleXMoTTEuZGVmaW5pdGlvbi5kKS5zb3J0KCkuam9pbignLCcpLCBcImQxLGQyLGQzXCIsIFwiZGVmaW5pdGlvbiBtZXJnZSBmb3IgbXVsdGlwbGUgaW5oZXJpdGFuY2UgMy80XCIpO1xyXG5cdGFzc2VydC5lcXVhbChPYmplY3Qua2V5cyhNMi5kZWZpbml0aW9uLmQpLnNvcnQoKS5qb2luKCcsJyksIFwiZDEsZDIsZDNcIiwgXCJkZWZpbml0aW9uIG1lcmdlIGZvciBtdWx0aXBsZSBpbmhlcml0YW5jZSA0LzRcIik7XHJcblxyXG5cdGxldCBtMSA9IE0xKHtcclxuXHRcdGE6IFwiXCIsXHJcblx0XHRiOiA0MixcclxuXHRcdGM6IFwidGVzdFwiLFxyXG5cdFx0ZDoge1xyXG5cdFx0XHRkMTogdHJ1ZSxcclxuXHRcdFx0ZDI6IDIsXHJcblx0XHRcdGQzOiAzXHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdGxldCBtMiA9IE0yKHtcclxuXHRcdGE6IGZhbHNlLFxyXG5cdFx0YjogZmFsc2UsXHJcblx0XHRjOiA2NjYsXHJcblx0XHRkOiB7XHJcblx0XHRcdGQxOiBmYWxzZSxcclxuXHRcdFx0ZDI6IGZhbHNlLFxyXG5cdFx0XHRkMzogMFxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdG0xLmEgPSB0cnVlO1xyXG5cdH0sIC9UeXBlRXJyb3JbXFxzXFxTXSphLywgXCJ0eXBlIGNoZWNraW5nIG11bHRpcGxlIGluaGVyaXRhbmNlIDEvOFwiKTtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdG0yLmEgPSBcIm5vcGVcIjtcclxuXHR9LCAvVHlwZUVycm9yW1xcc1xcU10qYS8sIFwidHlwZSBjaGVja2luZyBtdWx0aXBsZSBpbmhlcml0YW5jZSAyLzhcIik7XHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRtMS5iID0gIW0xLmI7XHJcblx0fSwgL1R5cGVFcnJvcltcXHNcXFNdKmIvLCBcInR5cGUgY2hlY2tpbmcgbXVsdGlwbGUgaW5oZXJpdGFuY2UgMy84XCIpO1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0bTIuYiArPSA3O1xyXG5cdH0sIC9UeXBlRXJyb3JbXFxzXFxTXSpiLywgXCJ0eXBlIGNoZWNraW5nIG11bHRpcGxlIGluaGVyaXRhbmNlIDQvOFwiKTtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdG0xLmMgPSB1bmRlZmluZWQ7XHJcblx0fSwgL1R5cGVFcnJvcltcXHNcXFNdKmMvLCBcInR5cGUgY2hlY2tpbmcgbXVsdGlwbGUgaW5oZXJpdGFuY2UgNS84XCIpO1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0bTIuYyA9IG51bGw7XHJcblx0fSwgL1R5cGVFcnJvcltcXHNcXFNdKmMvLCBcInR5cGUgY2hlY2tpbmcgbXVsdGlwbGUgaW5oZXJpdGFuY2UgNi84XCIpO1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0bTEuZC5kMiA9IHRydWU7XHJcblx0fSwgL1R5cGVFcnJvcltcXHNcXFNdKmQyLywgXCJ0eXBlIGNoZWNraW5nIG11bHRpcGxlIGluaGVyaXRhbmNlIDcvOFwiKTtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdG0yLmQuZDIgPSAxO1xyXG5cdH0sIC9UeXBlRXJyb3JbXFxzXFxTXSpkMi8sIFwidHlwZSBjaGVja2luZyBtdWx0aXBsZSBpbmhlcml0YW5jZSA4LzhcIik7XHJcblxyXG5cdEEuZGVmYXVsdHMoe1xyXG5cdFx0YTogZmFsc2UsXHJcblx0XHRiOiBmYWxzZVxyXG5cdH0pO1xyXG5cclxuXHRCLmRlZmF1bHRzKHtcclxuXHRcdGI6IDAsXHJcblx0XHRjOiAwXHJcblx0fSk7XHJcblxyXG5cdEMuZGVmYXVsdHMoe1xyXG5cdFx0YzogXCJcIixcclxuXHRcdGQ6IHtcclxuXHRcdFx0ZDE6IGZhbHNlLFxyXG5cdFx0XHRkMjogZmFsc2VcclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0RC5kZWZhdWx0cyh7XHJcblx0XHRhOiBcIlwiLFxyXG5cdFx0ZDoge1xyXG5cdFx0XHRkMjogMCxcclxuXHRcdFx0ZDM6IDBcclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0TTEgPSBBLmV4dGVuZChCLCBDLCBEKTtcclxuXHRNMiA9IEQuZXh0ZW5kKEMsIEIsIEEpO1xyXG5cdG0xID0gTTEoKTtcclxuXHRtMiA9IE0yKCk7XHJcblxyXG5cdGFzc2VydC5vayhtMS5hID09PSBcIlwiICYmIG0xLmIgPT09IDAgJiYgbTEuYyA9PT0gXCJcIiAmJiBtMS5kLmQxID09PSBmYWxzZSAmJiBtMS5kLmQyID09PSAwICYmIG0xLmQuZDMgPT09IDAsIFwiZGVmYXVsdHMgY2hlY2tpbmcgbXVsdGlwbGUgaW5oZXJpdGFuY2UgMS8yXCIpO1xyXG5cdGFzc2VydC5vayhtMi5hID09PSBmYWxzZSAmJiBtMi5iID09PSBmYWxzZSAmJiBtMi5jID09PSAwICYmIG0yLmQuZDEgPT09IGZhbHNlICYmIG0yLmQuZDIgPT09IGZhbHNlICYmIG0yLmQuZDMgPT09IDAsIFwiZGVmYXVsdHMgY2hlY2tpbmcgbXVsdGlwbGUgaW5oZXJpdGFuY2UgMi8yXCIpO1xyXG5cclxuXHRmdW5jdGlvbiBkdW1teUFzc2VydCgpIHtcclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxuXHJcblx0QS5hc3NlcnQoZHVtbXlBc3NlcnQpO1xyXG5cdEIuYXNzZXJ0KGR1bW15QXNzZXJ0KTtcclxuXHRDLmFzc2VydChkdW1teUFzc2VydCk7XHJcblx0RC5hc3NlcnQoZHVtbXlBc3NlcnQpO1xyXG5cclxuXHRNMSA9IEEuZXh0ZW5kKEIsIEMsIEQpO1xyXG5cdE0yID0gRC5leHRlbmQoQywgQiwgQSk7XHJcblx0bTEgPSBNMSgpO1xyXG5cdG0yID0gTTIoKTtcclxuXHJcblx0YXNzZXJ0Lm9rKE0xLmFzc2VydGlvbnMubGVuZ3RoID09PSA0LCBcImFzc2VydGlvbnMgY2hlY2tpbmcgbXVsdGlwbGUgaW5oZXJpdGFuY2UgMS8yXCIpO1xyXG5cdGFzc2VydC5vayhNMi5hc3NlcnRpb25zLmxlbmd0aCA9PT0gNCwgXCJhc3NlcnRpb25zIGNoZWNraW5nIG11bHRpcGxlIGluaGVyaXRhbmNlIDIvMlwiKTtcclxuXHJcbn0pO1xyXG5cclxuUVVuaXQudGVzdChcIkNvbXBvc2l0aW9uXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcclxuXHJcblx0Y29uc3QgUGVyc29uID0gT2JqZWN0TW9kZWwoe1xyXG5cdFx0bmFtZTogU3RyaW5nLFxyXG5cdFx0YWdlOiBbTnVtYmVyLCBEYXRlXSxcclxuXHRcdGZlbWFsZTogW0Jvb2xlYW5dLFxyXG5cdFx0YWRkcmVzczoge1xyXG5cdFx0XHR3b3JrOiB7XHJcblx0XHRcdFx0Y2l0eTogW1N0cmluZ11cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRjb25zdCBGYW1pbHkgPSBPYmplY3RNb2RlbCh7XHJcblx0XHRmYXRoZXI6IFBlcnNvbixcclxuXHRcdG1vdGhlcjogUGVyc29uLmV4dGVuZCh7ZmVtYWxlOiB0cnVlfSksXHJcblx0XHRjaGlsZHJlbjogQXJyYXlNb2RlbChQZXJzb24pLFxyXG5cdFx0Z3JhbmRwYXJlbnRzOiBbQXJyYXlNb2RlbChQZXJzb24pLmFzc2VydChmdW5jdGlvbiAocGVyc29ucykge1xyXG5cdFx0XHRyZXR1cm4gcGVyc29ucyAmJiBwZXJzb25zLmxlbmd0aCA8PSA0XHJcblx0XHR9KV1cclxuXHR9KTtcclxuXHJcblx0Y29uc3Qgam9lID0gUGVyc29uKHtcclxuXHRcdG5hbWU6IFwiSm9lXCIsXHJcblx0XHRhZ2U6IDQyLFxyXG5cdFx0ZmVtYWxlOiBmYWxzZVxyXG5cdH0pO1xyXG5cclxuXHJcblx0Y29uc3QgYW5uID0gbmV3IFBlcnNvbih7XHJcblx0XHRmZW1hbGU6IHRydWUsXHJcblx0XHRhZ2U6IGpvZS5hZ2UgLSA1LFxyXG5cdFx0bmFtZTogam9lLm5hbWUgKyBcIidzIHdpZmVcIlxyXG5cdH0pO1xyXG5cclxuXHRsZXQgam9lZmFtaWx5ID0gbmV3IEZhbWlseSh7XHJcblx0XHRmYXRoZXI6IGpvZSxcclxuXHRcdG1vdGhlcjogYW5uLFxyXG5cdFx0Y2hpbGRyZW46IFtdXHJcblx0fSk7XHJcblxyXG5cdGFzc2VydC5vayhqb2VmYW1pbHkgaW5zdGFuY2VvZiBGYW1pbHksIFwiam9lZmFtaWx5IGluc3RhbmNlIG9mIEZhbWlseVwiKTtcclxuXHRhc3NlcnQub2soam9lZmFtaWx5LmZhdGhlciBpbnN0YW5jZW9mIFBlcnNvbiwgXCJmYXRoZXIgaW5zdGFuY2VvZiBQZXJzb25cIik7XHJcblx0YXNzZXJ0Lm9rKGpvZWZhbWlseS5tb3RoZXIgaW5zdGFuY2VvZiBQZXJzb24sIFwibW90aGVyIGluc3RhbmNlb2YgUGVyc29uXCIpO1xyXG5cclxuXHRjb25zdCBkdWNrbW90aGVyID0ge1xyXG5cdFx0ZmVtYWxlOiB0cnVlLFxyXG5cdFx0YWdlOiBqb2UuYWdlIC0gNSxcclxuXHRcdG5hbWU6IGpvZS5uYW1lICsgXCIncyB3aWZlXCJcclxuXHR9O1xyXG5cclxuXHRqb2VmYW1pbHkgPSBuZXcgRmFtaWx5KHtcclxuXHRcdGZhdGhlcjogam9lLFxyXG5cdFx0bW90aGVyOiBkdWNrbW90aGVyLFxyXG5cdFx0Y2hpbGRyZW46IFtdXHJcblx0fSk7XHJcblxyXG5cdGFzc2VydC5vayhQZXJzb24udGVzdChkdWNrbW90aGVyKSwgXCJEdWNrIHR5cGluZyBmb3Igb2JqZWN0IHByb3BlcnRpZXMgMS8yXCIpO1xyXG5cdGFzc2VydC5ub3RPayhkdWNrbW90aGVyIGluc3RhbmNlb2YgUGVyc29uLCBcIkR1Y2sgdHlwaW5nIGZvciBvYmplY3QgcHJvcGVydGllcyAyLzJcIik7XHJcblxyXG5cdGpvZWZhbWlseS5tb3RoZXIubmFtZSA9IFwiRGFpc3lcIjtcclxuXHRhc3NlcnQuZXF1YWwoam9lZmFtaWx5Lm1vdGhlci5uYW1lLCBcIkRhaXN5XCIsIFwiRHVjayB0eXBpbmcgc3VibW9kZWwgcHJvcGVydHkgY2FuIGJlIG1vZGlmaWVkXCIpO1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0am9lZmFtaWx5Lm1vdGhlci5mZW1hbGUgPSBcIlF1YWNrICFcIjtcclxuXHR9LCAvVHlwZUVycm9yW1xcc1xcU10qZmVtYWxlLywgXCJ2YWxpZGF0aW9uIG9mIHN1Ym1vZGVsIGR1Y2sgdHlwZWQgYXQgbW9kaWZpY2F0aW9uXCIpO1xyXG5cclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdG5ldyBGYW1pbHkoe1xyXG5cdFx0XHRmYXRoZXI6IGpvZSxcclxuXHRcdFx0bW90aGVyOiB7XHJcblx0XHRcdFx0ZmVtYWxlOiBmYWxzZSxcclxuXHRcdFx0XHRhZ2U6IGpvZS5hZ2UgLSA1LFxyXG5cdFx0XHRcdG5hbWU6IGpvZS5uYW1lICsgXCIncyB3aWZlXCJcclxuXHRcdFx0fSxcclxuXHRcdFx0Y2hpbGRyZW46IFtdXHJcblx0XHR9KTtcclxuXHR9LCAvVHlwZUVycm9yW1xcc1xcU10qZmVtYWxlLywgXCJ2YWxpZGF0aW9uIG9mIHN1Ym1vZGVsIGR1Y2sgdHlwZWQgYXQgaW5zdGFuY2lhdGlvblwiKTtcclxuXHJcbn0pO1xyXG5cclxuUVVuaXQudGVzdChcIk9iamVjdCBtb2RlbCBBc3NlcnRpb25zXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcclxuXHJcblx0Y29uc3QgTmVzdGVkTW9kZWwgPSBPYmplY3RNb2RlbCh7Zm9vOiB7YmFyOiB7YmF6OiBCb29sZWFufX19KVxyXG5cdFx0LmFzc2VydChvID0+IG8uZm9vLmJhci5iYXogPT09IHRydWUpO1xyXG5cclxuXHRjb25zdCBuZXN0ZWRNb2RlbCA9IE5lc3RlZE1vZGVsKHtmb286IHtiYXI6IHtiYXo6IHRydWV9fX0pO1xyXG5cclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdG5lc3RlZE1vZGVsLmZvby5iYXIuYmF6ID0gZmFsc2U7XHJcblx0fSwgL1R5cGVFcnJvci8sIFwidGVzdCBhc3NlcnRpb24gYWZ0ZXIgbmVzdGVkIHByb3BlcnR5IGFzc2lnbm1lbnRcIik7XHJcblxyXG5cdGZ1bmN0aW9uIGFzc2VydEZhaWwoKSB7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBhc3NlcnRGYWlsV2l0aERhdGEoKSB7XHJcblx0XHRyZXR1cm4gLTE7XHJcblx0fVxyXG5cclxuXHRNb2RlbC5wcm90b3R5cGUuYXNzZXJ0KGFzc2VydEZhaWwsIFwiZXhwZWN0ZWQgbWVzc2FnZSB3aXRob3V0IGRhdGFcIik7XHJcblx0T2JqZWN0TW9kZWwucHJvdG90eXBlLmFzc2VydChhc3NlcnRGYWlsV2l0aERhdGEsIGZ1bmN0aW9uIChkYXRhKSB7XHJcblx0XHRyZXR1cm4gXCJleHBlY3RlZCBtZXNzYWdlIHdpdGggZGF0YSBcIiArIGRhdGE7XHJcblx0fSk7XHJcblxyXG5cdGFzc2VydC5lcXVhbChNb2RlbC5wcm90b3R5cGUuYXNzZXJ0aW9ucy5sZW5ndGgsIDEsIFwiY2hlY2sgbnVtYmVyIG9mIGFzc2VydGlvbnMgb24gQmFzaWNNb2RlbC5wcm90b3R5cGVcIilcclxuXHRhc3NlcnQuZXF1YWwoT2JqZWN0TW9kZWwucHJvdG90eXBlLmFzc2VydGlvbnMubGVuZ3RoLCAyLCBcImNoZWNrIG51bWJlciBvZiBhc3NlcnRpb25zIG9uIE9iamVjdE1vZGVsLnByb3RvdHlwZVwiKTtcclxuXHJcblx0Y29uc3QgTSA9IE9iamVjdE1vZGVsKHthOiBTdHJpbmd9KTtcclxuXHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRNKHthOiBcInRlc3RcIn0pXHJcblx0fSwgL1R5cGVFcnJvci8sIFwiZXhwZWN0ZWQgbWVzc2FnZSB3aXRob3V0IGRhdGFcIik7XHJcblxyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0TSh7YTogXCJ0ZXN0XCJ9KVxyXG5cdH0sIC9UeXBlRXJyb3IvLCBcImV4cGVjdGVkIG1lc3NhZ2Ugd2l0aCBkYXRhIC0xXCIpO1xyXG5cclxuXHQvLyBjbGVhbiB1cCBnbG9iYWwgYXNzZXJ0aW9uc1xyXG5cdE1vZGVsLnByb3RvdHlwZS5hc3NlcnRpb25zID0gW107XHJcblx0ZGVsZXRlIE9iamVjdE1vZGVsLnByb3RvdHlwZS5hc3NlcnRpb25zO1xyXG5cclxuXHRjb25zdCBBc3NlcnRPYmplY3QgPSBPYmplY3RNb2RlbCh7bmFtZTogW1N0cmluZ119KVxyXG5cdFx0LmFzc2VydCgobyA9PiBvLm5hbWUudG9Mb3dlckNhc2UoKS5sZW5ndGggPT0gby5uYW1lLmxlbmd0aCksIFwibWF5IHRocm93IGV4Y2VwdGlvblwiKTtcclxuXHJcblx0bmV3IEFzc2VydE9iamVjdCh7bmFtZTogXCJqb2VcIn0pO1xyXG5cclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0bmV3IEFzc2VydE9iamVjdCh7bmFtZTogdW5kZWZpbmVkfSk7XHJcblx0XHR9LFxyXG5cdFx0L2Fzc2VydGlvbiBcXFwibWF5IHRocm93IGV4Y2VwdGlvblxcXCIgcmV0dXJuZWQgVHlwZUVycm9yLipmb3IgdmFsdWUge1xccytuYW1lOiB1bmRlZmluZWRcXHMrfS8sXHJcblx0XHRcImFzc2VydGlvbnMgY2F0Y2ggZXhjZXB0aW9ucyBvbiBPYmplY3QgbW9kZWxzXCIpO1xyXG5cclxufSk7XHJcblxyXG5RVW5pdC50ZXN0KFwiT2JqZWN0IG1vZGVscyB2YWxpZGF0ZSBtZXRob2RcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xyXG5cclxuXHRjb25zdCBhc3NlcnRGdW5jdGlvbiA9IChjID0+IGMgPT09IFwiR0JcIik7XHJcblxyXG5cdGFzc2VydEZ1bmN0aW9uLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIFwiZXhwZWN0ZWQgYXNzZXJ0RnVuY3Rpb24gdG9TdHJpbmdcIjtcclxuXHR9XHJcblxyXG5cdGNvbnN0IEFkZHJlc3MgPSBuZXcgT2JqZWN0TW9kZWwoe1xyXG5cdFx0Y2l0eTogU3RyaW5nLFxyXG5cdFx0Y291bnRyeTogQmFzaWNNb2RlbChTdHJpbmcpLmFzc2VydChhc3NlcnRGdW5jdGlvbiwgXCJDb3VudHJ5IG11c3QgYmUgR0JcIilcclxuXHR9KTtcclxuXHJcblx0Y29uc3QgZ2JBZGRyZXNzID0ge2NpdHk6IFwiTG9uZG9uXCIsIGNvdW50cnk6IFwiR0JcIn07XHJcblx0Y29uc3QgZnJBZGRyZXNzID0ge2NpdHk6IFwiUGFyaXNcIiwgY291bnRyeTogXCJGUlwifTtcclxuXHJcblx0Y29uc3QgT3JkZXIgPSBuZXcgT2JqZWN0TW9kZWwoe1xyXG5cdFx0c2t1OiBTdHJpbmcsXHJcblx0XHRhZGRyZXNzOiBBZGRyZXNzXHJcblx0fSk7XHJcblxyXG5cdGNvbnN0IGdiT3JkZXIgPSB7c2t1OiBcIkFCQzEyM1wiLCBhZGRyZXNzOiBnYkFkZHJlc3N9O1xyXG5cdGNvbnN0IGZyT3JkZXIgPSB7c2t1OiBcIkFCQzEyM1wiLCBhZGRyZXNzOiBmckFkZHJlc3N9O1xyXG5cclxuXHRPcmRlci52YWxpZGF0ZShnYk9yZGVyKTsgLy8gbm8gZXJyb3JzXHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRPcmRlci52YWxpZGF0ZShmck9yZGVyKTtcclxuXHR9LCBcInNob3VsZCB2YWxpZGF0ZSBzdWItb2JqZWN0cyBhc3NlcnRpb25zXCIpO1xyXG5cclxuXHRjb25zdCBlcnJvcnMgPSBbXTtcclxuXHRPcmRlci52YWxpZGF0ZShmck9yZGVyLCBmdW5jdGlvbiAoZXJyKSB7XHJcblx0XHRlcnJvcnMucHVzaCguLi5lcnIpO1xyXG5cdH0pO1xyXG5cclxuXHRhc3NlcnQuZXF1YWwoZXJyb3JzLmxlbmd0aCwgMSwgXCJzaG91bGQgdGhyb3cgZXhhY3RseSBvbmUgZXJyb3IgaGVyZVwiKVxyXG5cdGFzc2VydC5lcXVhbChlcnJvcnNbMF0uZXhwZWN0ZWQsIFwiZXhwZWN0ZWQgYXNzZXJ0RnVuY3Rpb24gdG9TdHJpbmdcIiwgXCJjaGVjayBhc3NlcnRpb24gZXJyb3IgZXhwZWN0ZWQgcGFyYW1ldGVyXCIpO1xyXG5cdGFzc2VydC5lcXVhbChlcnJvcnNbMF0ucmVjZWl2ZWQsIFwiRlJcIiwgXCJjaGVjayBhc3NlcnRpb24gZXJyb3IgcmVjZWl2ZWQgcGFyYW1ldGVyXCIpO1xyXG5cdGFzc2VydC5lcXVhbChlcnJvcnNbMF0ucGF0aCwgXCJhZGRyZXNzLmNvdW50cnlcIiwgXCJjaGVjayBhc3NlcnRpb24gZXJyb3IgcGF0aCBwYXJhbWV0ZXJcIik7XHJcblx0YXNzZXJ0LmVxdWFsKGVycm9yc1swXS5tZXNzYWdlLCAnYXNzZXJ0aW9uIFwiQ291bnRyeSBtdXN0IGJlIEdCXCIgcmV0dXJuZWQgZmFsc2UgZm9yIHZhbHVlIFwiRlJcIicsIFwiY2hlY2sgYXNzZXJ0aW9uIGVycm9yIG1lc3NhZ2UgcGFyYW1ldGVyXCIpO1xyXG5cclxufSk7XHJcblxyXG5RVW5pdC50ZXN0KFwiQ3ljbGljIGRldGVjdGlvblwiLCBmdW5jdGlvbihhc3NlcnQpe1xyXG5cclxuXHRsZXQgQSwgQiwgYSwgYjtcclxuXHJcblx0QSA9IE9iamVjdE1vZGVsKHsgYjogW10gfSk7XHJcblx0QiA9IE9iamVjdE1vZGVsKHsgYTogQSB9KTtcclxuXHRBLmRlZmluaXRpb24uYiA9IFtCXTtcclxuXHJcblx0YSA9IEEoKTtcclxuXHRiID0gQih7IGE6IGEgfSk7XHJcblxyXG5cdGFzc2VydC5vayhhLmIgPSBiLCBcInZhbGlkIGN5Y2xpYyB2YWx1ZSBhc3NpZ25tZW50XCIpO1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24oKXthLmIgPSBhOyB9LCAvVHlwZUVycm9yLywgXCJpbnZhbGlkIGN5Y2xpYyB2YWx1ZSBhc3NpZ25tZW50XCIpO1xyXG5cclxuXHRBID0gT2JqZWN0TW9kZWwoeyBiOiBbXSB9KTtcclxuXHRCID0gT2JqZWN0TW9kZWwoeyBhOiBBIH0pO1xyXG5cclxuXHRBLmRlZmluaXRpb24uYiA9IHtcclxuXHRcdGM6IHtcclxuXHRcdFx0ZDogW0JdXHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0YSA9IEEoKTtcclxuXHRiID0gQih7IGE6IGEgfSk7XHJcblxyXG5cdGFzc2VydC5vaygoYS5iID0geyBjOiB7IGQ6IGIgfSB9KSwgXCJ2YWxpZCBkZWVwIGN5Y2xpYyB2YWx1ZSBhc3NpZ25tZW50XCIpO1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24oKXtcclxuXHRcdGEuYiA9IHsgYzogeyBkOiBhIH0gfTtcclxuXHR9LCAvVHlwZUVycm9yLywgXCJpbnZhbGlkIGRlZXAgY3ljbGljIHZhbHVlIGFzc2lnbm1lbnRcIik7XHJcblxyXG5cdGNvbnN0IEhvbmV5ID0gT2JqZWN0TW9kZWwoe1xyXG5cdFx0c3dlZXRpZTogW10gLy8gU3dlZXRpZSBpcyBub3QgeWV0IGRlZmluZWRcclxuXHR9KTtcclxuXHJcblx0Y29uc3QgU3dlZXRpZSA9IE9iamVjdE1vZGVsKHtcclxuXHRcdGhvbmV5OiBIb25leVxyXG5cdH0pO1xyXG5cclxuXHRIb25leS5kZWZpbml0aW9uLnN3ZWV0aWUgPSBbU3dlZXRpZV07XHJcblxyXG5cdGNvbnN0IGpvZSA9IEhvbmV5KHsgc3dlZXRpZTogdW5kZWZpbmVkIH0pOyAvLyBhbm4gaXMgbm90IHlldCBkZWZpbmVkXHJcblx0Y29uc3QgYW5uID0gU3dlZXRpZSh7IGhvbmV5OiBqb2UgfSk7XHJcblx0YXNzZXJ0Lm9rKGpvZS5zd2VldGllID0gYW5uLCBcIndlYnNpdGUgZXhhbXBsZSB2YWxpZCBhc3NpZ25tZW50XCIpO1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24oKXsgam9lLnN3ZWV0aWUgPSBcImRvZ1wiIH0sIC9UeXBlRXJyb3IvLCBcIndlYnNpdGUgZXhhbXBsZSBpbnZhbGlkIGFzc2lnbm1lbnQgMVwiKTtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uKCl7IGpvZS5zd2VldGllID0gam9lIH0sIC9UeXBlRXJyb3IvLCBcIndlYnNpdGUgZXhhbXBsZSBpbnZhbGlkIGFzc2lnbm1lbnQgMlwiKTtcclxuXHJcbn0pO1xyXG5cclxuUVVuaXQudGVzdChcIkN1c3RvbSBlcnJvciBjb2xsZWN0b3JzIGZvciBvYmplY3QgbW9kZWxzXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcclxuXHJcblx0YXNzZXJ0LmV4cGVjdCgxMSk7XHJcblxyXG5cdGxldCBNID0gT2JqZWN0TW9kZWwoe1xyXG5cdFx0YToge1xyXG5cdFx0XHRiOiB7XHJcblx0XHRcdFx0YzogdHJ1ZVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdE0uZXJyb3JDb2xsZWN0b3IgPSBmdW5jdGlvbiAoZXJyb3JzKSB7XHJcblx0XHRhc3NlcnQub2soZXJyb3JzLmxlbmd0aCA9PT0gMSwgXCJjaGVjayBlcnJvcnMubGVuZ3RoIG1vZGVsIGNvbGxlY3RvclwiKTtcclxuXHRcdHZhciBlcnIgPSBlcnJvcnNbMF07XHJcblx0XHRhc3NlcnQuZXF1YWwoZXJyLmV4cGVjdGVkLCB0cnVlLCBcImNoZWNrIGVycm9yLmV4cGVjdGVkIG1vZGVsIGNvbGxlY3RvclwiKTtcclxuXHRcdGFzc2VydC5lcXVhbChlcnIucmVjZWl2ZWQsIGZhbHNlLCBcImNoZWNrIGVycm9yLnJlY2VpdmVkIG1vZGVsIGNvbGxlY3RvclwiKTtcclxuXHRcdGFzc2VydC5lcXVhbChlcnIucGF0aCwgXCJhLmIuY1wiLCBcImNoZWNrIGVycm9yLnBhdGggbW9kZWwgY29sbGVjdG9yXCIpO1xyXG5cdFx0YXNzZXJ0LmVxdWFsKGVyci5tZXNzYWdlLCAnZXhwZWN0aW5nIGEuYi5jIHRvIGJlIHRydWUsIGdvdCBCb29sZWFuIGZhbHNlJywgXCJjaGVjayBlcnJvciBtZXNzYWdlIG1vZGVsIGNvbGxlY3RvclwiKTtcclxuXHR9XHJcblxyXG5cdE0oe1xyXG5cdFx0YToge1xyXG5cdFx0XHRiOiB7XHJcblx0XHRcdFx0YzogZmFsc2VcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pXHJcblxyXG5cdE9iamVjdE1vZGVsKHtcclxuXHRcdGQ6IHtcclxuXHRcdFx0ZToge1xyXG5cdFx0XHRcdGY6IG51bGxcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pLnZhbGlkYXRlKHtcclxuXHRcdGQ6IHtcclxuXHRcdFx0ZToge1xyXG5cdFx0XHRcdGY6IHVuZGVmaW5lZFxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSwgZnVuY3Rpb24gKGVycm9ycykge1xyXG5cdFx0YXNzZXJ0Lm9rKGVycm9ycy5sZW5ndGggPT09IDEsIFwiY2hlY2sgbmVzdGVkIGVycm9ycy5sZW5ndGggY3VzdG9tIGNvbGxlY3RvclwiKTtcclxuXHRcdHZhciBlcnIgPSBlcnJvcnNbMF07XHJcblx0XHRhc3NlcnQuZGVlcEVxdWFsKGVyci5leHBlY3RlZCwgbnVsbCwgXCJjaGVjayBuZXN0ZWQgZXJyb3IuZXhwZWN0ZWQgY3VzdG9tIGNvbGxlY3RvclwiKTtcclxuXHRcdGFzc2VydC5kZWVwRXF1YWwoZXJyLnJlY2VpdmVkLCB1bmRlZmluZWQsIFwiY2hlY2sgbmVzdGVkIGVycm9yLnJlY2VpdmVkIGN1c3RvbSBjb2xsZWN0b3JcIik7XHJcblx0XHRhc3NlcnQuZXF1YWwoZXJyLnBhdGgsIFwiZC5lLmZcIiwgXCJjaGVjayBuZXN0ZWQgZXJyb3IucGF0aCBjdXN0b20gY29sbGVjdG9yXCIpO1xyXG5cdFx0YXNzZXJ0LmVxdWFsKGVyci5tZXNzYWdlLCAnZXhwZWN0aW5nIGQuZS5mIHRvIGJlIG51bGwsIGdvdCB1bmRlZmluZWQnLCBcImNoZWNrIG5lc3RlZCBlcnJvci5tZXNzYWdlIGN1c3RvbSBjb2xsZWN0b3JcIik7XHJcblx0fSlcclxuXHJcblx0TSA9IE9iamVjdE1vZGVsKHt4OiBOdW1iZXJ9KTtcclxuXHRNLmVycm9yQ29sbGVjdG9yID0gZnVuY3Rpb24gbm9vcCgpIHt9O1xyXG5cclxuXHRhc3NlcnQuZXF1YWwoTS50ZXN0KHt4OiBcIm5vcGVcIn0pLCBmYWxzZSwgXCJtb2RlbC50ZXN0IHNob3VsZCB3b3JrIGV2ZW4gd2hlbiBlcnJvckNvbGxlY3RvciBkb2VzIG5vdCB0aHJvdyBleGNlcHRpb25zXCIpO1xyXG5cclxufSk7XHJcblxyXG5RVW5pdC50ZXN0KFwiQXV0b21hdGljIG1vZGVsIGNhc3RpbmdcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xyXG5cclxuXHRsZXQgVXNlciA9IG5ldyBPYmplY3RNb2RlbCh7dXNlcm5hbWU6IFN0cmluZywgZW1haWw6IFN0cmluZ30pXHJcblx0XHQuZGVmYXVsdHMoe3VzZXJuYW1lOiAnZm9vJywgZW1haWw6ICdmb29AZm9vJ30pO1xyXG5cclxuXHRsZXQgQXJ0aWNsZSA9IG5ldyBPYmplY3RNb2RlbCh7dGl0bGU6IFN0cmluZywgdXNlcjogVXNlcn0pXHJcblx0XHQuZGVmYXVsdHMoe3RpdGxlOiAnYmFyJywgdXNlcjogbmV3IFVzZXIoKX0pO1xyXG5cclxuXHRsZXQgYSA9IG5ldyBBcnRpY2xlKCk7XHJcblx0YS51c2VyID0ge3VzZXJuYW1lOiAnam9lJywgZW1haWw6ICdmb28nfTtcclxuXHJcblx0YXNzZXJ0Lm9rKGEudXNlciBpbnN0YW5jZW9mIFVzZXIsIFwiYXV0b21hdGljIG1vZGVsIGNhc3Rpbmcgd2hlbiBhc3NpZ25pbmcgYSBkdWNrIHR5cGVkIG9iamVjdFwiKTtcclxuXHRhc3NlcnQub2soYS51c2VyLnVzZXJuYW1lID09PSBcImpvZVwiLCBcInByZXNlcnZlZCBwcm9wcyBhZnRlciBhdXRvbWF0aWMgbW9kZWwgY2FzdGluZyBvZiBkdWNrIHR5cGVkIG9iamVjdFwiKTtcclxuXHJcblx0VXNlciA9IG5ldyBPYmplY3RNb2RlbCh7dXNlcm5hbWU6IFN0cmluZywgZW1haWw6IFN0cmluZ30pXHJcblx0XHQuZGVmYXVsdHMoe3VzZXJuYW1lOiAnZm9vJywgZW1haWw6ICdmb29AZm9vJ30pO1xyXG5cclxuXHRBcnRpY2xlID0gbmV3IE9iamVjdE1vZGVsKHt0aXRsZTogU3RyaW5nLCB1c2VyOiBbVXNlcl19KVxyXG5cdFx0LmRlZmF1bHRzKHt0aXRsZTogJ2JhcicsIHVzZXI6IG5ldyBVc2VyKCl9KTtcclxuXHJcblx0YSA9IG5ldyBBcnRpY2xlKCk7XHJcblx0YS51c2VyID0ge3VzZXJuYW1lOiAnam9lJywgZW1haWw6ICdmb28nfTtcclxuXHJcblx0YXNzZXJ0Lm9rKGEudXNlciBpbnN0YW5jZW9mIFVzZXIsIFwiYXV0b21hdGljIG9wdGlvbmFsIG1vZGVsIGNhc3Rpbmcgd2hlbiBhc3NpZ25pbmcgYSBkdWNrIHR5cGVkIG9iamVjdFwiKTtcclxuXHRhc3NlcnQub2soYS51c2VyLnVzZXJuYW1lID09PSBcImpvZVwiLCBcInByZXNlcnZlZCBwcm9wcyBhZnRlciBhdXRvbWF0aWMgb3B0aW9uYWwgbW9kZWwgY2FzdGluZyBvZiBkdWNrIHR5cGVkIG9iamVjdFwiKTtcclxuXHJcblxyXG5cdGNvbnN0IFR5cGUxID0gT2JqZWN0TW9kZWwoeyBuYW1lOiBTdHJpbmcsIG90aGVyMTogW0Jvb2xlYW5dIH0pO1xyXG5cdGNvbnN0IFR5cGUyID0gT2JqZWN0TW9kZWwoeyBuYW1lOiBTdHJpbmcsIG90aGVyMjogW051bWJlcl0gfSk7XHJcblx0Y29uc3QgQ29udGFpbmVyID0gT2JqZWN0TW9kZWwoeyBmb286IHsgYmFyOiBbVHlwZTEsIFR5cGUyXSB9fSk7XHJcblxyXG5cdGxldCBjID0gbmV3IENvbnRhaW5lcih7IGZvbzogeyBiYXI6IHsgbmFtZTogXCJkdW5ub1wiIH19fSk7XHJcblx0Y29uc29sZU1vY2suYXBwbHkoKTtcclxuXHRjLmZvby5iYXI7IC8vZ2V0IGFtYmlndW91cyBrZXlcclxuXHRhc3NlcnQub2soL0FtYmlndW91cyBtb2RlbCBmb3JbXFxzXFxTXSo/bmFtZTogXCJkdW5ub1wiW1xcc1xcU10qP290aGVyMTogXFxbQm9vbGVhblxcXVtcXHNcXFNdKj9vdGhlcjI6IFxcW051bWJlcl0vXHJcblx0XHRcdC50ZXN0KGNvbnNvbGVNb2NrW1wid2Fybkxhc3RBcmdzXCJdWzBdKSxcclxuXHRcdFwic2hvdWxkIHdhcm4gYWJvdXQgYW1iaWd1b3VzIG1vZGVsIGZvciBvYmplY3Qgc3ViIHByb3BcIlxyXG5cdCk7XHJcblx0YXNzZXJ0Lm9rKGMuZm9vLmJhci5uYW1lID09PSBcImR1bm5vXCIsIFwic2hvdWxkIHByZXNlcnZlIHZhbHVlcyBldmVuIHdoZW4gYW1iaWd1b3VzIG1vZGVsIGNhc3RcIik7XHJcblx0YXNzZXJ0Lm9rKCEoYy5mb28uYmFyIGluc3RhbmNlb2YgVHlwZTEgfHwgYy5mb28uYmFyIGluc3RhbmNlb2YgVHlwZTIpLCBcInNob3VsZCBub3QgY2FzdCB3aGVuIGFtYmlndW91cyBtb2RlbFwiKTtcclxuXHRjb25zb2xlTW9jay5yZXZlcnQoKTtcclxuXHJcblx0Y29uc29sZU1vY2suYXBwbHkoKTtcclxuXHRjID0gbmV3IENvbnRhaW5lcih7IGZvbzogeyBiYXI6IFR5cGUyKHsgbmFtZTogXCJkdW5ub1wiIH0pIH19KTtcclxuXHRhc3NlcnQub2soY29uc29sZU1vY2tbXCJ3YXJuTGFzdEFyZ3NcIl0ubGVuZ3RoID09PSAwLCBcInNob3VsZCBub3Qgd2FybiB3aGVuIGV4cGxpY2l0IG1vZGVsIGNhc3QgaW4gYW1iaWd1b3VzIGNvbnRleHRcIik7XHJcblx0YXNzZXJ0Lm9rKGMuZm9vLmJhci5uYW1lID09PSBcImR1bm5vXCIsIFwic2hvdWxkIHByZXNlcnZlIHZhbHVlcyB3aGVuIGV4cGxpY2l0IG1vZGVsIGNhc3QgaW4gYW1iaWd1b3VzIGNvbnRleHRcIik7XHJcblx0YXNzZXJ0Lm9rKGMuZm9vLmJhciBpbnN0YW5jZW9mIFR5cGUyLCBcInNob3VsZCBwcmVzZXJ2ZSBtb2RlbCB3aGVuIGV4cGxpY2l0IGNhc3QgaW4gYW1iaWd1b3VzIGNvbnRleHRcIik7XHJcblx0Y29uc29sZU1vY2sucmV2ZXJ0KCk7XHJcblxyXG59KVxyXG5cclxuUVVuaXQudGVzdChcIk9iamVjdE1vZGVsIGRlbGV0ZSB0cmFwXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcclxuXHJcblx0Y29uc3QgTSA9IE9iamVjdE1vZGVsKHsgX3A6IEJvb2xlYW4sIEM6IE51bWJlciwgdTogdW5kZWZpbmVkLCBuOiBudWxsLCB4OiBbQm9vbGVhbl0gfSlcclxuXHRjb25zdCBtID0gTSh7IF9wOiB0cnVlLCBDOiA0MiwgdTogdW5kZWZpbmVkLCBuOiBudWxsLCB4OiBmYWxzZSB9KVxyXG5cclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uKCl7IGRlbGV0ZSBtLl9wIH0sIC9UeXBlRXJyb3IuKnByaXZhdGUvLCBcImNhbm5vdCBkZWxldGUgcHJpdmF0ZSBwcm9wXCIpO1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24oKXsgZGVsZXRlIG0uQyB9LCAvVHlwZUVycm9yLipjb25zdGFudC8sIFwiY2Fubm90IGRlbGV0ZSBjb25zdGFudCBwcm9wXCIpO1xyXG5cdGRlbGV0ZSBtLnU7IC8vIGNhbiBkZWxldGUgdW5kZWZpbmVkIHByb3BlcnRpZXNcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uKCl7IGRlbGV0ZSBtLm4gfSwgL1R5cGVFcnJvci4qZXhwZWN0aW5nIG4gdG8gYmUgbnVsbCwgZ290IHVuZGVmaW5lZC8sIFwiZGVsZXRlIHNob3VsZCBkaWZmZXJlbmNpYXRlIG51bGwgYW5kIHVuZGVmaW5lZFwiKTtcclxuXHRkZWxldGUgbS54IC8vIGNhbiBkZWxldGUgb3B0aW9uYWwgcHJvcGVydGllc1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24oKXsgZGVsZXRlIG0udW5kZWZpbmVkIH0sIC9UeXBlRXJyb3IuKmNhbm5vdCBmaW5kIHByb3BlcnR5LywgXCJjYW5ub3QgZGVsZXRlIHByb3BlcnR5IG91dCBvZiBtb2RlbCBkZWZpbml0aW9uXCIpO1xyXG5cclxufSlcclxuXHJcblFVbml0LnRlc3QoXCJPYmplY3RNb2RlbCBkZWZpbmVQcm9wZXJ0eSB0cmFwXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcclxuXHJcblx0Y29uc3QgTSA9IE9iamVjdE1vZGVsKHsgX3A6IEJvb2xlYW4sIEM6IE51bWJlciwgdTogdW5kZWZpbmVkLCBuOiBudWxsLCB4OiBbQm9vbGVhbl0gfSlcclxuXHRjb25zdCBtID0gTSh7IF9wOiB0cnVlLCBDOiA0MiwgdTogdW5kZWZpbmVkLCBuOiBudWxsLCB4OiBmYWxzZSB9KVxyXG5cclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uKCl7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtLCBcIl9wXCIsIHsgdmFsdWU6IHRydWUgfSkgfSwgL1R5cGVFcnJvci4qcHJpdmF0ZS8sIFwiY2Fubm90IGRlZmluZSBwcml2YXRlIHByb3BcIik7XHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbigpeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobSwgXCJDXCIsIHsgdmFsdWU6IDQzIH0pfSwgL1R5cGVFcnJvci4qY29uc3RhbnQvLCBcImNhbm5vdCBkZWZpbmUgY29uc3RhbnQgcHJvcFwiKTtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uKCl7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtLCBcInVcIiwgeyB2YWx1ZTogXCJ0ZXN0XCIgfSl9LCAvVHlwZUVycm9yLipleHBlY3RpbmcgdSB0byBiZSB1bmRlZmluZWQvLCBcImNoZWNrIHR5cGUgYWZ0ZXIgZGVmaW5lUHJvcGVydHlcIik7XHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbigpeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobSwgXCJuXCIsIHsgdmFsdWU6IHVuZGVmaW5lZCB9KSB9LCAvVHlwZUVycm9yLipleHBlY3RpbmcgbiB0byBiZSBudWxsLCBnb3QgdW5kZWZpbmVkLywgXCJkZWZpbmVQcm9wZXJ0eSBzaG91bGQgZGlmZmVyZW5jaWF0ZSBudWxsIGFuZCB1bmRlZmluZWRcIik7XHJcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG0sIFwieFwiLCB7IHZhbHVlOiB1bmRlZmluZWQgfSkgLy8gY2FuIGRlZmluZSBvcHRpb25hbCBwcm9wZXJ0aWVzXHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbigpeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobSwgXCJ1bmRlZmluZWRcIiwgeyB2YWx1ZTogXCJ0ZXN0XCIgfSkgfSwgL1R5cGVFcnJvci4qY2Fubm90IGZpbmQgcHJvcGVydHkvLCBcImNhbm5vdCBkZWZpbmUgcHJvcGVydHkgb3V0IG9mIG1vZGVsIGRlZmluaXRpb25cIik7XHJcblxyXG59KVxyXG5cclxuUVVuaXQudGVzdChcIk9iamVjdE1vZGVsIG93bktleXMvaGFzIHRyYXBcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xyXG5cclxuXHRjb25zdCBBID0gT2JqZWN0TW9kZWwoeyBfcGE6IEJvb2xlYW4sIGE6IEJvb2xlYW4gfSlcclxuXHRjb25zdCBCID0gQS5leHRlbmQoeyBfcGI6IEJvb2xlYW4sIGI6IEJvb2xlYW4gfSlcclxuXHRjb25zdCBtID0gQih7IF9wYTogdHJ1ZSwgX3BiOiB0cnVlLCBhOiB0cnVlLCBiOiB0cnVlIH0pXHJcblx0Qi5wcm90b3R5cGUuQiA9IHRydWU7XHJcblx0Qi5wcm90b3R5cGUuX1BCID0gdHJ1ZTtcclxuXHRBLnByb3RvdHlwZS5BID0gdHJ1ZTtcclxuXHRBLnByb3RvdHlwZS5fUEEgPSB0cnVlO1xyXG5cclxuXHRhc3NlcnQuZXF1YWwoXCJhXCIgaW4gbSwgdHJ1ZSlcclxuXHRhc3NlcnQuZXF1YWwoXCJiXCIgaW4gbSwgdHJ1ZSlcclxuXHRhc3NlcnQuZXF1YWwoXCJ0b1N0cmluZ1wiIGluIG0sIHRydWUpXHJcblxyXG5cdGFzc2VydC5lcXVhbChcIkFcIiBpbiBtLCBmYWxzZSlcclxuXHRhc3NlcnQuZXF1YWwoXCJCXCIgaW4gbSwgZmFsc2UpXHJcblx0YXNzZXJ0LmVxdWFsKFwiX3BhXCIgaW4gbSwgZmFsc2UpXHJcblx0YXNzZXJ0LmVxdWFsKFwiX3BiXCIgaW4gbSwgZmFsc2UpXHJcblx0YXNzZXJ0LmVxdWFsKFwiX1BBXCIgaW4gbSwgZmFsc2UpXHJcblx0YXNzZXJ0LmVxdWFsKFwiX1BCXCIgaW4gbSwgZmFsc2UpXHJcblx0YXNzZXJ0LmVxdWFsKFwidW5rbm93blwiIGluIG0sIGZhbHNlKVxyXG5cclxuXHRjb25zdCBvS2V5cyA9IE9iamVjdC5rZXlzKG0pO1xyXG5cclxuXHRjb25zdCBvd25LZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMobSk7XHJcblxyXG5cdGFzc2VydC5lcXVhbChvS2V5cy5zb3J0KCkuam9pbihcIixcIiksIFwiYSxiXCIpXHJcblx0YXNzZXJ0LmVxdWFsKG93bktleXMuc29ydCgpLmpvaW4oXCIsXCIpLCBcImEsYlwiKVxyXG59KVxyXG5cclxuUVVuaXQudGVzdChcIk9iamVjdE1vZGVsIGNvbnN0cnVjdG9yc1wiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XHJcblxyXG5cdGNsYXNzIFVzZXIgZXh0ZW5kcyBPYmplY3RNb2RlbCh7IGZpcnN0TmFtZTogU3RyaW5nLCBsYXN0TmFtZTogU3RyaW5nLCBmdWxsTmFtZTogU3RyaW5nIH0pe1xyXG5cdFx0Y29uc3RydWN0b3IoeyBmaXJzdE5hbWUsIGxhc3ROYW1lIH0pe1xyXG5cdFx0XHRjb25zdCBmdWxsTmFtZSA9IGAke2ZpcnN0TmFtZX0gJHtsYXN0TmFtZX1gXHJcblx0XHRcdHN1cGVyKHsgZmlyc3ROYW1lLCBsYXN0TmFtZSwgZnVsbE5hbWUgfSlcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFzc2VydC5lcXVhbCgobmV3IFVzZXIoeyBmaXJzdE5hbWU6IFwiSm9oblwiLCBsYXN0TmFtZTogXCJTbWl0aFwiIH0pKS5mdWxsTmFtZSwgXCJKb2huIFNtaXRoXCIsXHJcblx0XHRcImNoZWNrIGVzNiBjbGFzcyBjb25zdHJ1Y3RvclwiKVxyXG5cclxuXHRjb25zdCBCaWxsID0gT2JqZWN0TW9kZWwoeyB1bml0UHJpY2U6IE51bWJlciwgcXVhbnRpdHk6IE51bWJlciwgdG90YWw6IE51bWJlciB9KTtcclxuXHRCaWxsLmNvbnN0cnVjdG9yID0gZnVuY3Rpb24oeyB1bml0UHJpY2UsIHF1YW50aXR5IH0pIHsgdGhpcy50b3RhbCA9IHVuaXRQcmljZSAqIHF1YW50aXR5IH1cclxuXHJcblx0YXNzZXJ0LmVxdWFsKChuZXcgQmlsbCh7IHVuaXRQcmljZTogMi41MCwgcXVhbnRpdHk6IDQgfSkpLnRvdGFsLCAxMCxcclxuXHRcdFwiY2hlY2sgY29uc3RydWN0b3IgbWV0aG9kXCIpXHJcblxyXG59KVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vdGVzdC9vYmplY3QtbW9kZWwuc3BlYy5qc1xuLy8gbW9kdWxlIGlkID0gMTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 11 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__model__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__definition__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__helpers__ = __webpack_require__(1);\n\r\n\r\n\r\n\r\nconst MUTATOR_METHODS = [\"pop\", \"push\", \"reverse\", \"shift\", \"sort\", \"splice\", \"unshift\"]\r\n\r\nfunction ArrayModel(def){\r\n\r\n\tconst model = function(array = model.default) {\r\n\t\tif(!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"e\" /* is */])(model, this)) return new model(array)\r\n\t\tmodel.validate(array)\r\n\t\treturn new Proxy(array, {\r\n\t\t\tgetPrototypeOf: () => model.prototype,\r\n\r\n\t\t\tget(arr, key) {\r\n\t\t\t\tif (MUTATOR_METHODS.includes(key)) return proxifyMethod(arr, key, model)\r\n\t\t\t\treturn arr[key]\r\n\t\t\t},\r\n\r\n\t\t\tset(arr, key, val) {\r\n\t\t\t\treturn setArrayKey(arr, key, val, model)\r\n\t\t\t},\r\n\r\n\t\t\tdeleteProperty(arr, key){\r\n\t\t\t\treturn !(key in arr) || setArrayKey(arr, key, undefined, model)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"b\" /* setConstructorProto */])(model, Array.prototype)\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__model__[\"b\" /* initModel */])(model, arguments, ArrayModel)\r\n\treturn model\r\n}\r\n\r\n__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"b\" /* setConstructorProto */])(ArrayModel, __WEBPACK_IMPORTED_MODULE_0__model__[\"c\" /* Model */].prototype)\r\nObject.assign(ArrayModel.prototype, {\r\n\r\n\ttoString(stack){\r\n\t\treturn 'Array of ' + __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"c\" /* toString */])(this.definition, stack)\r\n\t},\r\n\r\n\t_validate(arr, path, errorStack, callStack){\r\n\t\tif(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"e\" /* is */])(Array, arr))\r\n\t\t\tarr.forEach((a,i) => {\r\n\t\t\t\tarr[i] = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"a\" /* checkDefinition */])(a, this.definition, `${path || \"Array\"}[${i}]`, errorStack, callStack, true)\r\n\t\t\t})\r\n\t\telse errorStack.push({\r\n\t\t\texpected: this,\r\n\t\t\treceived: arr,\r\n\t\t\tpath\r\n\t\t})\r\n\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"b\" /* checkAssertions */])(arr, this, path, errorStack)\r\n\t}\r\n})\r\n\r\nfunction proxifyMethod(array, method, model){\r\n\treturn function() {\r\n\t\tconst testArray = array.slice()\r\n\t\tArray.prototype[method].apply(testArray, arguments)\r\n\t\tmodel.validate(testArray)\r\n\t\tconst returnValue = Array.prototype[method].apply(array, arguments)\r\n\t\tarray.forEach((a,i)=> array[i] = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"d\" /* cast */])(a, model.definition))\r\n\t\treturn returnValue\r\n\t}\r\n}\r\n\r\nfunction setArrayKey(array, key, value, model){\r\n\tlet path = `Array[${key}]`;\r\n\tif(parseInt(key) === +key && key >= 0)\r\n\t\tvalue = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"a\" /* checkDefinition */])(value, model.definition, path, model.errorStack, [], true)\r\n\r\n\tconst testArray = array.slice()\r\n\ttestArray[key] = value\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"b\" /* checkAssertions */])(testArray, model, path)\r\n\tconst isSuccess = !model.unstackErrors()\r\n\tif(isSuccess){\r\n\t\tarray[key] = value\r\n\t}\r\n\treturn isSuccess\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (ArrayModel);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXJyYXktbW9kZWwuanM/MzYxYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb2RlbCwgaW5pdE1vZGVsIH0gZnJvbSBcIi4vbW9kZWxcIlxyXG5pbXBvcnQgeyBjaGVja0RlZmluaXRpb24sIGNoZWNrQXNzZXJ0aW9ucywgY2FzdCB9IGZyb20gXCIuL2RlZmluaXRpb25cIlxyXG5pbXBvcnQgeyBpcywgc2V0Q29uc3RydWN0b3JQcm90bywgdG9TdHJpbmcgfSBmcm9tIFwiLi9oZWxwZXJzXCJcclxuXHJcbmNvbnN0IE1VVEFUT1JfTUVUSE9EUyA9IFtcInBvcFwiLCBcInB1c2hcIiwgXCJyZXZlcnNlXCIsIFwic2hpZnRcIiwgXCJzb3J0XCIsIFwic3BsaWNlXCIsIFwidW5zaGlmdFwiXVxyXG5cclxuZnVuY3Rpb24gQXJyYXlNb2RlbChkZWYpe1xyXG5cclxuXHRjb25zdCBtb2RlbCA9IGZ1bmN0aW9uKGFycmF5ID0gbW9kZWwuZGVmYXVsdCkge1xyXG5cdFx0aWYoIWlzKG1vZGVsLCB0aGlzKSkgcmV0dXJuIG5ldyBtb2RlbChhcnJheSlcclxuXHRcdG1vZGVsLnZhbGlkYXRlKGFycmF5KVxyXG5cdFx0cmV0dXJuIG5ldyBQcm94eShhcnJheSwge1xyXG5cdFx0XHRnZXRQcm90b3R5cGVPZjogKCkgPT4gbW9kZWwucHJvdG90eXBlLFxyXG5cclxuXHRcdFx0Z2V0KGFyciwga2V5KSB7XHJcblx0XHRcdFx0aWYgKE1VVEFUT1JfTUVUSE9EUy5pbmNsdWRlcyhrZXkpKSByZXR1cm4gcHJveGlmeU1ldGhvZChhcnIsIGtleSwgbW9kZWwpXHJcblx0XHRcdFx0cmV0dXJuIGFycltrZXldXHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHRzZXQoYXJyLCBrZXksIHZhbCkge1xyXG5cdFx0XHRcdHJldHVybiBzZXRBcnJheUtleShhcnIsIGtleSwgdmFsLCBtb2RlbClcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdGRlbGV0ZVByb3BlcnR5KGFyciwga2V5KXtcclxuXHRcdFx0XHRyZXR1cm4gIShrZXkgaW4gYXJyKSB8fCBzZXRBcnJheUtleShhcnIsIGtleSwgdW5kZWZpbmVkLCBtb2RlbClcclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdHNldENvbnN0cnVjdG9yUHJvdG8obW9kZWwsIEFycmF5LnByb3RvdHlwZSlcclxuXHRpbml0TW9kZWwobW9kZWwsIGFyZ3VtZW50cywgQXJyYXlNb2RlbClcclxuXHRyZXR1cm4gbW9kZWxcclxufVxyXG5cclxuc2V0Q29uc3RydWN0b3JQcm90byhBcnJheU1vZGVsLCBNb2RlbC5wcm90b3R5cGUpXHJcbk9iamVjdC5hc3NpZ24oQXJyYXlNb2RlbC5wcm90b3R5cGUsIHtcclxuXHJcblx0dG9TdHJpbmcoc3RhY2spe1xyXG5cdFx0cmV0dXJuICdBcnJheSBvZiAnICsgdG9TdHJpbmcodGhpcy5kZWZpbml0aW9uLCBzdGFjaylcclxuXHR9LFxyXG5cclxuXHRfdmFsaWRhdGUoYXJyLCBwYXRoLCBlcnJvclN0YWNrLCBjYWxsU3RhY2spe1xyXG5cdFx0aWYoaXMoQXJyYXksIGFycikpXHJcblx0XHRcdGFyci5mb3JFYWNoKChhLGkpID0+IHtcclxuXHRcdFx0XHRhcnJbaV0gPSBjaGVja0RlZmluaXRpb24oYSwgdGhpcy5kZWZpbml0aW9uLCBgJHtwYXRoIHx8IFwiQXJyYXlcIn1bJHtpfV1gLCBlcnJvclN0YWNrLCBjYWxsU3RhY2ssIHRydWUpXHJcblx0XHRcdH0pXHJcblx0XHRlbHNlIGVycm9yU3RhY2sucHVzaCh7XHJcblx0XHRcdGV4cGVjdGVkOiB0aGlzLFxyXG5cdFx0XHRyZWNlaXZlZDogYXJyLFxyXG5cdFx0XHRwYXRoXHJcblx0XHR9KVxyXG5cclxuXHRcdGNoZWNrQXNzZXJ0aW9ucyhhcnIsIHRoaXMsIHBhdGgsIGVycm9yU3RhY2spXHJcblx0fVxyXG59KVxyXG5cclxuZnVuY3Rpb24gcHJveGlmeU1ldGhvZChhcnJheSwgbWV0aG9kLCBtb2RlbCl7XHJcblx0cmV0dXJuIGZ1bmN0aW9uKCkge1xyXG5cdFx0Y29uc3QgdGVzdEFycmF5ID0gYXJyYXkuc2xpY2UoKVxyXG5cdFx0QXJyYXkucHJvdG90eXBlW21ldGhvZF0uYXBwbHkodGVzdEFycmF5LCBhcmd1bWVudHMpXHJcblx0XHRtb2RlbC52YWxpZGF0ZSh0ZXN0QXJyYXkpXHJcblx0XHRjb25zdCByZXR1cm5WYWx1ZSA9IEFycmF5LnByb3RvdHlwZVttZXRob2RdLmFwcGx5KGFycmF5LCBhcmd1bWVudHMpXHJcblx0XHRhcnJheS5mb3JFYWNoKChhLGkpPT4gYXJyYXlbaV0gPSBjYXN0KGEsIG1vZGVsLmRlZmluaXRpb24pKVxyXG5cdFx0cmV0dXJuIHJldHVyblZhbHVlXHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRBcnJheUtleShhcnJheSwga2V5LCB2YWx1ZSwgbW9kZWwpe1xyXG5cdGxldCBwYXRoID0gYEFycmF5WyR7a2V5fV1gO1xyXG5cdGlmKHBhcnNlSW50KGtleSkgPT09ICtrZXkgJiYga2V5ID49IDApXHJcblx0XHR2YWx1ZSA9IGNoZWNrRGVmaW5pdGlvbih2YWx1ZSwgbW9kZWwuZGVmaW5pdGlvbiwgcGF0aCwgbW9kZWwuZXJyb3JTdGFjaywgW10sIHRydWUpXHJcblxyXG5cdGNvbnN0IHRlc3RBcnJheSA9IGFycmF5LnNsaWNlKClcclxuXHR0ZXN0QXJyYXlba2V5XSA9IHZhbHVlXHJcblx0Y2hlY2tBc3NlcnRpb25zKHRlc3RBcnJheSwgbW9kZWwsIHBhdGgpXHJcblx0Y29uc3QgaXNTdWNjZXNzID0gIW1vZGVsLnVuc3RhY2tFcnJvcnMoKVxyXG5cdGlmKGlzU3VjY2Vzcyl7XHJcblx0XHRhcnJheVtrZXldID0gdmFsdWVcclxuXHR9XHJcblx0cmV0dXJuIGlzU3VjY2Vzc1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBcnJheU1vZGVsXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYXJyYXktbW9kZWwuanNcbi8vIG1vZHVsZSBpZCA9IDExXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 12 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__model__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__definition__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__helpers__ = __webpack_require__(1);\n\r\n\r\n\r\n\r\n\r\nfunction FunctionModel() {\r\n\r\n\tconst model = function(fn = model.default) {\r\n\t\treturn new Proxy(fn, {\r\n\t\t\tgetPrototypeOf: () => model.prototype,\r\n\r\n\t\t\tapply (fn, ctx, args) {\r\n\t\t\t\tconst def = model.definition\r\n\r\n\t\t\t\tdef.arguments.forEach((argDef, i) => {\r\n\t\t\t\t\targs[i] = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"a\" /* checkDefinition */])(args[i], argDef, `arguments[${i}]`, model.errorStack, [], true)\r\n\t\t\t\t})\r\n\r\n\t\t\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"b\" /* checkAssertions */])(args, model, \"arguments\")\r\n\r\n\t\t\t\tlet result\r\n\t\t\t\tif(!model.errorStack.length){\r\n\t\t\t\t\tresult = Reflect.apply(fn, ctx, args)\r\n\t\t\t\t\tif (\"return\" in def)\r\n\t\t\t\t\t\tresult = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"a\" /* checkDefinition */])(result, def.return, \"return value\", model.errorStack, [], true)\r\n\t\t\t\t}\r\n\t\t\t\tmodel.unstackErrors()\r\n\t\t\t\treturn result\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"b\" /* setConstructorProto */])(model, Function.prototype)\r\n\r\n\tconst def = { arguments: [...arguments] }\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__model__[\"b\" /* initModel */])(model, [ def ], FunctionModel)\r\n\r\n\treturn model\r\n}\r\n\r\n__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"b\" /* setConstructorProto */])(FunctionModel, __WEBPACK_IMPORTED_MODULE_0__model__[\"c\" /* Model */].prototype)\r\n\r\nObject.assign(FunctionModel.prototype, {\r\n\r\n\ttoString(stack){\r\n\t\tlet out = 'Function(' + this.definition.arguments.map(argDef => __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"c\" /* toString */])(argDef, stack)).join(\",\") +')'\r\n\t\tif(\"return\" in this.definition) {\r\n\t\t\tout += \" => \" + __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"c\" /* toString */])(this.definition.return)\r\n\t\t}\r\n\t\treturn out\r\n\t},\r\n\r\n\treturn(def){\r\n\t\tthis.definition.return = def\r\n\t\treturn this\r\n\t},\r\n\r\n\t_validate(f, path, errorStack){\r\n\t\tif (!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"f\" /* isFunction */])(f)) {\r\n\t\t\terrorStack.push({\r\n\t\t\t\texpected: \"Function\",\r\n\t\t\t\treceived: f,\r\n\t\t\t\tpath\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n})\r\n\r\nFunctionModel.prototype.assert(function(args){\r\n\tif (args.length > this.definition.arguments.length) return args\r\n\treturn true\r\n}, function(args){\r\n\treturn `expecting ${this.definition.arguments.length} arguments for ${__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"c\" /* toString */])(this)}, got ${args.length}`\r\n})\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (FunctionModel);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZnVuY3Rpb24tbW9kZWwuanM/YTU5YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb2RlbCwgaW5pdE1vZGVsIH0gZnJvbSBcIi4vbW9kZWxcIlxyXG5pbXBvcnQge2NoZWNrRGVmaW5pdGlvbiwgY2hlY2tBc3NlcnRpb25zfSBmcm9tIFwiLi9kZWZpbml0aW9uXCJcclxuaW1wb3J0IHsgaXNGdW5jdGlvbiwgc2V0Q29uc3RydWN0b3JQcm90bywgdG9TdHJpbmcgfSBmcm9tIFwiLi9oZWxwZXJzXCJcclxuXHJcblxyXG5mdW5jdGlvbiBGdW5jdGlvbk1vZGVsKCkge1xyXG5cclxuXHRjb25zdCBtb2RlbCA9IGZ1bmN0aW9uKGZuID0gbW9kZWwuZGVmYXVsdCkge1xyXG5cdFx0cmV0dXJuIG5ldyBQcm94eShmbiwge1xyXG5cdFx0XHRnZXRQcm90b3R5cGVPZjogKCkgPT4gbW9kZWwucHJvdG90eXBlLFxyXG5cclxuXHRcdFx0YXBwbHkgKGZuLCBjdHgsIGFyZ3MpIHtcclxuXHRcdFx0XHRjb25zdCBkZWYgPSBtb2RlbC5kZWZpbml0aW9uXHJcblxyXG5cdFx0XHRcdGRlZi5hcmd1bWVudHMuZm9yRWFjaCgoYXJnRGVmLCBpKSA9PiB7XHJcblx0XHRcdFx0XHRhcmdzW2ldID0gY2hlY2tEZWZpbml0aW9uKGFyZ3NbaV0sIGFyZ0RlZiwgYGFyZ3VtZW50c1ske2l9XWAsIG1vZGVsLmVycm9yU3RhY2ssIFtdLCB0cnVlKVxyXG5cdFx0XHRcdH0pXHJcblxyXG5cdFx0XHRcdGNoZWNrQXNzZXJ0aW9ucyhhcmdzLCBtb2RlbCwgXCJhcmd1bWVudHNcIilcclxuXHJcblx0XHRcdFx0bGV0IHJlc3VsdFxyXG5cdFx0XHRcdGlmKCFtb2RlbC5lcnJvclN0YWNrLmxlbmd0aCl7XHJcblx0XHRcdFx0XHRyZXN1bHQgPSBSZWZsZWN0LmFwcGx5KGZuLCBjdHgsIGFyZ3MpXHJcblx0XHRcdFx0XHRpZiAoXCJyZXR1cm5cIiBpbiBkZWYpXHJcblx0XHRcdFx0XHRcdHJlc3VsdCA9IGNoZWNrRGVmaW5pdGlvbihyZXN1bHQsIGRlZi5yZXR1cm4sIFwicmV0dXJuIHZhbHVlXCIsIG1vZGVsLmVycm9yU3RhY2ssIFtdLCB0cnVlKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRtb2RlbC51bnN0YWNrRXJyb3JzKClcclxuXHRcdFx0XHRyZXR1cm4gcmVzdWx0XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0c2V0Q29uc3RydWN0b3JQcm90byhtb2RlbCwgRnVuY3Rpb24ucHJvdG90eXBlKVxyXG5cclxuXHRjb25zdCBkZWYgPSB7IGFyZ3VtZW50czogWy4uLmFyZ3VtZW50c10gfVxyXG5cdGluaXRNb2RlbChtb2RlbCwgWyBkZWYgXSwgRnVuY3Rpb25Nb2RlbClcclxuXHJcblx0cmV0dXJuIG1vZGVsXHJcbn1cclxuXHJcbnNldENvbnN0cnVjdG9yUHJvdG8oRnVuY3Rpb25Nb2RlbCwgTW9kZWwucHJvdG90eXBlKVxyXG5cclxuT2JqZWN0LmFzc2lnbihGdW5jdGlvbk1vZGVsLnByb3RvdHlwZSwge1xyXG5cclxuXHR0b1N0cmluZyhzdGFjayl7XHJcblx0XHRsZXQgb3V0ID0gJ0Z1bmN0aW9uKCcgKyB0aGlzLmRlZmluaXRpb24uYXJndW1lbnRzLm1hcChhcmdEZWYgPT4gdG9TdHJpbmcoYXJnRGVmLCBzdGFjaykpLmpvaW4oXCIsXCIpICsnKSdcclxuXHRcdGlmKFwicmV0dXJuXCIgaW4gdGhpcy5kZWZpbml0aW9uKSB7XHJcblx0XHRcdG91dCArPSBcIiA9PiBcIiArIHRvU3RyaW5nKHRoaXMuZGVmaW5pdGlvbi5yZXR1cm4pXHJcblx0XHR9XHJcblx0XHRyZXR1cm4gb3V0XHJcblx0fSxcclxuXHJcblx0cmV0dXJuKGRlZil7XHJcblx0XHR0aGlzLmRlZmluaXRpb24ucmV0dXJuID0gZGVmXHJcblx0XHRyZXR1cm4gdGhpc1xyXG5cdH0sXHJcblxyXG5cdF92YWxpZGF0ZShmLCBwYXRoLCBlcnJvclN0YWNrKXtcclxuXHRcdGlmICghaXNGdW5jdGlvbihmKSkge1xyXG5cdFx0XHRlcnJvclN0YWNrLnB1c2goe1xyXG5cdFx0XHRcdGV4cGVjdGVkOiBcIkZ1bmN0aW9uXCIsXHJcblx0XHRcdFx0cmVjZWl2ZWQ6IGYsXHJcblx0XHRcdFx0cGF0aFxyXG5cdFx0XHR9KVxyXG5cdFx0fVxyXG5cdH1cclxufSlcclxuXHJcbkZ1bmN0aW9uTW9kZWwucHJvdG90eXBlLmFzc2VydChmdW5jdGlvbihhcmdzKXtcclxuXHRpZiAoYXJncy5sZW5ndGggPiB0aGlzLmRlZmluaXRpb24uYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIGFyZ3NcclxuXHRyZXR1cm4gdHJ1ZVxyXG59LCBmdW5jdGlvbihhcmdzKXtcclxuXHRyZXR1cm4gYGV4cGVjdGluZyAke3RoaXMuZGVmaW5pdGlvbi5hcmd1bWVudHMubGVuZ3RofSBhcmd1bWVudHMgZm9yICR7dG9TdHJpbmcodGhpcyl9LCBnb3QgJHthcmdzLmxlbmd0aH1gXHJcbn0pXHJcblxyXG5leHBvcnQgZGVmYXVsdCBGdW5jdGlvbk1vZGVsXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvZnVuY3Rpb24tbW9kZWwuanNcbi8vIG1vZHVsZSBpZCA9IDEyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 13 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__model__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__definition__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__helpers__ = __webpack_require__(1);\n\r\n\r\n\r\n\r\nconst MAP_MUTATOR_METHODS = [\"set\", \"delete\", \"clear\"]\r\n\r\nfunction MapModel(def){\r\n\r\n\tconst model = function(iterable) {\r\n\t\tconst map = new Map(iterable)\r\n\t\tmodel.validate(map)\r\n\r\n\t\tfor(let method of MAP_MUTATOR_METHODS){\r\n\t\t\tmap[method] = function() {\r\n\t\t\t\tconst testMap = new Map(map)\r\n\t\t\t\tMap.prototype[method].apply(testMap, arguments)\r\n\t\t\t\tmodel.validate(testMap)\r\n\t\t\t\treturn Map.prototype[method].apply(map, arguments)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"a\" /* setConstructor */])(map, model)\r\n\t\treturn map\r\n\t}\r\n\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"b\" /* setConstructorProto */])(model, Map.prototype)\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__model__[\"b\" /* initModel */])(model, arguments, MapModel)\r\n\treturn model\r\n}\r\n\r\n__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"b\" /* setConstructorProto */])(MapModel, __WEBPACK_IMPORTED_MODULE_0__model__[\"c\" /* Model */].prototype)\r\nObject.assign(MapModel.prototype, {\r\n\r\n\ttoString(stack){\r\n\t\treturn \"Map of \" + __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"c\" /* toString */])(this.definition, stack)\r\n\t},\r\n\r\n\t_validate(map, path, errorStack, callStack){\r\n\t\tif(map instanceof Map){\r\n\t\t\tfor(let [key,val] of map){\r\n\t\t\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"a\" /* checkDefinition */])(val, this.definition, `${path || \"Map\"}[${key}]`, errorStack, callStack)\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\terrorStack.push({\r\n\t\t\t\texpected: this,\r\n\t\t\t\treceived: map,\r\n\t\t\t\tpath\r\n\t\t\t})\r\n\t\t}\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"b\" /* checkAssertions */])(map, this, errorStack)\r\n\t}\r\n})\r\n\r\n/* unused harmony default export */ var _unused_webpack_default_export = (MapModel);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbWFwLW1vZGVsLmpzP2E0NmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTW9kZWwsIGluaXRNb2RlbCB9IGZyb20gXCIuL21vZGVsXCJcclxuaW1wb3J0IHsgY2hlY2tEZWZpbml0aW9uLCBjaGVja0Fzc2VydGlvbnMgfSBmcm9tIFwiLi9kZWZpbml0aW9uXCJcclxuaW1wb3J0IHsgc2V0Q29uc3RydWN0b3IsIHNldENvbnN0cnVjdG9yUHJvdG8sIHRvU3RyaW5nIH0gZnJvbSBcIi4vaGVscGVyc1wiXHJcblxyXG5jb25zdCBNQVBfTVVUQVRPUl9NRVRIT0RTID0gW1wic2V0XCIsIFwiZGVsZXRlXCIsIFwiY2xlYXJcIl1cclxuXHJcbmZ1bmN0aW9uIE1hcE1vZGVsKGRlZil7XHJcblxyXG5cdGNvbnN0IG1vZGVsID0gZnVuY3Rpb24oaXRlcmFibGUpIHtcclxuXHRcdGNvbnN0IG1hcCA9IG5ldyBNYXAoaXRlcmFibGUpXHJcblx0XHRtb2RlbC52YWxpZGF0ZShtYXApXHJcblxyXG5cdFx0Zm9yKGxldCBtZXRob2Qgb2YgTUFQX01VVEFUT1JfTUVUSE9EUyl7XHJcblx0XHRcdG1hcFttZXRob2RdID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0Y29uc3QgdGVzdE1hcCA9IG5ldyBNYXAobWFwKVxyXG5cdFx0XHRcdE1hcC5wcm90b3R5cGVbbWV0aG9kXS5hcHBseSh0ZXN0TWFwLCBhcmd1bWVudHMpXHJcblx0XHRcdFx0bW9kZWwudmFsaWRhdGUodGVzdE1hcClcclxuXHRcdFx0XHRyZXR1cm4gTWFwLnByb3RvdHlwZVttZXRob2RdLmFwcGx5KG1hcCwgYXJndW1lbnRzKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0c2V0Q29uc3RydWN0b3IobWFwLCBtb2RlbClcclxuXHRcdHJldHVybiBtYXBcclxuXHR9XHJcblxyXG5cdHNldENvbnN0cnVjdG9yUHJvdG8obW9kZWwsIE1hcC5wcm90b3R5cGUpXHJcblx0aW5pdE1vZGVsKG1vZGVsLCBhcmd1bWVudHMsIE1hcE1vZGVsKVxyXG5cdHJldHVybiBtb2RlbFxyXG59XHJcblxyXG5zZXRDb25zdHJ1Y3RvclByb3RvKE1hcE1vZGVsLCBNb2RlbC5wcm90b3R5cGUpXHJcbk9iamVjdC5hc3NpZ24oTWFwTW9kZWwucHJvdG90eXBlLCB7XHJcblxyXG5cdHRvU3RyaW5nKHN0YWNrKXtcclxuXHRcdHJldHVybiBcIk1hcCBvZiBcIiArIHRvU3RyaW5nKHRoaXMuZGVmaW5pdGlvbiwgc3RhY2spXHJcblx0fSxcclxuXHJcblx0X3ZhbGlkYXRlKG1hcCwgcGF0aCwgZXJyb3JTdGFjaywgY2FsbFN0YWNrKXtcclxuXHRcdGlmKG1hcCBpbnN0YW5jZW9mIE1hcCl7XHJcblx0XHRcdGZvcihsZXQgW2tleSx2YWxdIG9mIG1hcCl7XHJcblx0XHRcdFx0Y2hlY2tEZWZpbml0aW9uKHZhbCwgdGhpcy5kZWZpbml0aW9uLCBgJHtwYXRoIHx8IFwiTWFwXCJ9WyR7a2V5fV1gLCBlcnJvclN0YWNrLCBjYWxsU3RhY2spXHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGVycm9yU3RhY2sucHVzaCh7XHJcblx0XHRcdFx0ZXhwZWN0ZWQ6IHRoaXMsXHJcblx0XHRcdFx0cmVjZWl2ZWQ6IG1hcCxcclxuXHRcdFx0XHRwYXRoXHJcblx0XHRcdH0pXHJcblx0XHR9XHJcblx0XHRjaGVja0Fzc2VydGlvbnMobWFwLCB0aGlzLCBlcnJvclN0YWNrKVxyXG5cdH1cclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1hcE1vZGVsXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvbWFwLW1vZGVsLmpzXG4vLyBtb2R1bGUgaWQgPSAxM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 14 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__model__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__definition__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__helpers__ = __webpack_require__(1);\n\r\n\r\n\r\n\r\nconst SET_MUTATOR_METHODS = [\"add\", \"delete\", \"clear\"]\r\n\r\nfunction SetModel(def){\r\n\r\n\tconst model = function(iterable) {\r\n\t\tconst _set = new Set(iterable)\r\n\t\tmodel.validate(_set)\r\n\r\n\t\tfor(let method of SET_MUTATOR_METHODS){\r\n\t\t\t_set[method] = function() {\r\n\t\t\t\tconst testSet = new Set(_set)\r\n\t\t\t\tSet.prototype[method].apply(testSet, arguments)\r\n\t\t\t\tmodel.validate(testSet)\r\n\t\t\t\treturn Set.prototype[method].apply(_set, arguments)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"a\" /* setConstructor */])(_set, model)\r\n\t\treturn _set\r\n\t}\r\n\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"b\" /* setConstructorProto */])(model, Set.prototype)\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__model__[\"b\" /* initModel */])(model, arguments, SetModel)\r\n\treturn model\r\n}\r\n\r\n__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"b\" /* setConstructorProto */])(SetModel, __WEBPACK_IMPORTED_MODULE_0__model__[\"c\" /* Model */].prototype)\r\nObject.assign(SetModel.prototype, {\r\n\r\n\ttoString(stack){\r\n\t\treturn \"Set of \" + __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"c\" /* toString */])(this.definition, stack)\r\n\t},\r\n\r\n\t_validate(_set, path, errorStack, callStack){\r\n\t\tif(_set instanceof Set){\r\n\t\t\tfor(let item of _set.values()){\r\n\t\t\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"a\" /* checkDefinition */])(item, this.definition, (path || \"Set\"), errorStack, callStack)\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\terrorStack.push({\r\n\t\t\t\texpected: this,\r\n\t\t\t\treceived: _set,\r\n\t\t\t\tpath\r\n\t\t\t})\r\n\t\t}\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"b\" /* checkAssertions */])(_set, this, errorStack)\r\n\t}\r\n})\r\n\r\n/* unused harmony default export */ var _unused_webpack_default_export = (SetModel);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2V0LW1vZGVsLmpzPzFjMzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTW9kZWwsIGluaXRNb2RlbCB9IGZyb20gXCIuL21vZGVsXCJcclxuaW1wb3J0IHsgY2hlY2tEZWZpbml0aW9uLCBjaGVja0Fzc2VydGlvbnMgfSBmcm9tIFwiLi9kZWZpbml0aW9uXCJcclxuaW1wb3J0IHsgc2V0Q29uc3RydWN0b3IsIHNldENvbnN0cnVjdG9yUHJvdG8sIHRvU3RyaW5nIH0gZnJvbSBcIi4vaGVscGVyc1wiXHJcblxyXG5jb25zdCBTRVRfTVVUQVRPUl9NRVRIT0RTID0gW1wiYWRkXCIsIFwiZGVsZXRlXCIsIFwiY2xlYXJcIl1cclxuXHJcbmZ1bmN0aW9uIFNldE1vZGVsKGRlZil7XHJcblxyXG5cdGNvbnN0IG1vZGVsID0gZnVuY3Rpb24oaXRlcmFibGUpIHtcclxuXHRcdGNvbnN0IF9zZXQgPSBuZXcgU2V0KGl0ZXJhYmxlKVxyXG5cdFx0bW9kZWwudmFsaWRhdGUoX3NldClcclxuXHJcblx0XHRmb3IobGV0IG1ldGhvZCBvZiBTRVRfTVVUQVRPUl9NRVRIT0RTKXtcclxuXHRcdFx0X3NldFttZXRob2RdID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0Y29uc3QgdGVzdFNldCA9IG5ldyBTZXQoX3NldClcclxuXHRcdFx0XHRTZXQucHJvdG90eXBlW21ldGhvZF0uYXBwbHkodGVzdFNldCwgYXJndW1lbnRzKVxyXG5cdFx0XHRcdG1vZGVsLnZhbGlkYXRlKHRlc3RTZXQpXHJcblx0XHRcdFx0cmV0dXJuIFNldC5wcm90b3R5cGVbbWV0aG9kXS5hcHBseShfc2V0LCBhcmd1bWVudHMpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRzZXRDb25zdHJ1Y3Rvcihfc2V0LCBtb2RlbClcclxuXHRcdHJldHVybiBfc2V0XHJcblx0fVxyXG5cclxuXHRzZXRDb25zdHJ1Y3RvclByb3RvKG1vZGVsLCBTZXQucHJvdG90eXBlKVxyXG5cdGluaXRNb2RlbChtb2RlbCwgYXJndW1lbnRzLCBTZXRNb2RlbClcclxuXHRyZXR1cm4gbW9kZWxcclxufVxyXG5cclxuc2V0Q29uc3RydWN0b3JQcm90byhTZXRNb2RlbCwgTW9kZWwucHJvdG90eXBlKVxyXG5PYmplY3QuYXNzaWduKFNldE1vZGVsLnByb3RvdHlwZSwge1xyXG5cclxuXHR0b1N0cmluZyhzdGFjayl7XHJcblx0XHRyZXR1cm4gXCJTZXQgb2YgXCIgKyB0b1N0cmluZyh0aGlzLmRlZmluaXRpb24sIHN0YWNrKVxyXG5cdH0sXHJcblxyXG5cdF92YWxpZGF0ZShfc2V0LCBwYXRoLCBlcnJvclN0YWNrLCBjYWxsU3RhY2spe1xyXG5cdFx0aWYoX3NldCBpbnN0YW5jZW9mIFNldCl7XHJcblx0XHRcdGZvcihsZXQgaXRlbSBvZiBfc2V0LnZhbHVlcygpKXtcclxuXHRcdFx0XHRjaGVja0RlZmluaXRpb24oaXRlbSwgdGhpcy5kZWZpbml0aW9uLCAocGF0aCB8fCBcIlNldFwiKSwgZXJyb3JTdGFjaywgY2FsbFN0YWNrKVxyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRlcnJvclN0YWNrLnB1c2goe1xyXG5cdFx0XHRcdGV4cGVjdGVkOiB0aGlzLFxyXG5cdFx0XHRcdHJlY2VpdmVkOiBfc2V0LFxyXG5cdFx0XHRcdHBhdGhcclxuXHRcdFx0fSlcclxuXHRcdH1cclxuXHRcdGNoZWNrQXNzZXJ0aW9ucyhfc2V0LCB0aGlzLCBlcnJvclN0YWNrKVxyXG5cdH1cclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNldE1vZGVsXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvc2V0LW1vZGVsLmpzXG4vLyBtb2R1bGUgaWQgPSAxNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 15 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("const consoleMock = {\n\tmethods: [\"debug\",\"log\",\"warn\",\"error\"],\n\tapply: function(){\n\t\tconsoleMock.methods.forEach(function(method){\n\t\t\tconsoleMock[\"_default\"+method] = console[method];\n\t\t\tconsoleMock[method+\"LastArgs\"] = [];\n\t\t\tconsole[method] = function(){\n\t\t\t\tconsoleMock[method+\"LastArgs\"] = arguments;\n\t\t\t}\n\t\t})\n\t},\n\trevert: function(){\n\t\tconsoleMock.methods.forEach(function(method){\n\t\t\tconsole[method] = consoleMock[\"_default\"+method];\n\t\t\tconsoleMock[method+\"LastArgs\"] = [];\n\t\t});\n\t}\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (consoleMock);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi90ZXN0L21vY2tzL2NvbnNvbGUuanM/ZjBjZiJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjb25zb2xlTW9jayA9IHtcblx0bWV0aG9kczogW1wiZGVidWdcIixcImxvZ1wiLFwid2FyblwiLFwiZXJyb3JcIl0sXG5cdGFwcGx5OiBmdW5jdGlvbigpe1xuXHRcdGNvbnNvbGVNb2NrLm1ldGhvZHMuZm9yRWFjaChmdW5jdGlvbihtZXRob2Qpe1xuXHRcdFx0Y29uc29sZU1vY2tbXCJfZGVmYXVsdFwiK21ldGhvZF0gPSBjb25zb2xlW21ldGhvZF07XG5cdFx0XHRjb25zb2xlTW9ja1ttZXRob2QrXCJMYXN0QXJnc1wiXSA9IFtdO1xuXHRcdFx0Y29uc29sZVttZXRob2RdID0gZnVuY3Rpb24oKXtcblx0XHRcdFx0Y29uc29sZU1vY2tbbWV0aG9kK1wiTGFzdEFyZ3NcIl0gPSBhcmd1bWVudHM7XG5cdFx0XHR9XG5cdFx0fSlcblx0fSxcblx0cmV2ZXJ0OiBmdW5jdGlvbigpe1xuXHRcdGNvbnNvbGVNb2NrLm1ldGhvZHMuZm9yRWFjaChmdW5jdGlvbihtZXRob2Qpe1xuXHRcdFx0Y29uc29sZVttZXRob2RdID0gY29uc29sZU1vY2tbXCJfZGVmYXVsdFwiK21ldGhvZF07XG5cdFx0XHRjb25zb2xlTW9ja1ttZXRob2QrXCJMYXN0QXJnc1wiXSA9IFtdO1xuXHRcdH0pO1xuXHR9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb25zb2xlTW9jaztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3Rlc3QvbW9ja3MvY29uc29sZS5qc1xuLy8gbW9kdWxlIGlkID0gMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(6);
__webpack_require__(7);
__webpack_require__(8);
__webpack_require__(9);
module.exports = __webpack_require__(10);


/***/ })
/******/ ]);