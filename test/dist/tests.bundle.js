/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 15);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (immutable) */ __webpack_exports__[\"c\"] = BasicModel;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = initModel;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = parseDefinition;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__helpers__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__definition__ = __webpack_require__(2);\n\r\n\r\n\r\n\r\nfunction BasicModel(def){\r\n\tconst model = function(val = model.default) {\r\n\t\tmodel.validate(val)\r\n\t\treturn val\r\n\t}\r\n\r\n\tinitModel(model, arguments, BasicModel)\r\n\treturn model\r\n}\r\n\r\nObject.assign(BasicModel.prototype, {\r\n\ttoString(stack){\r\n\t\treturn parseDefinition(this.definition).map(d => __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"c\" /* toString */])(d, stack)).join(\" or \")\r\n\t},\r\n\r\n\tassertions: [],\r\n\r\n\tvalidate(obj, errorCollector){\r\n\t\tthis._validate(obj, null, this.errorStack, [])\r\n\t\tthis.unstackErrors(errorCollector)\r\n\t},\r\n\r\n\ttest(obj){\r\n\t\tlet failed,\r\n\t\t    initialErrorCollector = this.errorCollector\r\n\t\tthis.errorCollector = () => { failed = true }\r\n\t\tthis(obj)\r\n\t\tthis.errorCollector = initialErrorCollector\r\n\t\treturn !failed\r\n\t},\r\n\r\n\textend(){\r\n\t\tconst args = [...arguments]\r\n\t\tconst def = args\r\n\t\t\t.reduce((def, ext) => def.concat(parseDefinition(ext)), parseDefinition(this.definition))\r\n\t\t\t.filter((value, index, self) => self.indexOf(value) === index) // remove duplicates\r\n\r\n\t\tlet assertions = [...this.assertions]\r\n\t\targs.forEach(arg => {\r\n\t\t\tif(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"a\" /* is */])(BasicModel, arg)) assertions = assertions.concat(arg.assertions)\r\n\t\t})\r\n\r\n\t\tconst submodel = new this.constructor(def)\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"b\" /* setConstructorProto */])(submodel, this.prototype)\r\n\t\tsubmodel.assertions = assertions\r\n\t\tsubmodel.errorCollector = this.errorCollector\r\n\t\treturn submodel\r\n\t},\r\n\r\n\tassert(assertion, description = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"c\" /* toString */])(assertion)){\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"f\" /* define */])(assertion, \"description\", description);\r\n\t\tthis.assertions = this.assertions.concat(assertion)\r\n\t\treturn this\r\n\t},\r\n\r\n\tdefaultTo(val){\r\n\t\tthis.default = val\r\n\t\treturn this\r\n\t},\r\n\r\n\terrorCollector(errors){\r\n\t\tlet e = new TypeError(errors.map(e => e.message).join('\\n'))\r\n\t\te.stack = e.stack.replace(/\\n.*object-model(.|\\n)*object-model.*/, \"\") // blackbox objectmodel in stacktrace\r\n\t\tthrow e\r\n\t},\r\n\r\n\t_validate(obj, path, errorStack, callStack){\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"a\" /* checkDefinition */])(obj, this.definition, path, errorStack, callStack)\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"b\" /* checkAssertions */])(obj, this, path, errorStack)\r\n\t},\r\n\r\n\t// throw all errors collected\r\n\tunstackErrors(errorCollector){\r\n\t\tif (!this.errorStack.length) return\r\n\t\tif (!errorCollector) errorCollector = this.errorCollector\r\n\t\tconst errors = this.errorStack.map(err => {\r\n\t\t\tif (!err.message) {\r\n\t\t\t\tconst def = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"a\" /* is */])(Array, err.expected) ? err.expected : [err.expected]\r\n\t\t\t\terr.message = (\"expecting \" + (err.path ? err.path + \" to be \" : \"\") + def.map(d => __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"c\" /* toString */])(d)).join(\" or \")\r\n\t\t\t\t+ \", got \" + (err.received != null ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"g\" /* bettertypeof */])(err.received) + \" \" : \"\") + __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"c\" /* toString */])(err.received))\r\n\t\t\t}\r\n\t\t\treturn err\r\n\t\t})\r\n\t\tthis.errorStack = []\r\n\t\terrorCollector.call(this, errors)\r\n\t}\r\n\r\n})\r\n\r\nBasicModel.prototype.conventionForConstant = key => key.toUpperCase() === key\r\nBasicModel.prototype.conventionForPrivate = key => key[0] === \"_\"\r\n\r\nfunction initModel(model, args, constructor){\r\n\tif(args.length === 0) throw new Error(\"Model definition is required\");\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"h\" /* setConstructor */])(model, constructor)\r\n\tmodel.definition = args[0]\r\n\tmodel.assertions = model.assertions.slice()\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"f\" /* define */])(model, \"errorStack\", [])\r\n}\r\n\r\nfunction parseDefinition(def){\r\n\tif(!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"d\" /* isPlainObject */])(def)){\r\n\t\tif(!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"a\" /* is */])(Array, def)) return [def]\r\n\t\tif(def.length === 1) return [...def, undefined, null]\r\n\t} else {\r\n\t\tfor(let key of Object.keys(def))\r\n\t\t\tdef[key] = parseDefinition(def[key])\r\n\t}\r\n\treturn def\r\n}\r\n\r\n\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (BasicModel);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9iYXNpYy1tb2RlbC5qcz84Mjg5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcblx0YmV0dGVydHlwZW9mLFxyXG5cdGRlZmluZSxcclxuXHRpcywgaXNQbGFpbk9iamVjdCxcclxuXHRzZXRDb25zdHJ1Y3RvcixcclxuXHRzZXRDb25zdHJ1Y3RvclByb3RvLFxyXG5cdHRvU3RyaW5nXHJcbn0gZnJvbSBcIi4vaGVscGVyc1wiXHJcblxyXG5pbXBvcnQge2NoZWNrRGVmaW5pdGlvbiwgY2hlY2tBc3NlcnRpb25zfSBmcm9tIFwiLi9kZWZpbml0aW9uXCJcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBCYXNpY01vZGVsKGRlZil7XHJcblx0Y29uc3QgbW9kZWwgPSBmdW5jdGlvbih2YWwgPSBtb2RlbC5kZWZhdWx0KSB7XHJcblx0XHRtb2RlbC52YWxpZGF0ZSh2YWwpXHJcblx0XHRyZXR1cm4gdmFsXHJcblx0fVxyXG5cclxuXHRpbml0TW9kZWwobW9kZWwsIGFyZ3VtZW50cywgQmFzaWNNb2RlbClcclxuXHRyZXR1cm4gbW9kZWxcclxufVxyXG5cclxuT2JqZWN0LmFzc2lnbihCYXNpY01vZGVsLnByb3RvdHlwZSwge1xyXG5cdHRvU3RyaW5nKHN0YWNrKXtcclxuXHRcdHJldHVybiBwYXJzZURlZmluaXRpb24odGhpcy5kZWZpbml0aW9uKS5tYXAoZCA9PiB0b1N0cmluZyhkLCBzdGFjaykpLmpvaW4oXCIgb3IgXCIpXHJcblx0fSxcclxuXHJcblx0YXNzZXJ0aW9uczogW10sXHJcblxyXG5cdHZhbGlkYXRlKG9iaiwgZXJyb3JDb2xsZWN0b3Ipe1xyXG5cdFx0dGhpcy5fdmFsaWRhdGUob2JqLCBudWxsLCB0aGlzLmVycm9yU3RhY2ssIFtdKVxyXG5cdFx0dGhpcy51bnN0YWNrRXJyb3JzKGVycm9yQ29sbGVjdG9yKVxyXG5cdH0sXHJcblxyXG5cdHRlc3Qob2JqKXtcclxuXHRcdGxldCBmYWlsZWQsXHJcblx0XHQgICAgaW5pdGlhbEVycm9yQ29sbGVjdG9yID0gdGhpcy5lcnJvckNvbGxlY3RvclxyXG5cdFx0dGhpcy5lcnJvckNvbGxlY3RvciA9ICgpID0+IHsgZmFpbGVkID0gdHJ1ZSB9XHJcblx0XHR0aGlzKG9iailcclxuXHRcdHRoaXMuZXJyb3JDb2xsZWN0b3IgPSBpbml0aWFsRXJyb3JDb2xsZWN0b3JcclxuXHRcdHJldHVybiAhZmFpbGVkXHJcblx0fSxcclxuXHJcblx0ZXh0ZW5kKCl7XHJcblx0XHRjb25zdCBhcmdzID0gWy4uLmFyZ3VtZW50c11cclxuXHRcdGNvbnN0IGRlZiA9IGFyZ3NcclxuXHRcdFx0LnJlZHVjZSgoZGVmLCBleHQpID0+IGRlZi5jb25jYXQocGFyc2VEZWZpbml0aW9uKGV4dCkpLCBwYXJzZURlZmluaXRpb24odGhpcy5kZWZpbml0aW9uKSlcclxuXHRcdFx0LmZpbHRlcigodmFsdWUsIGluZGV4LCBzZWxmKSA9PiBzZWxmLmluZGV4T2YodmFsdWUpID09PSBpbmRleCkgLy8gcmVtb3ZlIGR1cGxpY2F0ZXNcclxuXHJcblx0XHRsZXQgYXNzZXJ0aW9ucyA9IFsuLi50aGlzLmFzc2VydGlvbnNdXHJcblx0XHRhcmdzLmZvckVhY2goYXJnID0+IHtcclxuXHRcdFx0aWYoaXMoQmFzaWNNb2RlbCwgYXJnKSkgYXNzZXJ0aW9ucyA9IGFzc2VydGlvbnMuY29uY2F0KGFyZy5hc3NlcnRpb25zKVxyXG5cdFx0fSlcclxuXHJcblx0XHRjb25zdCBzdWJtb2RlbCA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKGRlZilcclxuXHRcdHNldENvbnN0cnVjdG9yUHJvdG8oc3VibW9kZWwsIHRoaXMucHJvdG90eXBlKVxyXG5cdFx0c3VibW9kZWwuYXNzZXJ0aW9ucyA9IGFzc2VydGlvbnNcclxuXHRcdHN1Ym1vZGVsLmVycm9yQ29sbGVjdG9yID0gdGhpcy5lcnJvckNvbGxlY3RvclxyXG5cdFx0cmV0dXJuIHN1Ym1vZGVsXHJcblx0fSxcclxuXHJcblx0YXNzZXJ0KGFzc2VydGlvbiwgZGVzY3JpcHRpb24gPSB0b1N0cmluZyhhc3NlcnRpb24pKXtcclxuXHRcdGRlZmluZShhc3NlcnRpb24sIFwiZGVzY3JpcHRpb25cIiwgZGVzY3JpcHRpb24pO1xyXG5cdFx0dGhpcy5hc3NlcnRpb25zID0gdGhpcy5hc3NlcnRpb25zLmNvbmNhdChhc3NlcnRpb24pXHJcblx0XHRyZXR1cm4gdGhpc1xyXG5cdH0sXHJcblxyXG5cdGRlZmF1bHRUbyh2YWwpe1xyXG5cdFx0dGhpcy5kZWZhdWx0ID0gdmFsXHJcblx0XHRyZXR1cm4gdGhpc1xyXG5cdH0sXHJcblxyXG5cdGVycm9yQ29sbGVjdG9yKGVycm9ycyl7XHJcblx0XHRsZXQgZSA9IG5ldyBUeXBlRXJyb3IoZXJyb3JzLm1hcChlID0+IGUubWVzc2FnZSkuam9pbignXFxuJykpXHJcblx0XHRlLnN0YWNrID0gZS5zdGFjay5yZXBsYWNlKC9cXG4uKm9iamVjdC1tb2RlbCgufFxcbikqb2JqZWN0LW1vZGVsLiovLCBcIlwiKSAvLyBibGFja2JveCBvYmplY3Rtb2RlbCBpbiBzdGFja3RyYWNlXHJcblx0XHR0aHJvdyBlXHJcblx0fSxcclxuXHJcblx0X3ZhbGlkYXRlKG9iaiwgcGF0aCwgZXJyb3JTdGFjaywgY2FsbFN0YWNrKXtcclxuXHRcdGNoZWNrRGVmaW5pdGlvbihvYmosIHRoaXMuZGVmaW5pdGlvbiwgcGF0aCwgZXJyb3JTdGFjaywgY2FsbFN0YWNrKVxyXG5cdFx0Y2hlY2tBc3NlcnRpb25zKG9iaiwgdGhpcywgcGF0aCwgZXJyb3JTdGFjaylcclxuXHR9LFxyXG5cclxuXHQvLyB0aHJvdyBhbGwgZXJyb3JzIGNvbGxlY3RlZFxyXG5cdHVuc3RhY2tFcnJvcnMoZXJyb3JDb2xsZWN0b3Ipe1xyXG5cdFx0aWYgKCF0aGlzLmVycm9yU3RhY2subGVuZ3RoKSByZXR1cm5cclxuXHRcdGlmICghZXJyb3JDb2xsZWN0b3IpIGVycm9yQ29sbGVjdG9yID0gdGhpcy5lcnJvckNvbGxlY3RvclxyXG5cdFx0Y29uc3QgZXJyb3JzID0gdGhpcy5lcnJvclN0YWNrLm1hcChlcnIgPT4ge1xyXG5cdFx0XHRpZiAoIWVyci5tZXNzYWdlKSB7XHJcblx0XHRcdFx0Y29uc3QgZGVmID0gaXMoQXJyYXksIGVyci5leHBlY3RlZCkgPyBlcnIuZXhwZWN0ZWQgOiBbZXJyLmV4cGVjdGVkXVxyXG5cdFx0XHRcdGVyci5tZXNzYWdlID0gKFwiZXhwZWN0aW5nIFwiICsgKGVyci5wYXRoID8gZXJyLnBhdGggKyBcIiB0byBiZSBcIiA6IFwiXCIpICsgZGVmLm1hcChkID0+IHRvU3RyaW5nKGQpKS5qb2luKFwiIG9yIFwiKVxyXG5cdFx0XHRcdCsgXCIsIGdvdCBcIiArIChlcnIucmVjZWl2ZWQgIT0gbnVsbCA/IGJldHRlcnR5cGVvZihlcnIucmVjZWl2ZWQpICsgXCIgXCIgOiBcIlwiKSArIHRvU3RyaW5nKGVyci5yZWNlaXZlZCkpXHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGVyclxyXG5cdFx0fSlcclxuXHRcdHRoaXMuZXJyb3JTdGFjayA9IFtdXHJcblx0XHRlcnJvckNvbGxlY3Rvci5jYWxsKHRoaXMsIGVycm9ycylcclxuXHR9XHJcblxyXG59KVxyXG5cclxuQmFzaWNNb2RlbC5wcm90b3R5cGUuY29udmVudGlvbkZvckNvbnN0YW50ID0ga2V5ID0+IGtleS50b1VwcGVyQ2FzZSgpID09PSBrZXlcclxuQmFzaWNNb2RlbC5wcm90b3R5cGUuY29udmVudGlvbkZvclByaXZhdGUgPSBrZXkgPT4ga2V5WzBdID09PSBcIl9cIlxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRNb2RlbChtb2RlbCwgYXJncywgY29uc3RydWN0b3Ipe1xyXG5cdGlmKGFyZ3MubGVuZ3RoID09PSAwKSB0aHJvdyBuZXcgRXJyb3IoXCJNb2RlbCBkZWZpbml0aW9uIGlzIHJlcXVpcmVkXCIpO1xyXG5cdHNldENvbnN0cnVjdG9yKG1vZGVsLCBjb25zdHJ1Y3RvcilcclxuXHRtb2RlbC5kZWZpbml0aW9uID0gYXJnc1swXVxyXG5cdG1vZGVsLmFzc2VydGlvbnMgPSBtb2RlbC5hc3NlcnRpb25zLnNsaWNlKClcclxuXHRkZWZpbmUobW9kZWwsIFwiZXJyb3JTdGFja1wiLCBbXSlcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRGVmaW5pdGlvbihkZWYpe1xyXG5cdGlmKCFpc1BsYWluT2JqZWN0KGRlZikpe1xyXG5cdFx0aWYoIWlzKEFycmF5LCBkZWYpKSByZXR1cm4gW2RlZl1cclxuXHRcdGlmKGRlZi5sZW5ndGggPT09IDEpIHJldHVybiBbLi4uZGVmLCB1bmRlZmluZWQsIG51bGxdXHJcblx0fSBlbHNlIHtcclxuXHRcdGZvcihsZXQga2V5IG9mIE9iamVjdC5rZXlzKGRlZikpXHJcblx0XHRcdGRlZltrZXldID0gcGFyc2VEZWZpbml0aW9uKGRlZltrZXldKVxyXG5cdH1cclxuXHRyZXR1cm4gZGVmXHJcbn1cclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEJhc2ljTW9kZWxcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9iYXNpYy1tb2RlbC5qc1xuLy8gbW9kdWxlIGlkID0gMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 1 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (immutable) */ __webpack_exports__[\"a\"] = is;\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = isFunction;\n/* harmony export (immutable) */ __webpack_exports__[\"j\"] = isObject;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = isPlainObject;\n/* harmony export (immutable) */ __webpack_exports__[\"g\"] = bettertypeof;\n/* harmony export (immutable) */ __webpack_exports__[\"i\"] = merge;\n/* harmony export (immutable) */ __webpack_exports__[\"f\"] = define;\n/* harmony export (immutable) */ __webpack_exports__[\"h\"] = setConstructor;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = setConstructorProto;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = toString;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__basic_model__ = __webpack_require__(0);\n\r\n\r\nconst defineProperty = Object.defineProperty\r\n\r\nfunction is(Constructor, obj){\r\n\treturn obj instanceof Constructor\r\n}\r\n\r\nfunction isFunction(o){\r\n\treturn typeof o === \"function\"\r\n}\r\n\r\nfunction isObject(o){\r\n    return typeof o === \"object\"\r\n}\r\n\r\nfunction isPlainObject(o){\r\n\treturn o && isObject(o) && Object.getPrototypeOf(o) === Object.prototype\r\n}\r\n\r\nfunction bettertypeof(obj){\r\n\treturn ({}).toString.call(obj).match(/\\s([a-zA-Z]+)/)[1]\r\n}\r\n\r\nfunction merge(target, src={}, deep, includingProto) {\r\n\tfor(let key in src){\r\n\t\tif(includingProto || src.hasOwnProperty(key)){\r\n\t\t\tif(deep && isPlainObject(src[key])){\r\n\t\t\t\tconst o = {}\r\n\t\t\t\tmerge(o, target[key], deep)\r\n\t\t\t\tmerge(o, src[key], deep)\r\n\t\t\t\ttarget[key] = o\r\n\t\t\t} else {\r\n\t\t\t\ttarget[key] = src[key]\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction define(obj, key, value, enumerable=false) {\r\n\tdefineProperty(obj, key, { value, enumerable, writable: true, configurable: true })\r\n}\r\n\r\nfunction setConstructor(model, constructor){\r\n\tObject.setPrototypeOf(model, constructor.prototype)\r\n\tdefine(model, \"constructor\", constructor)\r\n}\r\n\r\nfunction setConstructorProto(constructor, proto){\r\n\tconstructor.prototype = Object.create(proto)\r\n\tconstructor.prototype.constructor = constructor\r\n}\r\n\r\nfunction toString(obj, stack = []){\r\n\tif(stack.length > 15 || stack.includes(obj)) return '...'\r\n\tif(obj === null || obj === undefined) return String(obj)\r\n\tif(typeof obj === \"string\") return `\"${obj}\"`\r\n\tif(is(__WEBPACK_IMPORTED_MODULE_0__basic_model__[\"c\" /* BasicModel */], obj)) return obj.toString(stack)\r\n\tstack = [obj].concat(stack)\r\n\tif(isFunction(obj)) return obj.name || obj.toString(stack)\r\n\tif(is(Array, obj)) return `[${obj.map(item => toString(item, stack)).join(', ')}]`\r\n\tif(obj.toString !== Object.prototype.toString) return obj.toString()\r\n\tif(obj && isObject(obj)) {\r\n\t\tconst props = Object.keys(obj),\r\n\t\t\t  indent = '\\t'.repeat(stack.length)\r\n\t\treturn `{${props.map(\r\n\t\t\tkey => `\\n${indent+key}: ${toString(obj[key], stack)}`\r\n\t\t).join(',')} ${props.length ? `\\n${indent.slice(1)}` : ''}}`\r\n\t}\r\n\treturn String(obj)\r\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9oZWxwZXJzLmpzPzcxN2QiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzaWNNb2RlbCB9IGZyb20gXCIuL2Jhc2ljLW1vZGVsXCJcclxuXHJcbmNvbnN0IGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXMoQ29uc3RydWN0b3IsIG9iail7XHJcblx0cmV0dXJuIG9iaiBpbnN0YW5jZW9mIENvbnN0cnVjdG9yXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKG8pe1xyXG5cdHJldHVybiB0eXBlb2YgbyA9PT0gXCJmdW5jdGlvblwiXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdChvKXtcclxuICAgIHJldHVybiB0eXBlb2YgbyA9PT0gXCJvYmplY3RcIlxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFpbk9iamVjdChvKXtcclxuXHRyZXR1cm4gbyAmJiBpc09iamVjdChvKSAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YobykgPT09IE9iamVjdC5wcm90b3R5cGVcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGJldHRlcnR5cGVvZihvYmope1xyXG5cdHJldHVybiAoe30pLnRvU3RyaW5nLmNhbGwob2JqKS5tYXRjaCgvXFxzKFthLXpBLVpdKykvKVsxXVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2UodGFyZ2V0LCBzcmM9e30sIGRlZXAsIGluY2x1ZGluZ1Byb3RvKSB7XHJcblx0Zm9yKGxldCBrZXkgaW4gc3JjKXtcclxuXHRcdGlmKGluY2x1ZGluZ1Byb3RvIHx8IHNyYy5oYXNPd25Qcm9wZXJ0eShrZXkpKXtcclxuXHRcdFx0aWYoZGVlcCAmJiBpc1BsYWluT2JqZWN0KHNyY1trZXldKSl7XHJcblx0XHRcdFx0Y29uc3QgbyA9IHt9XHJcblx0XHRcdFx0bWVyZ2UobywgdGFyZ2V0W2tleV0sIGRlZXApXHJcblx0XHRcdFx0bWVyZ2Uobywgc3JjW2tleV0sIGRlZXApXHJcblx0XHRcdFx0dGFyZ2V0W2tleV0gPSBvXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGFyZ2V0W2tleV0gPSBzcmNba2V5XVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lKG9iaiwga2V5LCB2YWx1ZSwgZW51bWVyYWJsZT1mYWxzZSkge1xyXG5cdGRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlLCBlbnVtZXJhYmxlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0pXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRDb25zdHJ1Y3Rvcihtb2RlbCwgY29uc3RydWN0b3Ipe1xyXG5cdE9iamVjdC5zZXRQcm90b3R5cGVPZihtb2RlbCwgY29uc3RydWN0b3IucHJvdG90eXBlKVxyXG5cdGRlZmluZShtb2RlbCwgXCJjb25zdHJ1Y3RvclwiLCBjb25zdHJ1Y3RvcilcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldENvbnN0cnVjdG9yUHJvdG8oY29uc3RydWN0b3IsIHByb3RvKXtcclxuXHRjb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHByb3RvKVxyXG5cdGNvbnN0cnVjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGNvbnN0cnVjdG9yXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0b1N0cmluZyhvYmosIHN0YWNrID0gW10pe1xyXG5cdGlmKHN0YWNrLmxlbmd0aCA+IDE1IHx8IHN0YWNrLmluY2x1ZGVzKG9iaikpIHJldHVybiAnLi4uJ1xyXG5cdGlmKG9iaiA9PT0gbnVsbCB8fCBvYmogPT09IHVuZGVmaW5lZCkgcmV0dXJuIFN0cmluZyhvYmopXHJcblx0aWYodHlwZW9mIG9iaiA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIGBcIiR7b2JqfVwiYFxyXG5cdGlmKGlzKEJhc2ljTW9kZWwsIG9iaikpIHJldHVybiBvYmoudG9TdHJpbmcoc3RhY2spXHJcblx0c3RhY2sgPSBbb2JqXS5jb25jYXQoc3RhY2spXHJcblx0aWYoaXNGdW5jdGlvbihvYmopKSByZXR1cm4gb2JqLm5hbWUgfHwgb2JqLnRvU3RyaW5nKHN0YWNrKVxyXG5cdGlmKGlzKEFycmF5LCBvYmopKSByZXR1cm4gYFske29iai5tYXAoaXRlbSA9PiB0b1N0cmluZyhpdGVtLCBzdGFjaykpLmpvaW4oJywgJyl9XWBcclxuXHRpZihvYmoudG9TdHJpbmcgIT09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcpIHJldHVybiBvYmoudG9TdHJpbmcoKVxyXG5cdGlmKG9iaiAmJiBpc09iamVjdChvYmopKSB7XHJcblx0XHRjb25zdCBwcm9wcyA9IE9iamVjdC5rZXlzKG9iaiksXHJcblx0XHRcdCAgaW5kZW50ID0gJ1xcdCcucmVwZWF0KHN0YWNrLmxlbmd0aClcclxuXHRcdHJldHVybiBgeyR7cHJvcHMubWFwKFxyXG5cdFx0XHRrZXkgPT4gYFxcbiR7aW5kZW50K2tleX06ICR7dG9TdHJpbmcob2JqW2tleV0sIHN0YWNrKX1gXHJcblx0XHQpLmpvaW4oJywnKX0gJHtwcm9wcy5sZW5ndGggPyBgXFxuJHtpbmRlbnQuc2xpY2UoMSl9YCA6ICcnfX1gXHJcblx0fVxyXG5cdHJldHVybiBTdHJpbmcob2JqKVxyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvaGVscGVycy5qc1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (immutable) */ __webpack_exports__[\"a\"] = checkDefinition;\n/* unused harmony export checkDefinitionPart */\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = checkAssertions;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = cast;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__helpers__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__basic_model__ = __webpack_require__(0);\n\r\n\r\n\r\nfunction checkDefinition(obj, def, path, errorStack, callStack, shouldCast=false){\r\n\tconst indexFound = callStack.indexOf(def)\r\n\tif(indexFound !== -1 && callStack.indexOf(def, indexFound+1) !== -1)\r\n\t\treturn obj //if found twice in call stack, cycle detected, skip validation\r\n\r\n\tif(shouldCast)\r\n\t\tobj = cast(obj, def)\r\n\r\n\r\n\tif(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"a\" /* is */])(__WEBPACK_IMPORTED_MODULE_1__basic_model__[\"c\" /* BasicModel */], def)){\r\n\t\tdef._validate(obj, path, errorStack, callStack.concat(def))\r\n\t}\r\n\telse if(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"d\" /* isPlainObject */])(def)){\r\n\t\tObject.keys(def).forEach(key => {\r\n\t\t\tconst val = obj != null ? obj[key] : undefined\r\n\t\t\tcheckDefinition(val, def[key], path ? path + '.' + key : key, errorStack, callStack)\r\n\t\t})\r\n\t}\r\n\telse {\r\n\t\tconst pdef = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__basic_model__[\"d\" /* parseDefinition */])(def)\r\n\t\tif(pdef.some(part => checkDefinitionPart(obj, part, path, callStack)))\r\n\t\t\treturn obj\r\n\r\n\t\terrorStack.push({\r\n\t\t\texpected: def,\r\n\t\t\treceived: obj,\r\n\t\t\tpath\r\n\t\t})\r\n\t}\r\n\r\n\treturn obj\r\n}\r\n\r\nfunction checkDefinitionPart(obj, def, path, callStack){\r\n\tif(obj == null) return obj === def\r\n\tif(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"d\" /* isPlainObject */])(def) || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"a\" /* is */])(__WEBPACK_IMPORTED_MODULE_1__basic_model__[\"c\" /* BasicModel */], def)){ // object or model as part of union type\r\n\t\tconst errorStack = []\r\n\t\tcheckDefinition(obj, def, path, errorStack, callStack)\r\n\t\treturn !errorStack.length\r\n\t}\r\n\tif(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"a\" /* is */])(RegExp, def)) return def.test(obj)\r\n\tif(def === Number || def === Date) return obj.constructor === def && !isNaN(obj)\r\n\treturn obj === def\r\n\t\t|| (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"e\" /* isFunction */])(def) && __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"a\" /* is */])(def, obj))\r\n\t\t|| obj.constructor === def\r\n}\r\n\r\n\r\nfunction checkAssertions(obj, model, path, errorStack = model.errorStack){\r\n\tfor(let assertion of model.assertions){\r\n\t\tlet result\r\n\t\ttry {\r\n\t\t\tresult = assertion.call(model, obj)\r\n\t\t} catch(err){\r\n\t\t\tresult = err\r\n\t\t}\r\n\t\tif(result !== true){\r\n\t\t\tconst onFail = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"e\" /* isFunction */])(assertion.description) ? assertion.description : (assertionResult, value) =>\r\n\t\t\t\t`assertion \"${assertion.description}\" returned ${__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"c\" /* toString */])(assertionResult)} for value ${__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"c\" /* toString */])(value)}`\r\n\t\t\terrorStack.push({\r\n\t\t\t\tmessage: onFail.call(model, result, obj),\r\n\t\t\t\texpected: assertion,\r\n\t\t\t\treceived: obj,\r\n\t\t\t\tpath\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction cast(obj, defNode=[]) {\r\n\tif(!obj || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"d\" /* isPlainObject */])(defNode) || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"a\" /* is */])(__WEBPACK_IMPORTED_MODULE_1__basic_model__[\"c\" /* BasicModel */], obj.constructor))\r\n\t\treturn obj // no value or not leaf or already a model instance\r\n\r\n\tconst def = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__basic_model__[\"d\" /* parseDefinition */])(defNode),\r\n\t      suitableModels = []\r\n\r\n\tfor (let part of def) {\r\n\t\tif(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"a\" /* is */])(__WEBPACK_IMPORTED_MODULE_1__basic_model__[\"c\" /* BasicModel */], part) && part.test(obj))\r\n\t\t\tsuitableModels.push(part)\r\n\t}\r\n\r\n\tif (suitableModels.length === 1)\r\n\t\treturn suitableModels[0](obj) // automatically cast to suitable model when explicit\r\n\r\n\tif (suitableModels.length > 1)\r\n\t\tconsole.warn(`Ambiguous model for value ${__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"c\" /* toString */])(obj)}, could be ${suitableModels.join(\" or \")}`)\r\n\r\n\treturn obj\r\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9kZWZpbml0aW9uLmpzP2UzMDgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtpcywgaXNQbGFpbk9iamVjdCwgaXNGdW5jdGlvbiwgdG9TdHJpbmd9IGZyb20gXCIuL2hlbHBlcnNcIlxyXG5pbXBvcnQge0Jhc2ljTW9kZWwsIHBhcnNlRGVmaW5pdGlvbn0gZnJvbSBcIi4vYmFzaWMtbW9kZWxcIlxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrRGVmaW5pdGlvbihvYmosIGRlZiwgcGF0aCwgZXJyb3JTdGFjaywgY2FsbFN0YWNrLCBzaG91bGRDYXN0PWZhbHNlKXtcclxuXHRjb25zdCBpbmRleEZvdW5kID0gY2FsbFN0YWNrLmluZGV4T2YoZGVmKVxyXG5cdGlmKGluZGV4Rm91bmQgIT09IC0xICYmIGNhbGxTdGFjay5pbmRleE9mKGRlZiwgaW5kZXhGb3VuZCsxKSAhPT0gLTEpXHJcblx0XHRyZXR1cm4gb2JqIC8vaWYgZm91bmQgdHdpY2UgaW4gY2FsbCBzdGFjaywgY3ljbGUgZGV0ZWN0ZWQsIHNraXAgdmFsaWRhdGlvblxyXG5cclxuXHRpZihzaG91bGRDYXN0KVxyXG5cdFx0b2JqID0gY2FzdChvYmosIGRlZilcclxuXHJcblxyXG5cdGlmKGlzKEJhc2ljTW9kZWwsIGRlZikpe1xyXG5cdFx0ZGVmLl92YWxpZGF0ZShvYmosIHBhdGgsIGVycm9yU3RhY2ssIGNhbGxTdGFjay5jb25jYXQoZGVmKSlcclxuXHR9XHJcblx0ZWxzZSBpZihpc1BsYWluT2JqZWN0KGRlZikpe1xyXG5cdFx0T2JqZWN0LmtleXMoZGVmKS5mb3JFYWNoKGtleSA9PiB7XHJcblx0XHRcdGNvbnN0IHZhbCA9IG9iaiAhPSBudWxsID8gb2JqW2tleV0gOiB1bmRlZmluZWRcclxuXHRcdFx0Y2hlY2tEZWZpbml0aW9uKHZhbCwgZGVmW2tleV0sIHBhdGggPyBwYXRoICsgJy4nICsga2V5IDoga2V5LCBlcnJvclN0YWNrLCBjYWxsU3RhY2spXHJcblx0XHR9KVxyXG5cdH1cclxuXHRlbHNlIHtcclxuXHRcdGNvbnN0IHBkZWYgPSBwYXJzZURlZmluaXRpb24oZGVmKVxyXG5cdFx0aWYocGRlZi5zb21lKHBhcnQgPT4gY2hlY2tEZWZpbml0aW9uUGFydChvYmosIHBhcnQsIHBhdGgsIGNhbGxTdGFjaykpKVxyXG5cdFx0XHRyZXR1cm4gb2JqXHJcblxyXG5cdFx0ZXJyb3JTdGFjay5wdXNoKHtcclxuXHRcdFx0ZXhwZWN0ZWQ6IGRlZixcclxuXHRcdFx0cmVjZWl2ZWQ6IG9iaixcclxuXHRcdFx0cGF0aFxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdHJldHVybiBvYmpcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrRGVmaW5pdGlvblBhcnQob2JqLCBkZWYsIHBhdGgsIGNhbGxTdGFjayl7XHJcblx0aWYob2JqID09IG51bGwpIHJldHVybiBvYmogPT09IGRlZlxyXG5cdGlmKGlzUGxhaW5PYmplY3QoZGVmKSB8fCBpcyhCYXNpY01vZGVsLCBkZWYpKXsgLy8gb2JqZWN0IG9yIG1vZGVsIGFzIHBhcnQgb2YgdW5pb24gdHlwZVxyXG5cdFx0Y29uc3QgZXJyb3JTdGFjayA9IFtdXHJcblx0XHRjaGVja0RlZmluaXRpb24ob2JqLCBkZWYsIHBhdGgsIGVycm9yU3RhY2ssIGNhbGxTdGFjaylcclxuXHRcdHJldHVybiAhZXJyb3JTdGFjay5sZW5ndGhcclxuXHR9XHJcblx0aWYoaXMoUmVnRXhwLCBkZWYpKSByZXR1cm4gZGVmLnRlc3Qob2JqKVxyXG5cdGlmKGRlZiA9PT0gTnVtYmVyIHx8IGRlZiA9PT0gRGF0ZSkgcmV0dXJuIG9iai5jb25zdHJ1Y3RvciA9PT0gZGVmICYmICFpc05hTihvYmopXHJcblx0cmV0dXJuIG9iaiA9PT0gZGVmXHJcblx0XHR8fCAoaXNGdW5jdGlvbihkZWYpICYmIGlzKGRlZiwgb2JqKSlcclxuXHRcdHx8IG9iai5jb25zdHJ1Y3RvciA9PT0gZGVmXHJcbn1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tBc3NlcnRpb25zKG9iaiwgbW9kZWwsIHBhdGgsIGVycm9yU3RhY2sgPSBtb2RlbC5lcnJvclN0YWNrKXtcclxuXHRmb3IobGV0IGFzc2VydGlvbiBvZiBtb2RlbC5hc3NlcnRpb25zKXtcclxuXHRcdGxldCByZXN1bHRcclxuXHRcdHRyeSB7XHJcblx0XHRcdHJlc3VsdCA9IGFzc2VydGlvbi5jYWxsKG1vZGVsLCBvYmopXHJcblx0XHR9IGNhdGNoKGVycil7XHJcblx0XHRcdHJlc3VsdCA9IGVyclxyXG5cdFx0fVxyXG5cdFx0aWYocmVzdWx0ICE9PSB0cnVlKXtcclxuXHRcdFx0Y29uc3Qgb25GYWlsID0gaXNGdW5jdGlvbihhc3NlcnRpb24uZGVzY3JpcHRpb24pID8gYXNzZXJ0aW9uLmRlc2NyaXB0aW9uIDogKGFzc2VydGlvblJlc3VsdCwgdmFsdWUpID0+XHJcblx0XHRcdFx0YGFzc2VydGlvbiBcIiR7YXNzZXJ0aW9uLmRlc2NyaXB0aW9ufVwiIHJldHVybmVkICR7dG9TdHJpbmcoYXNzZXJ0aW9uUmVzdWx0KX0gZm9yIHZhbHVlICR7dG9TdHJpbmcodmFsdWUpfWBcclxuXHRcdFx0ZXJyb3JTdGFjay5wdXNoKHtcclxuXHRcdFx0XHRtZXNzYWdlOiBvbkZhaWwuY2FsbChtb2RlbCwgcmVzdWx0LCBvYmopLFxyXG5cdFx0XHRcdGV4cGVjdGVkOiBhc3NlcnRpb24sXHJcblx0XHRcdFx0cmVjZWl2ZWQ6IG9iaixcclxuXHRcdFx0XHRwYXRoXHJcblx0XHRcdH0pXHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2FzdChvYmosIGRlZk5vZGU9W10pIHtcclxuXHRpZighb2JqIHx8IGlzUGxhaW5PYmplY3QoZGVmTm9kZSkgfHwgaXMoQmFzaWNNb2RlbCwgb2JqLmNvbnN0cnVjdG9yKSlcclxuXHRcdHJldHVybiBvYmogLy8gbm8gdmFsdWUgb3Igbm90IGxlYWYgb3IgYWxyZWFkeSBhIG1vZGVsIGluc3RhbmNlXHJcblxyXG5cdGNvbnN0IGRlZiA9IHBhcnNlRGVmaW5pdGlvbihkZWZOb2RlKSxcclxuXHQgICAgICBzdWl0YWJsZU1vZGVscyA9IFtdXHJcblxyXG5cdGZvciAobGV0IHBhcnQgb2YgZGVmKSB7XHJcblx0XHRpZihpcyhCYXNpY01vZGVsLCBwYXJ0KSAmJiBwYXJ0LnRlc3Qob2JqKSlcclxuXHRcdFx0c3VpdGFibGVNb2RlbHMucHVzaChwYXJ0KVxyXG5cdH1cclxuXHJcblx0aWYgKHN1aXRhYmxlTW9kZWxzLmxlbmd0aCA9PT0gMSlcclxuXHRcdHJldHVybiBzdWl0YWJsZU1vZGVsc1swXShvYmopIC8vIGF1dG9tYXRpY2FsbHkgY2FzdCB0byBzdWl0YWJsZSBtb2RlbCB3aGVuIGV4cGxpY2l0XHJcblxyXG5cdGlmIChzdWl0YWJsZU1vZGVscy5sZW5ndGggPiAxKVxyXG5cdFx0Y29uc29sZS53YXJuKGBBbWJpZ3VvdXMgbW9kZWwgZm9yIHZhbHVlICR7dG9TdHJpbmcob2JqKX0sIGNvdWxkIGJlICR7c3VpdGFibGVNb2RlbHMuam9pbihcIiBvciBcIil9YClcclxuXHJcblx0cmV0dXJuIG9ialxyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvZGVmaW5pdGlvbi5qc1xuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__basic_model__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__object_model__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__array_model__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__function_model__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__map_model__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__set_model__ = __webpack_require__(13);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return __WEBPACK_IMPORTED_MODULE_0__basic_model__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return __WEBPACK_IMPORTED_MODULE_1__object_model__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return __WEBPACK_IMPORTED_MODULE_2__array_model__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return __WEBPACK_IMPORTED_MODULE_3__function_model__[\"a\"]; });\n/* unused harmony reexport MapModel */\n/* unused harmony reexport SetModel */\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9pbmRleC5qcz85NTUyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCYXNpY01vZGVsIGZyb20gXCIuL2Jhc2ljLW1vZGVsXCJcclxuaW1wb3J0IE9iamVjdE1vZGVsIGZyb20gXCIuL29iamVjdC1tb2RlbFwiXHJcbmltcG9ydCBBcnJheU1vZGVsIGZyb20gXCIuL2FycmF5LW1vZGVsXCJcclxuaW1wb3J0IEZ1bmN0aW9uTW9kZWwgZnJvbSBcIi4vZnVuY3Rpb24tbW9kZWxcIlxyXG5pbXBvcnQgTWFwTW9kZWwgZnJvbSBcIi4vbWFwLW1vZGVsXCJcclxuaW1wb3J0IFNldE1vZGVsIGZyb20gXCIuL3NldC1tb2RlbFwiXHJcblxyXG5leHBvcnQge1xyXG5cdEJhc2ljTW9kZWwsXHJcblx0T2JqZWN0TW9kZWwsXHJcblx0QXJyYXlNb2RlbCxcclxuXHRGdW5jdGlvbk1vZGVsLFxyXG5cdE1hcE1vZGVsLFxyXG5cdFNldE1vZGVsXHJcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__src_index__ = __webpack_require__(3);\n\n\nQUnit.module(\"Array Models\");\n\nQUnit.test(\"Array model constructor && proto\", function (assert) {\n\n\tassert.ok(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */] instanceof Function, \"ArrayModel instanceof Function\");\n\n\tconst Arr = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])(Number);\n\n\tassert.ok(Arr instanceof __WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */], \"Array models can be declared\");\n\n\tassert.ok(typeof Arr.extend === \"function\", \"test Array model method extend\");\n\tassert.ok(typeof Arr.assert === \"function\", \"test Array model method assert\");\n\tassert.ok(typeof Arr.test === \"function\", \"test Array model method test\");\n\tassert.ok(typeof Arr.validate === \"function\", \"test Array model method validate\");\n\tassert.ok(Arr.definition === Number, \"test Array model prop definition\");\n\tassert.ok(typeof Arr.assertions === \"object\", \"test Array model prop assertions\");\n\n});\n\nQUnit.test(\"Array model instanciation && mutation methods watchers\", function (assert) {\n\n\tconst Arr = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])(Number);\n\tconst a   = Arr([]);\n\n\tassert.ok(a instanceof Arr && a instanceof Array, \"Array models can be instanciated\");\n\n\ta.push(1);\n\ta[0] = 42;\n\ta.splice(1, 0, 5, 6, Infinity);\n\tassert.throws(function () {\n\t\ta.push(\"toto\");\n\t}, /TypeError/, \"push calls are catched\");\n\tassert.throws(function () {\n\t\ta[0] = {};\n\t}, /TypeError/, \"array keys set are catched\");\n\tassert.throws(function () {\n\t\ta.splice(1, 0, 7, 'oups', 9);\n\t}, /TypeError/, \"splice calls are catched\");\n\tassert.equal(a.length, 4, \"array length change is ok\");\n\n});\n\nQUnit.test(\"Array model validation in constructor\", function (assert) {\n\n\tconst Arr = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])(Number);\n\tconst b   = Arr([1, 2, 3]);\n\tassert.equal(b.length, 3, \"array.length is ok\");\n\n\tassert.throws(function () {\n\t\tArr([1, false, 3]);\n\t}, /TypeError/, \"validation in array model constructor 1/2\");\n\n\tassert.throws(function () {\n\t\tArr([1, 2, 3, function () {\n\t\t}]);\n\t}, /TypeError/, \"validation in array model constructor 2/2\");\n\n});\n\nQUnit.test(\"Array model with union types & submodels\", function (assert) {\n\n\tconst Question = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\n\t\tanswer: Number\n\t});\n\n\tconst Arr = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])([Question, String, Boolean]);\n\tconst a   = Arr([\"test\"]);\n\ta.unshift(true);\n\ta.push(Question({answer: 42}));\n\ta.push({answer: 43});\n\tassert.throws(function () {\n\t\ta.unshift(42);\n\t}, /TypeError/, \"unshift multiple types\");\n\tassert.throws(function () {\n\t\ta[0] = null;\n\t}, /TypeError/, \"set index multiple types\");\n\n})\n\nQUnit.test(\"Array model with union types & fixed values\", function (assert) {\n\n\tconst Arr = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])([true, 2, \"3\"]);\n\tassert.throws(function () {\n\t\tArr([\"3\", 2, true, 1]);\n\t}, /TypeError[\\s\\S]*Array\\[3]/, \"ArrayModel fixed values\");\n\n\tconst Cards     = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])([Number, \"J\", \"Q\", \"K\"]); // array of Numbers, J, Q or K\n\tconst Hand      = Cards.extend().assert(cards => cards.length === 2);\n\tconst pokerHand = new Hand([\"K\", 10]);\n\n\tassert.ok(Object.getPrototypeOf(Hand.prototype) === Cards.prototype, \"extension respect prototypal chain\");\n\tassert.ok(pokerHand instanceof Hand && pokerHand instanceof Cards, \"array model inheritance\");\n\tCards([\"K\", 10]).push(7);\n\tassert.throws(function () {\n\t\tHand([\"K\", 10]).push(7);\n\t}, /TypeError/, \"min/max of inherit array model\");\n\n\tconst CheaterHand = Cards.extend(\"joker\");\n\tCheaterHand([\"K\", 10, \"joker\"]);\n\tassert.throws(function () {\n\t\tHand(\"K\", 10, \"joker\");\n\t}, /TypeError/, \"array model type extension\");\n\n})\n\nQUnit.test(\"Child array models in object models\", function (assert) {\n\n\tconst Child  = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({arr: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])(String)});\n\tconst Parent = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({child: Child});\n\n\tconst childO = Child({arr: [\"a\", \"b\", \"c\"]});\n\tassert.ok(childO.arr instanceof Array, \"child array model is array\");\n\tconst parentO = Parent({child: childO});\n\tassert.ok(parentO.child.arr instanceof Array, \"child array model from parent is array\");\n\n\tchildO.arr.push(\"a\");\n\tassert.throws(function () {\n\t\tchildO.arr.push(false);\n\t}, /TypeError/, \"child array model catches push calls\");\n\tassert.throws(function () {\n\t\tchildO.arr[0] = 1;\n\t}, /TypeError/, \"child array model catches set index\");\n\n\tassert.ok(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])(undefined) instanceof __WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */], \"ArrayModel can receive undefined as argument\");\n\tassert.throws(function () {\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])()\n\t}, /Error.*Model definition is required/, \"ArrayModel without definition throws\")\n\n});\n\nQUnit.test(\"Array model defaults values\", function (assert) {\n\n\tconst ArrModel = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])([Number, String]).defaultTo([]);\n\tconst a        = ArrModel();\n\n\tassert.ok(a instanceof Array && a.length === 0, \"Array model default value\");\n\n\tArrModel.default.push(1, 2, 3);\n\n\tconst b = ArrModel();\n\n\tassert.ok(b.length === 3 && b.join(\";\") == \"1;2;3\", \"array model default value is mutable array\");\n\n\tArrModel.default = \"nope\";\n\n\tassert.throws(function () {\n\t\tArrModel()\n\t}, /TypeError.*got String \"nope\"/, \"invalid default property still throws TypeError for array models\");\n\n})\n\nQUnit.test(\"Array model assertions\", function (assert) {\n\n\tconst ArrayMax3 = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])(Number).assert(function maxRange(arr){ return arr.length <= 3; });\n\tlet arr = ArrayMax3([1,2]);\n\n\tarr.push(3);\n\tassert.throws(function(){ arr.push(4); }, /TypeError[\\s\\S]*maxRange/, \"test assertion after array method\");\n\n\tconst ArraySumMax10 = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])(Number).assert(function(arr){\n\t\treturn arr.reduce(function(a,b){ return a+b; },0) <= 10;\n\t});\n\n\tarr = ArraySumMax10([2,3,4]);\n\tassert.throws(function(){ arr[1] = 7; }, /TypeError/, \"test assertion after array key assignment\");\n\n\tconst AssertArray = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])(Number).assert(v => v.length >= 0, \"may throw exception\");\n\n\tnew AssertArray([]);\n\n\tassert.throws(function(){ new AssertArray(); },\n\t\t/assertion \\\"may throw exception\\\" returned TypeError.*for value undefined/,\n\t\t\"assertions catch exceptions on Array models\");\n\n})\n\nQUnit.test(\"Automatic model casting in array models\", function (assert) {\n\n\tconst N = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({ x: Number, y: [Number] }).defaults({ x: 5, y: 7 });\n\tconst Arr = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])(N);\n\tconst a = Arr([ { x:9 } ]);\n\n\tassert.ok(a[0] instanceof N, \"test automatic model casting with array init 1/2\")\n\tassert.equal(a[0].x * a[0].y, 63, \"test automatic model casting with array init 2/2\")\n\n\ta.push({ x: 3 });\n\n\tassert.ok(a[1] instanceof N, \"test automatic model casting with array mutator method 1/2\")\n\tassert.equal(a[1].x * a[1].y, 21, \"test automatic model casting with array mutator method 2/2\")\n\n\ta[0] = { x: 10 };\n\n\tassert.ok(a[0] instanceof N, \"test automatic model casting with array set index 1/2\")\n\tassert.equal(a[0].x * a[0].y, 70, \"test automatic model casting with array set index 2/2\");\n\n});\n\nQUnit.test(\"Other traps\", function(assert){\n\n\tconst Arr = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])(Number);\n\tconst a = Arr([ 1, 2, 3 ])\n\n\tdelete a.unknownProperty;\n\tdelete a[3];\n\n\tassert.throws(function(){\n\t\tdelete a[2]\n\t}, /TypeError/, \"deleteProperty trap block array holes if def != undefined\")\n\n\tconst ArrB = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])([Number]);\n\tconst b = ArrB([ 1, 2, 3 ])\n\n\tdelete b[2]\n\tassert.equal(b[2], undefined, \"deleteProperty trap does not block when def is optional\")\n})//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3Rlc3QvYXJyYXktbW9kZWwuc3BlYy5qcz8zYjVlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7QXJyYXlNb2RlbCwgT2JqZWN0TW9kZWx9IGZyb20gXCIuLi9zcmMvaW5kZXhcIjtcblxuUVVuaXQubW9kdWxlKFwiQXJyYXkgTW9kZWxzXCIpO1xuXG5RVW5pdC50ZXN0KFwiQXJyYXkgbW9kZWwgY29uc3RydWN0b3IgJiYgcHJvdG9cIiwgZnVuY3Rpb24gKGFzc2VydCkge1xuXG5cdGFzc2VydC5vayhBcnJheU1vZGVsIGluc3RhbmNlb2YgRnVuY3Rpb24sIFwiQXJyYXlNb2RlbCBpbnN0YW5jZW9mIEZ1bmN0aW9uXCIpO1xuXG5cdGNvbnN0IEFyciA9IEFycmF5TW9kZWwoTnVtYmVyKTtcblxuXHRhc3NlcnQub2soQXJyIGluc3RhbmNlb2YgQXJyYXlNb2RlbCwgXCJBcnJheSBtb2RlbHMgY2FuIGJlIGRlY2xhcmVkXCIpO1xuXG5cdGFzc2VydC5vayh0eXBlb2YgQXJyLmV4dGVuZCA9PT0gXCJmdW5jdGlvblwiLCBcInRlc3QgQXJyYXkgbW9kZWwgbWV0aG9kIGV4dGVuZFwiKTtcblx0YXNzZXJ0Lm9rKHR5cGVvZiBBcnIuYXNzZXJ0ID09PSBcImZ1bmN0aW9uXCIsIFwidGVzdCBBcnJheSBtb2RlbCBtZXRob2QgYXNzZXJ0XCIpO1xuXHRhc3NlcnQub2sodHlwZW9mIEFyci50ZXN0ID09PSBcImZ1bmN0aW9uXCIsIFwidGVzdCBBcnJheSBtb2RlbCBtZXRob2QgdGVzdFwiKTtcblx0YXNzZXJ0Lm9rKHR5cGVvZiBBcnIudmFsaWRhdGUgPT09IFwiZnVuY3Rpb25cIiwgXCJ0ZXN0IEFycmF5IG1vZGVsIG1ldGhvZCB2YWxpZGF0ZVwiKTtcblx0YXNzZXJ0Lm9rKEFyci5kZWZpbml0aW9uID09PSBOdW1iZXIsIFwidGVzdCBBcnJheSBtb2RlbCBwcm9wIGRlZmluaXRpb25cIik7XG5cdGFzc2VydC5vayh0eXBlb2YgQXJyLmFzc2VydGlvbnMgPT09IFwib2JqZWN0XCIsIFwidGVzdCBBcnJheSBtb2RlbCBwcm9wIGFzc2VydGlvbnNcIik7XG5cbn0pO1xuXG5RVW5pdC50ZXN0KFwiQXJyYXkgbW9kZWwgaW5zdGFuY2lhdGlvbiAmJiBtdXRhdGlvbiBtZXRob2RzIHdhdGNoZXJzXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcblxuXHRjb25zdCBBcnIgPSBBcnJheU1vZGVsKE51bWJlcik7XG5cdGNvbnN0IGEgICA9IEFycihbXSk7XG5cblx0YXNzZXJ0Lm9rKGEgaW5zdGFuY2VvZiBBcnIgJiYgYSBpbnN0YW5jZW9mIEFycmF5LCBcIkFycmF5IG1vZGVscyBjYW4gYmUgaW5zdGFuY2lhdGVkXCIpO1xuXG5cdGEucHVzaCgxKTtcblx0YVswXSA9IDQyO1xuXHRhLnNwbGljZSgxLCAwLCA1LCA2LCBJbmZpbml0eSk7XG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xuXHRcdGEucHVzaChcInRvdG9cIik7XG5cdH0sIC9UeXBlRXJyb3IvLCBcInB1c2ggY2FsbHMgYXJlIGNhdGNoZWRcIik7XG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xuXHRcdGFbMF0gPSB7fTtcblx0fSwgL1R5cGVFcnJvci8sIFwiYXJyYXkga2V5cyBzZXQgYXJlIGNhdGNoZWRcIik7XG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xuXHRcdGEuc3BsaWNlKDEsIDAsIDcsICdvdXBzJywgOSk7XG5cdH0sIC9UeXBlRXJyb3IvLCBcInNwbGljZSBjYWxscyBhcmUgY2F0Y2hlZFwiKTtcblx0YXNzZXJ0LmVxdWFsKGEubGVuZ3RoLCA0LCBcImFycmF5IGxlbmd0aCBjaGFuZ2UgaXMgb2tcIik7XG5cbn0pO1xuXG5RVW5pdC50ZXN0KFwiQXJyYXkgbW9kZWwgdmFsaWRhdGlvbiBpbiBjb25zdHJ1Y3RvclwiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XG5cblx0Y29uc3QgQXJyID0gQXJyYXlNb2RlbChOdW1iZXIpO1xuXHRjb25zdCBiICAgPSBBcnIoWzEsIDIsIDNdKTtcblx0YXNzZXJ0LmVxdWFsKGIubGVuZ3RoLCAzLCBcImFycmF5Lmxlbmd0aCBpcyBva1wiKTtcblxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcblx0XHRBcnIoWzEsIGZhbHNlLCAzXSk7XG5cdH0sIC9UeXBlRXJyb3IvLCBcInZhbGlkYXRpb24gaW4gYXJyYXkgbW9kZWwgY29uc3RydWN0b3IgMS8yXCIpO1xuXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xuXHRcdEFycihbMSwgMiwgMywgZnVuY3Rpb24gKCkge1xuXHRcdH1dKTtcblx0fSwgL1R5cGVFcnJvci8sIFwidmFsaWRhdGlvbiBpbiBhcnJheSBtb2RlbCBjb25zdHJ1Y3RvciAyLzJcIik7XG5cbn0pO1xuXG5RVW5pdC50ZXN0KFwiQXJyYXkgbW9kZWwgd2l0aCB1bmlvbiB0eXBlcyAmIHN1Ym1vZGVsc1wiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XG5cblx0Y29uc3QgUXVlc3Rpb24gPSBPYmplY3RNb2RlbCh7XG5cdFx0YW5zd2VyOiBOdW1iZXJcblx0fSk7XG5cblx0Y29uc3QgQXJyID0gQXJyYXlNb2RlbChbUXVlc3Rpb24sIFN0cmluZywgQm9vbGVhbl0pO1xuXHRjb25zdCBhICAgPSBBcnIoW1widGVzdFwiXSk7XG5cdGEudW5zaGlmdCh0cnVlKTtcblx0YS5wdXNoKFF1ZXN0aW9uKHthbnN3ZXI6IDQyfSkpO1xuXHRhLnB1c2goe2Fuc3dlcjogNDN9KTtcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XG5cdFx0YS51bnNoaWZ0KDQyKTtcblx0fSwgL1R5cGVFcnJvci8sIFwidW5zaGlmdCBtdWx0aXBsZSB0eXBlc1wiKTtcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XG5cdFx0YVswXSA9IG51bGw7XG5cdH0sIC9UeXBlRXJyb3IvLCBcInNldCBpbmRleCBtdWx0aXBsZSB0eXBlc1wiKTtcblxufSlcblxuUVVuaXQudGVzdChcIkFycmF5IG1vZGVsIHdpdGggdW5pb24gdHlwZXMgJiBmaXhlZCB2YWx1ZXNcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xuXG5cdGNvbnN0IEFyciA9IEFycmF5TW9kZWwoW3RydWUsIDIsIFwiM1wiXSk7XG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xuXHRcdEFycihbXCIzXCIsIDIsIHRydWUsIDFdKTtcblx0fSwgL1R5cGVFcnJvcltcXHNcXFNdKkFycmF5XFxbM10vLCBcIkFycmF5TW9kZWwgZml4ZWQgdmFsdWVzXCIpO1xuXG5cdGNvbnN0IENhcmRzICAgICA9IEFycmF5TW9kZWwoW051bWJlciwgXCJKXCIsIFwiUVwiLCBcIktcIl0pOyAvLyBhcnJheSBvZiBOdW1iZXJzLCBKLCBRIG9yIEtcblx0Y29uc3QgSGFuZCAgICAgID0gQ2FyZHMuZXh0ZW5kKCkuYXNzZXJ0KGNhcmRzID0+IGNhcmRzLmxlbmd0aCA9PT0gMik7XG5cdGNvbnN0IHBva2VySGFuZCA9IG5ldyBIYW5kKFtcIktcIiwgMTBdKTtcblxuXHRhc3NlcnQub2soT2JqZWN0LmdldFByb3RvdHlwZU9mKEhhbmQucHJvdG90eXBlKSA9PT0gQ2FyZHMucHJvdG90eXBlLCBcImV4dGVuc2lvbiByZXNwZWN0IHByb3RvdHlwYWwgY2hhaW5cIik7XG5cdGFzc2VydC5vayhwb2tlckhhbmQgaW5zdGFuY2VvZiBIYW5kICYmIHBva2VySGFuZCBpbnN0YW5jZW9mIENhcmRzLCBcImFycmF5IG1vZGVsIGluaGVyaXRhbmNlXCIpO1xuXHRDYXJkcyhbXCJLXCIsIDEwXSkucHVzaCg3KTtcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XG5cdFx0SGFuZChbXCJLXCIsIDEwXSkucHVzaCg3KTtcblx0fSwgL1R5cGVFcnJvci8sIFwibWluL21heCBvZiBpbmhlcml0IGFycmF5IG1vZGVsXCIpO1xuXG5cdGNvbnN0IENoZWF0ZXJIYW5kID0gQ2FyZHMuZXh0ZW5kKFwiam9rZXJcIik7XG5cdENoZWF0ZXJIYW5kKFtcIktcIiwgMTAsIFwiam9rZXJcIl0pO1xuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcblx0XHRIYW5kKFwiS1wiLCAxMCwgXCJqb2tlclwiKTtcblx0fSwgL1R5cGVFcnJvci8sIFwiYXJyYXkgbW9kZWwgdHlwZSBleHRlbnNpb25cIik7XG5cbn0pXG5cblFVbml0LnRlc3QoXCJDaGlsZCBhcnJheSBtb2RlbHMgaW4gb2JqZWN0IG1vZGVsc1wiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XG5cblx0Y29uc3QgQ2hpbGQgID0gT2JqZWN0TW9kZWwoe2FycjogQXJyYXlNb2RlbChTdHJpbmcpfSk7XG5cdGNvbnN0IFBhcmVudCA9IE9iamVjdE1vZGVsKHtjaGlsZDogQ2hpbGR9KTtcblxuXHRjb25zdCBjaGlsZE8gPSBDaGlsZCh7YXJyOiBbXCJhXCIsIFwiYlwiLCBcImNcIl19KTtcblx0YXNzZXJ0Lm9rKGNoaWxkTy5hcnIgaW5zdGFuY2VvZiBBcnJheSwgXCJjaGlsZCBhcnJheSBtb2RlbCBpcyBhcnJheVwiKTtcblx0Y29uc3QgcGFyZW50TyA9IFBhcmVudCh7Y2hpbGQ6IGNoaWxkT30pO1xuXHRhc3NlcnQub2socGFyZW50Ty5jaGlsZC5hcnIgaW5zdGFuY2VvZiBBcnJheSwgXCJjaGlsZCBhcnJheSBtb2RlbCBmcm9tIHBhcmVudCBpcyBhcnJheVwiKTtcblxuXHRjaGlsZE8uYXJyLnB1c2goXCJhXCIpO1xuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcblx0XHRjaGlsZE8uYXJyLnB1c2goZmFsc2UpO1xuXHR9LCAvVHlwZUVycm9yLywgXCJjaGlsZCBhcnJheSBtb2RlbCBjYXRjaGVzIHB1c2ggY2FsbHNcIik7XG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xuXHRcdGNoaWxkTy5hcnJbMF0gPSAxO1xuXHR9LCAvVHlwZUVycm9yLywgXCJjaGlsZCBhcnJheSBtb2RlbCBjYXRjaGVzIHNldCBpbmRleFwiKTtcblxuXHRhc3NlcnQub2soQXJyYXlNb2RlbCh1bmRlZmluZWQpIGluc3RhbmNlb2YgQXJyYXlNb2RlbCwgXCJBcnJheU1vZGVsIGNhbiByZWNlaXZlIHVuZGVmaW5lZCBhcyBhcmd1bWVudFwiKTtcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XG5cdFx0QXJyYXlNb2RlbCgpXG5cdH0sIC9FcnJvci4qTW9kZWwgZGVmaW5pdGlvbiBpcyByZXF1aXJlZC8sIFwiQXJyYXlNb2RlbCB3aXRob3V0IGRlZmluaXRpb24gdGhyb3dzXCIpXG5cbn0pO1xuXG5RVW5pdC50ZXN0KFwiQXJyYXkgbW9kZWwgZGVmYXVsdHMgdmFsdWVzXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcblxuXHRjb25zdCBBcnJNb2RlbCA9IEFycmF5TW9kZWwoW051bWJlciwgU3RyaW5nXSkuZGVmYXVsdFRvKFtdKTtcblx0Y29uc3QgYSAgICAgICAgPSBBcnJNb2RlbCgpO1xuXG5cdGFzc2VydC5vayhhIGluc3RhbmNlb2YgQXJyYXkgJiYgYS5sZW5ndGggPT09IDAsIFwiQXJyYXkgbW9kZWwgZGVmYXVsdCB2YWx1ZVwiKTtcblxuXHRBcnJNb2RlbC5kZWZhdWx0LnB1c2goMSwgMiwgMyk7XG5cblx0Y29uc3QgYiA9IEFyck1vZGVsKCk7XG5cblx0YXNzZXJ0Lm9rKGIubGVuZ3RoID09PSAzICYmIGIuam9pbihcIjtcIikgPT0gXCIxOzI7M1wiLCBcImFycmF5IG1vZGVsIGRlZmF1bHQgdmFsdWUgaXMgbXV0YWJsZSBhcnJheVwiKTtcblxuXHRBcnJNb2RlbC5kZWZhdWx0ID0gXCJub3BlXCI7XG5cblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XG5cdFx0QXJyTW9kZWwoKVxuXHR9LCAvVHlwZUVycm9yLipnb3QgU3RyaW5nIFwibm9wZVwiLywgXCJpbnZhbGlkIGRlZmF1bHQgcHJvcGVydHkgc3RpbGwgdGhyb3dzIFR5cGVFcnJvciBmb3IgYXJyYXkgbW9kZWxzXCIpO1xuXG59KVxuXG5RVW5pdC50ZXN0KFwiQXJyYXkgbW9kZWwgYXNzZXJ0aW9uc1wiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XG5cblx0Y29uc3QgQXJyYXlNYXgzID0gQXJyYXlNb2RlbChOdW1iZXIpLmFzc2VydChmdW5jdGlvbiBtYXhSYW5nZShhcnIpeyByZXR1cm4gYXJyLmxlbmd0aCA8PSAzOyB9KTtcblx0bGV0IGFyciA9IEFycmF5TWF4MyhbMSwyXSk7XG5cblx0YXJyLnB1c2goMyk7XG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24oKXsgYXJyLnB1c2goNCk7IH0sIC9UeXBlRXJyb3JbXFxzXFxTXSptYXhSYW5nZS8sIFwidGVzdCBhc3NlcnRpb24gYWZ0ZXIgYXJyYXkgbWV0aG9kXCIpO1xuXG5cdGNvbnN0IEFycmF5U3VtTWF4MTAgPSBBcnJheU1vZGVsKE51bWJlcikuYXNzZXJ0KGZ1bmN0aW9uKGFycil7XG5cdFx0cmV0dXJuIGFyci5yZWR1Y2UoZnVuY3Rpb24oYSxiKXsgcmV0dXJuIGErYjsgfSwwKSA8PSAxMDtcblx0fSk7XG5cblx0YXJyID0gQXJyYXlTdW1NYXgxMChbMiwzLDRdKTtcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbigpeyBhcnJbMV0gPSA3OyB9LCAvVHlwZUVycm9yLywgXCJ0ZXN0IGFzc2VydGlvbiBhZnRlciBhcnJheSBrZXkgYXNzaWdubWVudFwiKTtcblxuXHRjb25zdCBBc3NlcnRBcnJheSA9IEFycmF5TW9kZWwoTnVtYmVyKS5hc3NlcnQodiA9PiB2Lmxlbmd0aCA+PSAwLCBcIm1heSB0aHJvdyBleGNlcHRpb25cIik7XG5cblx0bmV3IEFzc2VydEFycmF5KFtdKTtcblxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uKCl7IG5ldyBBc3NlcnRBcnJheSgpOyB9LFxuXHRcdC9hc3NlcnRpb24gXFxcIm1heSB0aHJvdyBleGNlcHRpb25cXFwiIHJldHVybmVkIFR5cGVFcnJvci4qZm9yIHZhbHVlIHVuZGVmaW5lZC8sXG5cdFx0XCJhc3NlcnRpb25zIGNhdGNoIGV4Y2VwdGlvbnMgb24gQXJyYXkgbW9kZWxzXCIpO1xuXG59KVxuXG5RVW5pdC50ZXN0KFwiQXV0b21hdGljIG1vZGVsIGNhc3RpbmcgaW4gYXJyYXkgbW9kZWxzXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcblxuXHRjb25zdCBOID0gT2JqZWN0TW9kZWwoeyB4OiBOdW1iZXIsIHk6IFtOdW1iZXJdIH0pLmRlZmF1bHRzKHsgeDogNSwgeTogNyB9KTtcblx0Y29uc3QgQXJyID0gQXJyYXlNb2RlbChOKTtcblx0Y29uc3QgYSA9IEFycihbIHsgeDo5IH0gXSk7XG5cblx0YXNzZXJ0Lm9rKGFbMF0gaW5zdGFuY2VvZiBOLCBcInRlc3QgYXV0b21hdGljIG1vZGVsIGNhc3Rpbmcgd2l0aCBhcnJheSBpbml0IDEvMlwiKVxuXHRhc3NlcnQuZXF1YWwoYVswXS54ICogYVswXS55LCA2MywgXCJ0ZXN0IGF1dG9tYXRpYyBtb2RlbCBjYXN0aW5nIHdpdGggYXJyYXkgaW5pdCAyLzJcIilcblxuXHRhLnB1c2goeyB4OiAzIH0pO1xuXG5cdGFzc2VydC5vayhhWzFdIGluc3RhbmNlb2YgTiwgXCJ0ZXN0IGF1dG9tYXRpYyBtb2RlbCBjYXN0aW5nIHdpdGggYXJyYXkgbXV0YXRvciBtZXRob2QgMS8yXCIpXG5cdGFzc2VydC5lcXVhbChhWzFdLnggKiBhWzFdLnksIDIxLCBcInRlc3QgYXV0b21hdGljIG1vZGVsIGNhc3Rpbmcgd2l0aCBhcnJheSBtdXRhdG9yIG1ldGhvZCAyLzJcIilcblxuXHRhWzBdID0geyB4OiAxMCB9O1xuXG5cdGFzc2VydC5vayhhWzBdIGluc3RhbmNlb2YgTiwgXCJ0ZXN0IGF1dG9tYXRpYyBtb2RlbCBjYXN0aW5nIHdpdGggYXJyYXkgc2V0IGluZGV4IDEvMlwiKVxuXHRhc3NlcnQuZXF1YWwoYVswXS54ICogYVswXS55LCA3MCwgXCJ0ZXN0IGF1dG9tYXRpYyBtb2RlbCBjYXN0aW5nIHdpdGggYXJyYXkgc2V0IGluZGV4IDIvMlwiKTtcblxufSk7XG5cblFVbml0LnRlc3QoXCJPdGhlciB0cmFwc1wiLCBmdW5jdGlvbihhc3NlcnQpe1xuXG5cdGNvbnN0IEFyciA9IEFycmF5TW9kZWwoTnVtYmVyKTtcblx0Y29uc3QgYSA9IEFycihbIDEsIDIsIDMgXSlcblxuXHRkZWxldGUgYS51bmtub3duUHJvcGVydHk7XG5cdGRlbGV0ZSBhWzNdO1xuXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24oKXtcblx0XHRkZWxldGUgYVsyXVxuXHR9LCAvVHlwZUVycm9yLywgXCJkZWxldGVQcm9wZXJ0eSB0cmFwIGJsb2NrIGFycmF5IGhvbGVzIGlmIGRlZiAhPSB1bmRlZmluZWRcIilcblxuXHRjb25zdCBBcnJCID0gQXJyYXlNb2RlbChbTnVtYmVyXSk7XG5cdGNvbnN0IGIgPSBBcnJCKFsgMSwgMiwgMyBdKVxuXG5cdGRlbGV0ZSBiWzJdXG5cdGFzc2VydC5lcXVhbChiWzJdLCB1bmRlZmluZWQsIFwiZGVsZXRlUHJvcGVydHkgdHJhcCBkb2VzIG5vdCBibG9jayB3aGVuIGRlZiBpcyBvcHRpb25hbFwiKVxufSlcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3Rlc3QvYXJyYXktbW9kZWwuc3BlYy5qc1xuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 5 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__src_index__ = __webpack_require__(3);\n\r\n\r\nQUnit.module(\"Basic Models\");\r\n\r\nQUnit.test(\"Basic models constructor && proto are correctly defined\", function (assert) {\r\n\tassert.ok(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* BasicModel */] instanceof Function, \"BasicModel is defined\");\r\n\r\n\tconst NumberModel = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* BasicModel */])(Number);\r\n\r\n\tassert.ok(typeof NumberModel.extend === \"function\", \"test model method extend\");\r\n\tassert.ok(typeof NumberModel.assert === \"function\", \"test model method assert\");\r\n\tassert.ok(typeof NumberModel.test === \"function\", \"test model method test\");\r\n\tassert.ok(typeof NumberModel.validate === \"function\", \"test model method validate\");\r\n\tassert.ok(NumberModel.definition === Number, \"test model prop definition\");\r\n\tassert.ok(typeof NumberModel.assertions === \"object\", \"test model prop assertions\");\r\n\r\n\tconst NumberModelThroughConstructor = new __WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* BasicModel */](Number);\r\n\r\n\tassert.ok(typeof NumberModelThroughConstructor.extend === \"function\", \"test new model method extend\");\r\n\tassert.ok(typeof NumberModelThroughConstructor.assert === \"function\", \"test new model method assert\");\r\n\tassert.ok(typeof NumberModelThroughConstructor.test === \"function\", \"test new model method test\");\r\n\tassert.ok(typeof NumberModelThroughConstructor.validate === \"function\", \"test new model method validate\");\r\n\tassert.ok(NumberModelThroughConstructor.definition === Number, \"test new model prop definition\");\r\n\tassert.ok(typeof NumberModelThroughConstructor.assertions === \"object\", \"test new model prop assertions\");\r\n});\r\n\r\nQUnit.test(\"Basic Model with undefined or no definition\", function (assert) {\r\n\r\n\tconst UndefinedModel = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* BasicModel */])(undefined);\r\n\tassert.ok(UndefinedModel instanceof __WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* BasicModel */], \"Model can receive undefined as argument\");\r\n\tassert.throws(function () {\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* BasicModel */])()\r\n\t}, /Error.*Model definition is required/, \"Model without definition throws\")\r\n\r\n});\r\n\r\nQUnit.test(\"Basic model behaviour\", function (assert) {\r\n\r\n\tconst NumberModel = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* BasicModel */])(Number);\r\n\tNumberModel(0); // should not throw\r\n\tassert.ok(typeof NumberModel(42) === \"number\", \"should return the original type\");\r\n\tassert.ok(NumberModel(17) === 17, \"should return the original value\");\r\n\tassert.throws(function () {\r\n\t\tNumberModel(\"12\")\r\n\t}, /TypeError/, \"test invalid type\");\r\n\tassert.throws(function () {\r\n\t\tNumberModel(NaN)\r\n\t}, /TypeError/, \"test NaN is invalid\");\r\n\r\n})\r\n\r\nQUnit.test(\"Optional basic model behaviour\", function (assert) {\r\n\r\n\tconst NumberModel = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* BasicModel */])(Number);\r\n\tconst OptionalNumberModel = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* BasicModel */])([Number]);\r\n\r\n\tassert.throws(function () {\r\n\t\tNumberModel()\r\n\t}, /TypeError/, \"test undefined value for optional model\");\r\n\r\n\tOptionalNumberModel(); // should not throw\r\n\r\n\tconst OptionalExtendedNumberModel = NumberModel.extend(undefined);\r\n\r\n\tOptionalExtendedNumberModel(); // should not throw\r\n\r\n\tassert.throws(function () {\r\n\t\tNumberModel()\r\n\t}, /TypeError/, \"test undefined value on mandatory prop\");\r\n\r\n});\r\n\r\nQUnit.test(\"Union basic model\", function (assert) {\r\n\r\n\tconst myModel = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* BasicModel */])([String, Boolean, Date]);\r\n\tmyModel(\"test\"); // should not throw\r\n\tmyModel(true); // should not throw\r\n\tmyModel(new Date()); // should not throw\r\n\tassert.throws(function () {\r\n\t\tmyModel()\r\n\t}, /TypeError/, \"test undefined value\");\r\n\tassert.throws(function () {\r\n\t\tmyModel(0)\r\n\t}, /TypeError/, \"test invalid type\");\r\n\tassert.throws(function () {\r\n\t\tmyModel(new Date(\"x\"))\r\n\t}, /TypeError/, \"test invalid date\");\r\n\r\n\tassert.ok(myModel.test(\"666\") === true, \"model.test 1/2\");\r\n\tassert.ok(myModel.test(666) === false, \"model.test 2/2\");\r\n\r\n\tmyModel.validate(\"666\"); // should not throw\r\n\tassert.throws(function () {\r\n\t\tmyModel.validate(666)\r\n\t}, /TypeError/, \"test undefined value\");\r\n\r\n});\r\n\r\nQUnit.test(\"Basic model default values\", function (assert) {\r\n\r\n\tconst myModel = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* BasicModel */])([String, Boolean, Date]);\r\n\tmyModel.defaultTo(\"blob\");\r\n\tassert.strictEqual(myModel.default, \"blob\", \"basic model defaultTo store the value as default property\")\r\n\tassert.strictEqual(myModel(), \"blob\", \"basic model default property is applied when undefined is passed\");\r\n\tmyModel.default = 42;\r\n\tassert.throws(function () {\r\n\t\tmyModel()\r\n\t}, /TypeError.*got Number 42/, \"basic model invalid default property still throws TypeError\");\r\n\r\n});\r\n\r\nQUnit.test(\"Basic model Assertions\", function (assert) {\r\n\r\n\tfunction isOdd(n) {\r\n\t\treturn n % 2 === 1;\r\n\t}\r\n\r\n\tconst OddNumber = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* BasicModel */])(Number).assert(isOdd);\r\n\tassert.strictEqual(OddNumber(17), 17, \"passing assertion on basic model 1/2\");\r\n\tassert.throws(function () {\r\n\t\tOddNumber(18)\r\n\t}, /TypeError[\\s\\S]*isOdd/, \"failing assertion on basic model 1/2\");\r\n\r\n\tconst RealNumber = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* BasicModel */])(Number).assert(isFinite);\r\n\r\n\tassert.equal(RealNumber(Math.sqrt(1)), 1, \"passing assertion on basic model 2/2\");\r\n\tassert.throws(function () {\r\n\t\tRealNumber(Math.sqrt(-1))\r\n\t}, /TypeError[\\s\\S]*isFinite/, \"failing assertion on basic model 2/2\");\r\n\r\n\tfunction isPrime(n) {\r\n\t\tfor (var i = 2, m = Math.sqrt(n); i <= m; i++) {\r\n\t\t\tif (n % i === 0) return false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tconst PrimeNumber = RealNumber\r\n\t\t.extend() // to not add next assertions to RealNumber model\r\n\t\t.assert(Number.isInteger)\r\n\t\t.assert(isPrime);\r\n\r\n\tPrimeNumber(83);\r\n\tassert.throws(function () {\r\n\t\tPrimeNumber(87);\r\n\t}, /TypeError[\\s\\S]*isPrime/, \"test multiple assertions 1\");\r\n\tassert.throws(function () {\r\n\t\tPrimeNumber(7.77);\r\n\t}, /TypeError[\\s\\S]*isInteger/, \"test multiple assertions 2\");\r\n\r\n\tconst AssertBasic = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* BasicModel */])(Number).assert(function (v) {\r\n\t\treturn +v.toString() == v\r\n\t}, \"may throw exception\")\r\n\r\n\tnew AssertBasic(0);\r\n\r\n\tassert.throws(function () {\r\n\t\t\tnew AssertBasic();\r\n\t\t},\r\n\t\t/assertion \\\"may throw exception\\\" returned TypeError.*for value undefined/,\r\n\t\t\"assertions catch exceptions on Basic models\");\r\n\r\n});\r\n\r\nQUnit.test(\"Custom error collectors for basic models\", function(assert) {\r\n\r\n\tassert.expect(13);\r\n\r\n\tconst defaultErrorCollector = __WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* BasicModel */].prototype.errorCollector;\r\n\tassert.equal(typeof defaultErrorCollector, \"function\", \"BasicModel has default errorCollector\");\r\n\r\n\t__WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* BasicModel */].prototype.errorCollector = function (errors) {\r\n\t\tassert.ok(errors.length === 1, \"check errors.length global collector\");\r\n\t\tconst err = errors[0];\r\n\t\tassert.equal(err.expected, Number, \"check error.expected global collector\");\r\n\t\tassert.equal(err.received, \"nope\", \"check error.received global collector\");\r\n\t\tassert.equal(err.message, 'expecting Number, got String \"nope\"', \"check error.message global collector\");\r\n\t}\r\n\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* BasicModel */])(Number)(\"nope\");\r\n\r\n\t__WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* BasicModel */].prototype.errorCollector = function (errors) {\r\n\t\tassert.ok(errors.length === 1, 'global custom collector assertion error catch 1/2');\r\n\t\tassert.equal(errors[0].message,\r\n\t\t\t'assertion \\\"shouldnt be nope\\\" returned false for value \\\"nope\\\"',\r\n\t\t\t'global custom collector assertion error catch 2/2');\r\n\t}\r\n\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* BasicModel */])(String).assert(function (s) {\r\n\t\treturn s !== \"nope\"\r\n\t}, \"shouldnt be nope\")(\"nope\");\r\n\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* BasicModel */])(Number).validate(\"nope\", function(errors){\r\n\t\tassert.ok(errors.length === 1, \"check errors.length custom collector\");\r\n\t\tvar err = errors[0];\r\n\t\tassert.equal(err.expected, Number, \"check error.expected custom collector\");\r\n\t\tassert.equal(err.received, \"nope\", \"check error.received custom collector\");\r\n\t\tassert.equal(err.message, 'expecting Number, got String \"nope\"', \"check error.message custom collector\");\r\n\t});\r\n\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* BasicModel */])(String).assert(function(s){ return s !== \"nope\" }, \"shouldnt be nope\")\r\n\t\t.validate(\"nope\", function(errors){\r\n\t\t\tassert.ok(errors.length === 1, 'local custom collector assertion error catch 1/2');\r\n\t\t\tassert.equal(errors[0].message,\r\n\t\t\t\t'assertion \\\"shouldnt be nope\\\" returned false for value \\\"nope\\\"',\r\n\t\t\t\t'local custom collector assertion error catch 2/2');\r\n\t\t});\r\n\r\n\t__WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* BasicModel */].prototype.errorCollector = defaultErrorCollector;\r\n\r\n});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3Rlc3QvYmFzaWMtbW9kZWwuc3BlYy5qcz9mOTU1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7QmFzaWNNb2RlbH0gZnJvbSBcIi4uL3NyYy9pbmRleFwiO1xyXG5cclxuUVVuaXQubW9kdWxlKFwiQmFzaWMgTW9kZWxzXCIpO1xyXG5cclxuUVVuaXQudGVzdChcIkJhc2ljIG1vZGVscyBjb25zdHJ1Y3RvciAmJiBwcm90byBhcmUgY29ycmVjdGx5IGRlZmluZWRcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xyXG5cdGFzc2VydC5vayhCYXNpY01vZGVsIGluc3RhbmNlb2YgRnVuY3Rpb24sIFwiQmFzaWNNb2RlbCBpcyBkZWZpbmVkXCIpO1xyXG5cclxuXHRjb25zdCBOdW1iZXJNb2RlbCA9IEJhc2ljTW9kZWwoTnVtYmVyKTtcclxuXHJcblx0YXNzZXJ0Lm9rKHR5cGVvZiBOdW1iZXJNb2RlbC5leHRlbmQgPT09IFwiZnVuY3Rpb25cIiwgXCJ0ZXN0IG1vZGVsIG1ldGhvZCBleHRlbmRcIik7XHJcblx0YXNzZXJ0Lm9rKHR5cGVvZiBOdW1iZXJNb2RlbC5hc3NlcnQgPT09IFwiZnVuY3Rpb25cIiwgXCJ0ZXN0IG1vZGVsIG1ldGhvZCBhc3NlcnRcIik7XHJcblx0YXNzZXJ0Lm9rKHR5cGVvZiBOdW1iZXJNb2RlbC50ZXN0ID09PSBcImZ1bmN0aW9uXCIsIFwidGVzdCBtb2RlbCBtZXRob2QgdGVzdFwiKTtcclxuXHRhc3NlcnQub2sodHlwZW9mIE51bWJlck1vZGVsLnZhbGlkYXRlID09PSBcImZ1bmN0aW9uXCIsIFwidGVzdCBtb2RlbCBtZXRob2QgdmFsaWRhdGVcIik7XHJcblx0YXNzZXJ0Lm9rKE51bWJlck1vZGVsLmRlZmluaXRpb24gPT09IE51bWJlciwgXCJ0ZXN0IG1vZGVsIHByb3AgZGVmaW5pdGlvblwiKTtcclxuXHRhc3NlcnQub2sodHlwZW9mIE51bWJlck1vZGVsLmFzc2VydGlvbnMgPT09IFwib2JqZWN0XCIsIFwidGVzdCBtb2RlbCBwcm9wIGFzc2VydGlvbnNcIik7XHJcblxyXG5cdGNvbnN0IE51bWJlck1vZGVsVGhyb3VnaENvbnN0cnVjdG9yID0gbmV3IEJhc2ljTW9kZWwoTnVtYmVyKTtcclxuXHJcblx0YXNzZXJ0Lm9rKHR5cGVvZiBOdW1iZXJNb2RlbFRocm91Z2hDb25zdHJ1Y3Rvci5leHRlbmQgPT09IFwiZnVuY3Rpb25cIiwgXCJ0ZXN0IG5ldyBtb2RlbCBtZXRob2QgZXh0ZW5kXCIpO1xyXG5cdGFzc2VydC5vayh0eXBlb2YgTnVtYmVyTW9kZWxUaHJvdWdoQ29uc3RydWN0b3IuYXNzZXJ0ID09PSBcImZ1bmN0aW9uXCIsIFwidGVzdCBuZXcgbW9kZWwgbWV0aG9kIGFzc2VydFwiKTtcclxuXHRhc3NlcnQub2sodHlwZW9mIE51bWJlck1vZGVsVGhyb3VnaENvbnN0cnVjdG9yLnRlc3QgPT09IFwiZnVuY3Rpb25cIiwgXCJ0ZXN0IG5ldyBtb2RlbCBtZXRob2QgdGVzdFwiKTtcclxuXHRhc3NlcnQub2sodHlwZW9mIE51bWJlck1vZGVsVGhyb3VnaENvbnN0cnVjdG9yLnZhbGlkYXRlID09PSBcImZ1bmN0aW9uXCIsIFwidGVzdCBuZXcgbW9kZWwgbWV0aG9kIHZhbGlkYXRlXCIpO1xyXG5cdGFzc2VydC5vayhOdW1iZXJNb2RlbFRocm91Z2hDb25zdHJ1Y3Rvci5kZWZpbml0aW9uID09PSBOdW1iZXIsIFwidGVzdCBuZXcgbW9kZWwgcHJvcCBkZWZpbml0aW9uXCIpO1xyXG5cdGFzc2VydC5vayh0eXBlb2YgTnVtYmVyTW9kZWxUaHJvdWdoQ29uc3RydWN0b3IuYXNzZXJ0aW9ucyA9PT0gXCJvYmplY3RcIiwgXCJ0ZXN0IG5ldyBtb2RlbCBwcm9wIGFzc2VydGlvbnNcIik7XHJcbn0pO1xyXG5cclxuUVVuaXQudGVzdChcIkJhc2ljIE1vZGVsIHdpdGggdW5kZWZpbmVkIG9yIG5vIGRlZmluaXRpb25cIiwgZnVuY3Rpb24gKGFzc2VydCkge1xyXG5cclxuXHRjb25zdCBVbmRlZmluZWRNb2RlbCA9IEJhc2ljTW9kZWwodW5kZWZpbmVkKTtcclxuXHRhc3NlcnQub2soVW5kZWZpbmVkTW9kZWwgaW5zdGFuY2VvZiBCYXNpY01vZGVsLCBcIk1vZGVsIGNhbiByZWNlaXZlIHVuZGVmaW5lZCBhcyBhcmd1bWVudFwiKTtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdEJhc2ljTW9kZWwoKVxyXG5cdH0sIC9FcnJvci4qTW9kZWwgZGVmaW5pdGlvbiBpcyByZXF1aXJlZC8sIFwiTW9kZWwgd2l0aG91dCBkZWZpbml0aW9uIHRocm93c1wiKVxyXG5cclxufSk7XHJcblxyXG5RVW5pdC50ZXN0KFwiQmFzaWMgbW9kZWwgYmVoYXZpb3VyXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcclxuXHJcblx0Y29uc3QgTnVtYmVyTW9kZWwgPSBCYXNpY01vZGVsKE51bWJlcik7XHJcblx0TnVtYmVyTW9kZWwoMCk7IC8vIHNob3VsZCBub3QgdGhyb3dcclxuXHRhc3NlcnQub2sodHlwZW9mIE51bWJlck1vZGVsKDQyKSA9PT0gXCJudW1iZXJcIiwgXCJzaG91bGQgcmV0dXJuIHRoZSBvcmlnaW5hbCB0eXBlXCIpO1xyXG5cdGFzc2VydC5vayhOdW1iZXJNb2RlbCgxNykgPT09IDE3LCBcInNob3VsZCByZXR1cm4gdGhlIG9yaWdpbmFsIHZhbHVlXCIpO1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0TnVtYmVyTW9kZWwoXCIxMlwiKVxyXG5cdH0sIC9UeXBlRXJyb3IvLCBcInRlc3QgaW52YWxpZCB0eXBlXCIpO1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0TnVtYmVyTW9kZWwoTmFOKVxyXG5cdH0sIC9UeXBlRXJyb3IvLCBcInRlc3QgTmFOIGlzIGludmFsaWRcIik7XHJcblxyXG59KVxyXG5cclxuUVVuaXQudGVzdChcIk9wdGlvbmFsIGJhc2ljIG1vZGVsIGJlaGF2aW91clwiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XHJcblxyXG5cdGNvbnN0IE51bWJlck1vZGVsID0gQmFzaWNNb2RlbChOdW1iZXIpO1xyXG5cdGNvbnN0IE9wdGlvbmFsTnVtYmVyTW9kZWwgPSBCYXNpY01vZGVsKFtOdW1iZXJdKTtcclxuXHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHROdW1iZXJNb2RlbCgpXHJcblx0fSwgL1R5cGVFcnJvci8sIFwidGVzdCB1bmRlZmluZWQgdmFsdWUgZm9yIG9wdGlvbmFsIG1vZGVsXCIpO1xyXG5cclxuXHRPcHRpb25hbE51bWJlck1vZGVsKCk7IC8vIHNob3VsZCBub3QgdGhyb3dcclxuXHJcblx0Y29uc3QgT3B0aW9uYWxFeHRlbmRlZE51bWJlck1vZGVsID0gTnVtYmVyTW9kZWwuZXh0ZW5kKHVuZGVmaW5lZCk7XHJcblxyXG5cdE9wdGlvbmFsRXh0ZW5kZWROdW1iZXJNb2RlbCgpOyAvLyBzaG91bGQgbm90IHRocm93XHJcblxyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0TnVtYmVyTW9kZWwoKVxyXG5cdH0sIC9UeXBlRXJyb3IvLCBcInRlc3QgdW5kZWZpbmVkIHZhbHVlIG9uIG1hbmRhdG9yeSBwcm9wXCIpO1xyXG5cclxufSk7XHJcblxyXG5RVW5pdC50ZXN0KFwiVW5pb24gYmFzaWMgbW9kZWxcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xyXG5cclxuXHRjb25zdCBteU1vZGVsID0gQmFzaWNNb2RlbChbU3RyaW5nLCBCb29sZWFuLCBEYXRlXSk7XHJcblx0bXlNb2RlbChcInRlc3RcIik7IC8vIHNob3VsZCBub3QgdGhyb3dcclxuXHRteU1vZGVsKHRydWUpOyAvLyBzaG91bGQgbm90IHRocm93XHJcblx0bXlNb2RlbChuZXcgRGF0ZSgpKTsgLy8gc2hvdWxkIG5vdCB0aHJvd1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0bXlNb2RlbCgpXHJcblx0fSwgL1R5cGVFcnJvci8sIFwidGVzdCB1bmRlZmluZWQgdmFsdWVcIik7XHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRteU1vZGVsKDApXHJcblx0fSwgL1R5cGVFcnJvci8sIFwidGVzdCBpbnZhbGlkIHR5cGVcIik7XHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRteU1vZGVsKG5ldyBEYXRlKFwieFwiKSlcclxuXHR9LCAvVHlwZUVycm9yLywgXCJ0ZXN0IGludmFsaWQgZGF0ZVwiKTtcclxuXHJcblx0YXNzZXJ0Lm9rKG15TW9kZWwudGVzdChcIjY2NlwiKSA9PT0gdHJ1ZSwgXCJtb2RlbC50ZXN0IDEvMlwiKTtcclxuXHRhc3NlcnQub2sobXlNb2RlbC50ZXN0KDY2NikgPT09IGZhbHNlLCBcIm1vZGVsLnRlc3QgMi8yXCIpO1xyXG5cclxuXHRteU1vZGVsLnZhbGlkYXRlKFwiNjY2XCIpOyAvLyBzaG91bGQgbm90IHRocm93XHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRteU1vZGVsLnZhbGlkYXRlKDY2NilcclxuXHR9LCAvVHlwZUVycm9yLywgXCJ0ZXN0IHVuZGVmaW5lZCB2YWx1ZVwiKTtcclxuXHJcbn0pO1xyXG5cclxuUVVuaXQudGVzdChcIkJhc2ljIG1vZGVsIGRlZmF1bHQgdmFsdWVzXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcclxuXHJcblx0Y29uc3QgbXlNb2RlbCA9IEJhc2ljTW9kZWwoW1N0cmluZywgQm9vbGVhbiwgRGF0ZV0pO1xyXG5cdG15TW9kZWwuZGVmYXVsdFRvKFwiYmxvYlwiKTtcclxuXHRhc3NlcnQuc3RyaWN0RXF1YWwobXlNb2RlbC5kZWZhdWx0LCBcImJsb2JcIiwgXCJiYXNpYyBtb2RlbCBkZWZhdWx0VG8gc3RvcmUgdGhlIHZhbHVlIGFzIGRlZmF1bHQgcHJvcGVydHlcIilcclxuXHRhc3NlcnQuc3RyaWN0RXF1YWwobXlNb2RlbCgpLCBcImJsb2JcIiwgXCJiYXNpYyBtb2RlbCBkZWZhdWx0IHByb3BlcnR5IGlzIGFwcGxpZWQgd2hlbiB1bmRlZmluZWQgaXMgcGFzc2VkXCIpO1xyXG5cdG15TW9kZWwuZGVmYXVsdCA9IDQyO1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0bXlNb2RlbCgpXHJcblx0fSwgL1R5cGVFcnJvci4qZ290IE51bWJlciA0Mi8sIFwiYmFzaWMgbW9kZWwgaW52YWxpZCBkZWZhdWx0IHByb3BlcnR5IHN0aWxsIHRocm93cyBUeXBlRXJyb3JcIik7XHJcblxyXG59KTtcclxuXHJcblFVbml0LnRlc3QoXCJCYXNpYyBtb2RlbCBBc3NlcnRpb25zXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcclxuXHJcblx0ZnVuY3Rpb24gaXNPZGQobikge1xyXG5cdFx0cmV0dXJuIG4gJSAyID09PSAxO1xyXG5cdH1cclxuXHJcblx0Y29uc3QgT2RkTnVtYmVyID0gQmFzaWNNb2RlbChOdW1iZXIpLmFzc2VydChpc09kZCk7XHJcblx0YXNzZXJ0LnN0cmljdEVxdWFsKE9kZE51bWJlcigxNyksIDE3LCBcInBhc3NpbmcgYXNzZXJ0aW9uIG9uIGJhc2ljIG1vZGVsIDEvMlwiKTtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdE9kZE51bWJlcigxOClcclxuXHR9LCAvVHlwZUVycm9yW1xcc1xcU10qaXNPZGQvLCBcImZhaWxpbmcgYXNzZXJ0aW9uIG9uIGJhc2ljIG1vZGVsIDEvMlwiKTtcclxuXHJcblx0Y29uc3QgUmVhbE51bWJlciA9IEJhc2ljTW9kZWwoTnVtYmVyKS5hc3NlcnQoaXNGaW5pdGUpO1xyXG5cclxuXHRhc3NlcnQuZXF1YWwoUmVhbE51bWJlcihNYXRoLnNxcnQoMSkpLCAxLCBcInBhc3NpbmcgYXNzZXJ0aW9uIG9uIGJhc2ljIG1vZGVsIDIvMlwiKTtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdFJlYWxOdW1iZXIoTWF0aC5zcXJ0KC0xKSlcclxuXHR9LCAvVHlwZUVycm9yW1xcc1xcU10qaXNGaW5pdGUvLCBcImZhaWxpbmcgYXNzZXJ0aW9uIG9uIGJhc2ljIG1vZGVsIDIvMlwiKTtcclxuXHJcblx0ZnVuY3Rpb24gaXNQcmltZShuKSB7XHJcblx0XHRmb3IgKHZhciBpID0gMiwgbSA9IE1hdGguc3FydChuKTsgaSA8PSBtOyBpKyspIHtcclxuXHRcdFx0aWYgKG4gJSBpID09PSAwKSByZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdGNvbnN0IFByaW1lTnVtYmVyID0gUmVhbE51bWJlclxyXG5cdFx0LmV4dGVuZCgpIC8vIHRvIG5vdCBhZGQgbmV4dCBhc3NlcnRpb25zIHRvIFJlYWxOdW1iZXIgbW9kZWxcclxuXHRcdC5hc3NlcnQoTnVtYmVyLmlzSW50ZWdlcilcclxuXHRcdC5hc3NlcnQoaXNQcmltZSk7XHJcblxyXG5cdFByaW1lTnVtYmVyKDgzKTtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdFByaW1lTnVtYmVyKDg3KTtcclxuXHR9LCAvVHlwZUVycm9yW1xcc1xcU10qaXNQcmltZS8sIFwidGVzdCBtdWx0aXBsZSBhc3NlcnRpb25zIDFcIik7XHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRQcmltZU51bWJlcig3Ljc3KTtcclxuXHR9LCAvVHlwZUVycm9yW1xcc1xcU10qaXNJbnRlZ2VyLywgXCJ0ZXN0IG11bHRpcGxlIGFzc2VydGlvbnMgMlwiKTtcclxuXHJcblx0Y29uc3QgQXNzZXJ0QmFzaWMgPSBCYXNpY01vZGVsKE51bWJlcikuYXNzZXJ0KGZ1bmN0aW9uICh2KSB7XHJcblx0XHRyZXR1cm4gK3YudG9TdHJpbmcoKSA9PSB2XHJcblx0fSwgXCJtYXkgdGhyb3cgZXhjZXB0aW9uXCIpXHJcblxyXG5cdG5ldyBBc3NlcnRCYXNpYygwKTtcclxuXHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRcdG5ldyBBc3NlcnRCYXNpYygpO1xyXG5cdFx0fSxcclxuXHRcdC9hc3NlcnRpb24gXFxcIm1heSB0aHJvdyBleGNlcHRpb25cXFwiIHJldHVybmVkIFR5cGVFcnJvci4qZm9yIHZhbHVlIHVuZGVmaW5lZC8sXHJcblx0XHRcImFzc2VydGlvbnMgY2F0Y2ggZXhjZXB0aW9ucyBvbiBCYXNpYyBtb2RlbHNcIik7XHJcblxyXG59KTtcclxuXHJcblFVbml0LnRlc3QoXCJDdXN0b20gZXJyb3IgY29sbGVjdG9ycyBmb3IgYmFzaWMgbW9kZWxzXCIsIGZ1bmN0aW9uKGFzc2VydCkge1xyXG5cclxuXHRhc3NlcnQuZXhwZWN0KDEzKTtcclxuXHJcblx0Y29uc3QgZGVmYXVsdEVycm9yQ29sbGVjdG9yID0gQmFzaWNNb2RlbC5wcm90b3R5cGUuZXJyb3JDb2xsZWN0b3I7XHJcblx0YXNzZXJ0LmVxdWFsKHR5cGVvZiBkZWZhdWx0RXJyb3JDb2xsZWN0b3IsIFwiZnVuY3Rpb25cIiwgXCJCYXNpY01vZGVsIGhhcyBkZWZhdWx0IGVycm9yQ29sbGVjdG9yXCIpO1xyXG5cclxuXHRCYXNpY01vZGVsLnByb3RvdHlwZS5lcnJvckNvbGxlY3RvciA9IGZ1bmN0aW9uIChlcnJvcnMpIHtcclxuXHRcdGFzc2VydC5vayhlcnJvcnMubGVuZ3RoID09PSAxLCBcImNoZWNrIGVycm9ycy5sZW5ndGggZ2xvYmFsIGNvbGxlY3RvclwiKTtcclxuXHRcdGNvbnN0IGVyciA9IGVycm9yc1swXTtcclxuXHRcdGFzc2VydC5lcXVhbChlcnIuZXhwZWN0ZWQsIE51bWJlciwgXCJjaGVjayBlcnJvci5leHBlY3RlZCBnbG9iYWwgY29sbGVjdG9yXCIpO1xyXG5cdFx0YXNzZXJ0LmVxdWFsKGVyci5yZWNlaXZlZCwgXCJub3BlXCIsIFwiY2hlY2sgZXJyb3IucmVjZWl2ZWQgZ2xvYmFsIGNvbGxlY3RvclwiKTtcclxuXHRcdGFzc2VydC5lcXVhbChlcnIubWVzc2FnZSwgJ2V4cGVjdGluZyBOdW1iZXIsIGdvdCBTdHJpbmcgXCJub3BlXCInLCBcImNoZWNrIGVycm9yLm1lc3NhZ2UgZ2xvYmFsIGNvbGxlY3RvclwiKTtcclxuXHR9XHJcblxyXG5cdEJhc2ljTW9kZWwoTnVtYmVyKShcIm5vcGVcIik7XHJcblxyXG5cdEJhc2ljTW9kZWwucHJvdG90eXBlLmVycm9yQ29sbGVjdG9yID0gZnVuY3Rpb24gKGVycm9ycykge1xyXG5cdFx0YXNzZXJ0Lm9rKGVycm9ycy5sZW5ndGggPT09IDEsICdnbG9iYWwgY3VzdG9tIGNvbGxlY3RvciBhc3NlcnRpb24gZXJyb3IgY2F0Y2ggMS8yJyk7XHJcblx0XHRhc3NlcnQuZXF1YWwoZXJyb3JzWzBdLm1lc3NhZ2UsXHJcblx0XHRcdCdhc3NlcnRpb24gXFxcInNob3VsZG50IGJlIG5vcGVcXFwiIHJldHVybmVkIGZhbHNlIGZvciB2YWx1ZSBcXFwibm9wZVxcXCInLFxyXG5cdFx0XHQnZ2xvYmFsIGN1c3RvbSBjb2xsZWN0b3IgYXNzZXJ0aW9uIGVycm9yIGNhdGNoIDIvMicpO1xyXG5cdH1cclxuXHJcblx0QmFzaWNNb2RlbChTdHJpbmcpLmFzc2VydChmdW5jdGlvbiAocykge1xyXG5cdFx0cmV0dXJuIHMgIT09IFwibm9wZVwiXHJcblx0fSwgXCJzaG91bGRudCBiZSBub3BlXCIpKFwibm9wZVwiKTtcclxuXHJcblx0QmFzaWNNb2RlbChOdW1iZXIpLnZhbGlkYXRlKFwibm9wZVwiLCBmdW5jdGlvbihlcnJvcnMpe1xyXG5cdFx0YXNzZXJ0Lm9rKGVycm9ycy5sZW5ndGggPT09IDEsIFwiY2hlY2sgZXJyb3JzLmxlbmd0aCBjdXN0b20gY29sbGVjdG9yXCIpO1xyXG5cdFx0dmFyIGVyciA9IGVycm9yc1swXTtcclxuXHRcdGFzc2VydC5lcXVhbChlcnIuZXhwZWN0ZWQsIE51bWJlciwgXCJjaGVjayBlcnJvci5leHBlY3RlZCBjdXN0b20gY29sbGVjdG9yXCIpO1xyXG5cdFx0YXNzZXJ0LmVxdWFsKGVyci5yZWNlaXZlZCwgXCJub3BlXCIsIFwiY2hlY2sgZXJyb3IucmVjZWl2ZWQgY3VzdG9tIGNvbGxlY3RvclwiKTtcclxuXHRcdGFzc2VydC5lcXVhbChlcnIubWVzc2FnZSwgJ2V4cGVjdGluZyBOdW1iZXIsIGdvdCBTdHJpbmcgXCJub3BlXCInLCBcImNoZWNrIGVycm9yLm1lc3NhZ2UgY3VzdG9tIGNvbGxlY3RvclwiKTtcclxuXHR9KTtcclxuXHJcblx0QmFzaWNNb2RlbChTdHJpbmcpLmFzc2VydChmdW5jdGlvbihzKXsgcmV0dXJuIHMgIT09IFwibm9wZVwiIH0sIFwic2hvdWxkbnQgYmUgbm9wZVwiKVxyXG5cdFx0LnZhbGlkYXRlKFwibm9wZVwiLCBmdW5jdGlvbihlcnJvcnMpe1xyXG5cdFx0XHRhc3NlcnQub2soZXJyb3JzLmxlbmd0aCA9PT0gMSwgJ2xvY2FsIGN1c3RvbSBjb2xsZWN0b3IgYXNzZXJ0aW9uIGVycm9yIGNhdGNoIDEvMicpO1xyXG5cdFx0XHRhc3NlcnQuZXF1YWwoZXJyb3JzWzBdLm1lc3NhZ2UsXHJcblx0XHRcdFx0J2Fzc2VydGlvbiBcXFwic2hvdWxkbnQgYmUgbm9wZVxcXCIgcmV0dXJuZWQgZmFsc2UgZm9yIHZhbHVlIFxcXCJub3BlXFxcIicsXHJcblx0XHRcdFx0J2xvY2FsIGN1c3RvbSBjb2xsZWN0b3IgYXNzZXJ0aW9uIGVycm9yIGNhdGNoIDIvMicpO1xyXG5cdFx0fSk7XHJcblxyXG5cdEJhc2ljTW9kZWwucHJvdG90eXBlLmVycm9yQ29sbGVjdG9yID0gZGVmYXVsdEVycm9yQ29sbGVjdG9yO1xyXG5cclxufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi90ZXN0L2Jhc2ljLW1vZGVsLnNwZWMuanNcbi8vIG1vZHVsZSBpZCA9IDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 6 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__src_index__ = __webpack_require__(3);\n\n\nQUnit.module(\"Function Models\");\n\nQUnit.test(\"Function models constructor && proto\", function (assert) {\n\n\tassert.equal(typeof __WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* FunctionModel */], \"function\", \"FunctionModel is defined\");\n\n\tconst Operation = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* FunctionModel */])(Number, Number).return(Number);\n\n\tassert.ok(Operation instanceof __WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* FunctionModel */], \"model instance of FunctionModel\");\n\n\tassert.ok(typeof Operation.extend === \"function\", \"test Function model method extend\");\n\tassert.ok(typeof Operation.assert === \"function\", \"test Function model method assert\");\n\tassert.ok(typeof Operation.test === \"function\", \"test Function model method test\");\n\tassert.ok(typeof Operation.validate === \"function\", \"test Function model method validate\");\n\tassert.ok(typeof Operation.return === \"function\", \"test Function model method return\");\n\tassert.equal(Operation.definition.arguments.map(a => a.name).join(','),\n\t\t'Number,Number', \"test Function model prop definition\");\n\tassert.ok(Operation.definition.return === Number, \"test Function model prop return\");\n\tassert.ok(typeof Operation.assertions === \"object\", \"test Function model prop assertions\");\n\n});\n\nQUnit.test(\"Function models instanciation and controls\", function (assert) {\n\n\tconst op = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* FunctionModel */])(Number, Number).return(Number);\n\n\tconst add = op(function (a, b) { return a + b; });\n\tconst add3 = op(function (a, b, c) { return a + b + c; });\n\tconst noop = op(function () { return undefined; });\n\tconst addStr = op(function (a, b) { return String(a) + String(b); });\n\n\tassert.ok(add instanceof Function && add instanceof op, \"fn instanceof functionModel and Function\");\n\n\tassert.equal(add(15, 25), 40, \"valid function model call\");\n\tassert.throws(function () {\n\t\tadd(15)\n\t}, /TypeError/, \"too few arguments\");\n\tassert.throws(function () {\n\t\tadd3(15, 25, 42)\n\t}, /TypeError/, \"too much arguments\");\n\tassert.throws(function () {\n\t\tnoop(15, 25)\n\t}, /TypeError/, \"no return\");\n\tassert.throws(function () {\n\t\taddStr(15, 25)\n\t}, /TypeError/, \"incorrect return type\");\n\n});\n\nQUnit.test(\"Function models as object models methods\", function (assert) {\n\n\tconst Person = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\n\t\tname: String,\n\t\tage: Number,\n\t\t// function without arguments returning a String\n\t\tsayMyName: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* FunctionModel */])().return(String)\n\t}).defaults({\n\t\tsayMyName: function () {\n\t\t\treturn \"my name is \" + this.name;\n\t\t}\n\t});\n\n\tconst greetFnModel = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* FunctionModel */])(Person).return(String);\n\n\tPerson.prototype.greet = greetFnModel(function (otherguy) {\n\t\treturn \"Hello \" + otherguy.name + \", \" + this.sayMyName();\n\t});\n\n\tconst joe = new Person({name: \"Joe\", age: 28});\n\tconst ann = new Person({name: \"Ann\", age: 23});\n\n\tassert.equal(joe.sayMyName(), \"my name is Joe\", \"valid function model method call 1/2\");\n\tassert.equal(joe.greet(ann), \"Hello Ann, my name is Joe\", \"valid function model method call 2/2\");\n\n\tassert.throws(function () {\n\t\tjoe.greet(\"dog\");\n\t}, /TypeError/, \"invalid argument type\");\n\n});\n\nQUnit.test(\"Function model defaults arguments & arguments control\", function (assert) {\n\n\tconst Calculator = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* FunctionModel */])(Number, [\"+\", \"-\", \"*\", \"/\", undefined], [Number])\n\t\t.return(Number);\n\n\tconst calc = new Calculator(function (a=0, operator='+', b=1) {\n\t\treturn eval(a + operator + b);\n\t});\n\n\tassert.equal(calc(3, \"+\"), 4, \"default argument value\");\n\tassert.equal(calc(41), 42, \"defaults arguments values\");\n\tassert.throws(function () {\n\t\tcalc(6, \"*\", false);\n\t}, /TypeError/, \"invalid argument type\");\n\n});\n\nQUnit.test(\"Function model with other models & objects as arguments\", function (assert) {\n\n\tconst api = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* FunctionModel */])({\n\t\tlist: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])(Number),\n\t\top: [\"sum\", \"product\"]\n\t})(function (options) {\n\t\treturn options.list.reduce(function (a, b) {\n\t\t\tswitch (options.op) {\n\t\t\t\tcase \"sum\":\n\t\t\t\t\treturn a + b;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"product\":\n\t\t\t\t\treturn a * b;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}, options.op === \"product\" ? 1 : 0);\n\t});\n\n\tassert.equal(api({list: [1, 2, 3, 4], op: \"sum\"}), 10, \"FunctionModel object argument 1/5\");\n\tassert.equal(api({list: [1, 2, 3, 4], op: \"product\"}), 24, \"FunctionModel object argument 2/5\");\n\tassert.throws(function () {\n\t\tapi({list: [1, 2, \"3\", 4], op: \"product\"});\n\t}, /TypeError/, \"FunctionModel object argument 3/5\");\n\tassert.throws(function () {\n\t\tapi({list: [1, 2, 3, 4], op: \"divide\"});\n\t}, /TypeError/, \"FunctionModel object argument 4/5\");\n\tassert.throws(function () {\n\t\tapi({list: [1, 2, 3, 4]});\n\t}, /TypeError/, \"FunctionModel object argument 5/5\");\n\n\tassert.ok(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* FunctionModel */])() instanceof __WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* FunctionModel */], \"FunctionModel does not throw when receiving no arguments\");\n\n});\n\nQUnit.test(\"Function model defaultTo\", function (assert) {\n\n\tconst yell = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* FunctionModel */])(String).return(String).defaultTo(s => s.toUpperCase());\n\n\tassert.strictEqual(yell()(\"yo!\"), \"YO!\", \"Function model default value\");\n\tassert.throws(function () {\n\t\tyell()(42)\n\t}, /TypeError.*got Number 42/, \"invalid arguments still throws TypeError for defaulted function models\");\n\n\tyell.default = function (s) {\n\t\treturn s.length\n\t};\n\n\tassert.throws(function () {\n\t\tyell()(\"yo!\")\n\t}, /TypeError.*got Number 3/, \"invalid default property still throws TypeError for function models\");\n\n});\n\nQUnit.test(\"Automatic model casting with Function models\", function (assert) {\n\n\tconst N = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({ x: Number, y: [Number] }).defaults({ x: 5, y: 7 });\n\tconst F = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"d\" /* FunctionModel */])(N, N).return(N);\n\tconst f = F(function(a,b){ return { x: a.x+b.x, y: a.y+b.y } });\n\tconst returnValue = f({ x: 1 }, { x: 2 });\n\n\tassert.ok(returnValue instanceof N, \"test automatic model casting with return value\");\n\tassert.equal(returnValue.x, 3, \"test automatic casting with function args 1/2\");\n\tassert.equal(returnValue.y, 14, \"test automatic casting with function args 2/2\");\n\n})//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3Rlc3QvZnVuY3Rpb24tbW9kZWwuc3BlYy5qcz9lNTRkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7RnVuY3Rpb25Nb2RlbCwgT2JqZWN0TW9kZWwsIEFycmF5TW9kZWx9IGZyb20gXCIuLi9zcmMvaW5kZXhcIjtcblxuUVVuaXQubW9kdWxlKFwiRnVuY3Rpb24gTW9kZWxzXCIpO1xuXG5RVW5pdC50ZXN0KFwiRnVuY3Rpb24gbW9kZWxzIGNvbnN0cnVjdG9yICYmIHByb3RvXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcblxuXHRhc3NlcnQuZXF1YWwodHlwZW9mIEZ1bmN0aW9uTW9kZWwsIFwiZnVuY3Rpb25cIiwgXCJGdW5jdGlvbk1vZGVsIGlzIGRlZmluZWRcIik7XG5cblx0Y29uc3QgT3BlcmF0aW9uID0gRnVuY3Rpb25Nb2RlbChOdW1iZXIsIE51bWJlcikucmV0dXJuKE51bWJlcik7XG5cblx0YXNzZXJ0Lm9rKE9wZXJhdGlvbiBpbnN0YW5jZW9mIEZ1bmN0aW9uTW9kZWwsIFwibW9kZWwgaW5zdGFuY2Ugb2YgRnVuY3Rpb25Nb2RlbFwiKTtcblxuXHRhc3NlcnQub2sodHlwZW9mIE9wZXJhdGlvbi5leHRlbmQgPT09IFwiZnVuY3Rpb25cIiwgXCJ0ZXN0IEZ1bmN0aW9uIG1vZGVsIG1ldGhvZCBleHRlbmRcIik7XG5cdGFzc2VydC5vayh0eXBlb2YgT3BlcmF0aW9uLmFzc2VydCA9PT0gXCJmdW5jdGlvblwiLCBcInRlc3QgRnVuY3Rpb24gbW9kZWwgbWV0aG9kIGFzc2VydFwiKTtcblx0YXNzZXJ0Lm9rKHR5cGVvZiBPcGVyYXRpb24udGVzdCA9PT0gXCJmdW5jdGlvblwiLCBcInRlc3QgRnVuY3Rpb24gbW9kZWwgbWV0aG9kIHRlc3RcIik7XG5cdGFzc2VydC5vayh0eXBlb2YgT3BlcmF0aW9uLnZhbGlkYXRlID09PSBcImZ1bmN0aW9uXCIsIFwidGVzdCBGdW5jdGlvbiBtb2RlbCBtZXRob2QgdmFsaWRhdGVcIik7XG5cdGFzc2VydC5vayh0eXBlb2YgT3BlcmF0aW9uLnJldHVybiA9PT0gXCJmdW5jdGlvblwiLCBcInRlc3QgRnVuY3Rpb24gbW9kZWwgbWV0aG9kIHJldHVyblwiKTtcblx0YXNzZXJ0LmVxdWFsKE9wZXJhdGlvbi5kZWZpbml0aW9uLmFyZ3VtZW50cy5tYXAoYSA9PiBhLm5hbWUpLmpvaW4oJywnKSxcblx0XHQnTnVtYmVyLE51bWJlcicsIFwidGVzdCBGdW5jdGlvbiBtb2RlbCBwcm9wIGRlZmluaXRpb25cIik7XG5cdGFzc2VydC5vayhPcGVyYXRpb24uZGVmaW5pdGlvbi5yZXR1cm4gPT09IE51bWJlciwgXCJ0ZXN0IEZ1bmN0aW9uIG1vZGVsIHByb3AgcmV0dXJuXCIpO1xuXHRhc3NlcnQub2sodHlwZW9mIE9wZXJhdGlvbi5hc3NlcnRpb25zID09PSBcIm9iamVjdFwiLCBcInRlc3QgRnVuY3Rpb24gbW9kZWwgcHJvcCBhc3NlcnRpb25zXCIpO1xuXG59KTtcblxuUVVuaXQudGVzdChcIkZ1bmN0aW9uIG1vZGVscyBpbnN0YW5jaWF0aW9uIGFuZCBjb250cm9sc1wiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XG5cblx0Y29uc3Qgb3AgPSBGdW5jdGlvbk1vZGVsKE51bWJlciwgTnVtYmVyKS5yZXR1cm4oTnVtYmVyKTtcblxuXHRjb25zdCBhZGQgPSBvcChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYSArIGI7IH0pO1xuXHRjb25zdCBhZGQzID0gb3AoZnVuY3Rpb24gKGEsIGIsIGMpIHsgcmV0dXJuIGEgKyBiICsgYzsgfSk7XG5cdGNvbnN0IG5vb3AgPSBvcChmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0pO1xuXHRjb25zdCBhZGRTdHIgPSBvcChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gU3RyaW5nKGEpICsgU3RyaW5nKGIpOyB9KTtcblxuXHRhc3NlcnQub2soYWRkIGluc3RhbmNlb2YgRnVuY3Rpb24gJiYgYWRkIGluc3RhbmNlb2Ygb3AsIFwiZm4gaW5zdGFuY2VvZiBmdW5jdGlvbk1vZGVsIGFuZCBGdW5jdGlvblwiKTtcblxuXHRhc3NlcnQuZXF1YWwoYWRkKDE1LCAyNSksIDQwLCBcInZhbGlkIGZ1bmN0aW9uIG1vZGVsIGNhbGxcIik7XG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xuXHRcdGFkZCgxNSlcblx0fSwgL1R5cGVFcnJvci8sIFwidG9vIGZldyBhcmd1bWVudHNcIik7XG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xuXHRcdGFkZDMoMTUsIDI1LCA0Milcblx0fSwgL1R5cGVFcnJvci8sIFwidG9vIG11Y2ggYXJndW1lbnRzXCIpO1xuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcblx0XHRub29wKDE1LCAyNSlcblx0fSwgL1R5cGVFcnJvci8sIFwibm8gcmV0dXJuXCIpO1xuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcblx0XHRhZGRTdHIoMTUsIDI1KVxuXHR9LCAvVHlwZUVycm9yLywgXCJpbmNvcnJlY3QgcmV0dXJuIHR5cGVcIik7XG5cbn0pO1xuXG5RVW5pdC50ZXN0KFwiRnVuY3Rpb24gbW9kZWxzIGFzIG9iamVjdCBtb2RlbHMgbWV0aG9kc1wiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XG5cblx0Y29uc3QgUGVyc29uID0gT2JqZWN0TW9kZWwoe1xuXHRcdG5hbWU6IFN0cmluZyxcblx0XHRhZ2U6IE51bWJlcixcblx0XHQvLyBmdW5jdGlvbiB3aXRob3V0IGFyZ3VtZW50cyByZXR1cm5pbmcgYSBTdHJpbmdcblx0XHRzYXlNeU5hbWU6IEZ1bmN0aW9uTW9kZWwoKS5yZXR1cm4oU3RyaW5nKVxuXHR9KS5kZWZhdWx0cyh7XG5cdFx0c2F5TXlOYW1lOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gXCJteSBuYW1lIGlzIFwiICsgdGhpcy5uYW1lO1xuXHRcdH1cblx0fSk7XG5cblx0Y29uc3QgZ3JlZXRGbk1vZGVsID0gRnVuY3Rpb25Nb2RlbChQZXJzb24pLnJldHVybihTdHJpbmcpO1xuXG5cdFBlcnNvbi5wcm90b3R5cGUuZ3JlZXQgPSBncmVldEZuTW9kZWwoZnVuY3Rpb24gKG90aGVyZ3V5KSB7XG5cdFx0cmV0dXJuIFwiSGVsbG8gXCIgKyBvdGhlcmd1eS5uYW1lICsgXCIsIFwiICsgdGhpcy5zYXlNeU5hbWUoKTtcblx0fSk7XG5cblx0Y29uc3Qgam9lID0gbmV3IFBlcnNvbih7bmFtZTogXCJKb2VcIiwgYWdlOiAyOH0pO1xuXHRjb25zdCBhbm4gPSBuZXcgUGVyc29uKHtuYW1lOiBcIkFublwiLCBhZ2U6IDIzfSk7XG5cblx0YXNzZXJ0LmVxdWFsKGpvZS5zYXlNeU5hbWUoKSwgXCJteSBuYW1lIGlzIEpvZVwiLCBcInZhbGlkIGZ1bmN0aW9uIG1vZGVsIG1ldGhvZCBjYWxsIDEvMlwiKTtcblx0YXNzZXJ0LmVxdWFsKGpvZS5ncmVldChhbm4pLCBcIkhlbGxvIEFubiwgbXkgbmFtZSBpcyBKb2VcIiwgXCJ2YWxpZCBmdW5jdGlvbiBtb2RlbCBtZXRob2QgY2FsbCAyLzJcIik7XG5cblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XG5cdFx0am9lLmdyZWV0KFwiZG9nXCIpO1xuXHR9LCAvVHlwZUVycm9yLywgXCJpbnZhbGlkIGFyZ3VtZW50IHR5cGVcIik7XG5cbn0pO1xuXG5RVW5pdC50ZXN0KFwiRnVuY3Rpb24gbW9kZWwgZGVmYXVsdHMgYXJndW1lbnRzICYgYXJndW1lbnRzIGNvbnRyb2xcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xuXG5cdGNvbnN0IENhbGN1bGF0b3IgPSBGdW5jdGlvbk1vZGVsKE51bWJlciwgW1wiK1wiLCBcIi1cIiwgXCIqXCIsIFwiL1wiLCB1bmRlZmluZWRdLCBbTnVtYmVyXSlcblx0XHQucmV0dXJuKE51bWJlcik7XG5cblx0Y29uc3QgY2FsYyA9IG5ldyBDYWxjdWxhdG9yKGZ1bmN0aW9uIChhPTAsIG9wZXJhdG9yPScrJywgYj0xKSB7XG5cdFx0cmV0dXJuIGV2YWwoYSArIG9wZXJhdG9yICsgYik7XG5cdH0pO1xuXG5cdGFzc2VydC5lcXVhbChjYWxjKDMsIFwiK1wiKSwgNCwgXCJkZWZhdWx0IGFyZ3VtZW50IHZhbHVlXCIpO1xuXHRhc3NlcnQuZXF1YWwoY2FsYyg0MSksIDQyLCBcImRlZmF1bHRzIGFyZ3VtZW50cyB2YWx1ZXNcIik7XG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xuXHRcdGNhbGMoNiwgXCIqXCIsIGZhbHNlKTtcblx0fSwgL1R5cGVFcnJvci8sIFwiaW52YWxpZCBhcmd1bWVudCB0eXBlXCIpO1xuXG59KTtcblxuUVVuaXQudGVzdChcIkZ1bmN0aW9uIG1vZGVsIHdpdGggb3RoZXIgbW9kZWxzICYgb2JqZWN0cyBhcyBhcmd1bWVudHNcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xuXG5cdGNvbnN0IGFwaSA9IEZ1bmN0aW9uTW9kZWwoe1xuXHRcdGxpc3Q6IEFycmF5TW9kZWwoTnVtYmVyKSxcblx0XHRvcDogW1wic3VtXCIsIFwicHJvZHVjdFwiXVxuXHR9KShmdW5jdGlvbiAob3B0aW9ucykge1xuXHRcdHJldHVybiBvcHRpb25zLmxpc3QucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7XG5cdFx0XHRzd2l0Y2ggKG9wdGlvbnMub3ApIHtcblx0XHRcdFx0Y2FzZSBcInN1bVwiOlxuXHRcdFx0XHRcdHJldHVybiBhICsgYjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcInByb2R1Y3RcIjpcblx0XHRcdFx0XHRyZXR1cm4gYSAqIGI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fSwgb3B0aW9ucy5vcCA9PT0gXCJwcm9kdWN0XCIgPyAxIDogMCk7XG5cdH0pO1xuXG5cdGFzc2VydC5lcXVhbChhcGkoe2xpc3Q6IFsxLCAyLCAzLCA0XSwgb3A6IFwic3VtXCJ9KSwgMTAsIFwiRnVuY3Rpb25Nb2RlbCBvYmplY3QgYXJndW1lbnQgMS81XCIpO1xuXHRhc3NlcnQuZXF1YWwoYXBpKHtsaXN0OiBbMSwgMiwgMywgNF0sIG9wOiBcInByb2R1Y3RcIn0pLCAyNCwgXCJGdW5jdGlvbk1vZGVsIG9iamVjdCBhcmd1bWVudCAyLzVcIik7XG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xuXHRcdGFwaSh7bGlzdDogWzEsIDIsIFwiM1wiLCA0XSwgb3A6IFwicHJvZHVjdFwifSk7XG5cdH0sIC9UeXBlRXJyb3IvLCBcIkZ1bmN0aW9uTW9kZWwgb2JqZWN0IGFyZ3VtZW50IDMvNVwiKTtcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XG5cdFx0YXBpKHtsaXN0OiBbMSwgMiwgMywgNF0sIG9wOiBcImRpdmlkZVwifSk7XG5cdH0sIC9UeXBlRXJyb3IvLCBcIkZ1bmN0aW9uTW9kZWwgb2JqZWN0IGFyZ3VtZW50IDQvNVwiKTtcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XG5cdFx0YXBpKHtsaXN0OiBbMSwgMiwgMywgNF19KTtcblx0fSwgL1R5cGVFcnJvci8sIFwiRnVuY3Rpb25Nb2RlbCBvYmplY3QgYXJndW1lbnQgNS81XCIpO1xuXG5cdGFzc2VydC5vayhGdW5jdGlvbk1vZGVsKCkgaW5zdGFuY2VvZiBGdW5jdGlvbk1vZGVsLCBcIkZ1bmN0aW9uTW9kZWwgZG9lcyBub3QgdGhyb3cgd2hlbiByZWNlaXZpbmcgbm8gYXJndW1lbnRzXCIpO1xuXG59KTtcblxuUVVuaXQudGVzdChcIkZ1bmN0aW9uIG1vZGVsIGRlZmF1bHRUb1wiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XG5cblx0Y29uc3QgeWVsbCA9IEZ1bmN0aW9uTW9kZWwoU3RyaW5nKS5yZXR1cm4oU3RyaW5nKS5kZWZhdWx0VG8ocyA9PiBzLnRvVXBwZXJDYXNlKCkpO1xuXG5cdGFzc2VydC5zdHJpY3RFcXVhbCh5ZWxsKCkoXCJ5byFcIiksIFwiWU8hXCIsIFwiRnVuY3Rpb24gbW9kZWwgZGVmYXVsdCB2YWx1ZVwiKTtcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XG5cdFx0eWVsbCgpKDQyKVxuXHR9LCAvVHlwZUVycm9yLipnb3QgTnVtYmVyIDQyLywgXCJpbnZhbGlkIGFyZ3VtZW50cyBzdGlsbCB0aHJvd3MgVHlwZUVycm9yIGZvciBkZWZhdWx0ZWQgZnVuY3Rpb24gbW9kZWxzXCIpO1xuXG5cdHllbGwuZGVmYXVsdCA9IGZ1bmN0aW9uIChzKSB7XG5cdFx0cmV0dXJuIHMubGVuZ3RoXG5cdH07XG5cblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XG5cdFx0eWVsbCgpKFwieW8hXCIpXG5cdH0sIC9UeXBlRXJyb3IuKmdvdCBOdW1iZXIgMy8sIFwiaW52YWxpZCBkZWZhdWx0IHByb3BlcnR5IHN0aWxsIHRocm93cyBUeXBlRXJyb3IgZm9yIGZ1bmN0aW9uIG1vZGVsc1wiKTtcblxufSk7XG5cblFVbml0LnRlc3QoXCJBdXRvbWF0aWMgbW9kZWwgY2FzdGluZyB3aXRoIEZ1bmN0aW9uIG1vZGVsc1wiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XG5cblx0Y29uc3QgTiA9IE9iamVjdE1vZGVsKHsgeDogTnVtYmVyLCB5OiBbTnVtYmVyXSB9KS5kZWZhdWx0cyh7IHg6IDUsIHk6IDcgfSk7XG5cdGNvbnN0IEYgPSBGdW5jdGlvbk1vZGVsKE4sIE4pLnJldHVybihOKTtcblx0Y29uc3QgZiA9IEYoZnVuY3Rpb24oYSxiKXsgcmV0dXJuIHsgeDogYS54K2IueCwgeTogYS55K2IueSB9IH0pO1xuXHRjb25zdCByZXR1cm5WYWx1ZSA9IGYoeyB4OiAxIH0sIHsgeDogMiB9KTtcblxuXHRhc3NlcnQub2socmV0dXJuVmFsdWUgaW5zdGFuY2VvZiBOLCBcInRlc3QgYXV0b21hdGljIG1vZGVsIGNhc3Rpbmcgd2l0aCByZXR1cm4gdmFsdWVcIik7XG5cdGFzc2VydC5lcXVhbChyZXR1cm5WYWx1ZS54LCAzLCBcInRlc3QgYXV0b21hdGljIGNhc3Rpbmcgd2l0aCBmdW5jdGlvbiBhcmdzIDEvMlwiKTtcblx0YXNzZXJ0LmVxdWFsKHJldHVyblZhbHVlLnksIDE0LCBcInRlc3QgYXV0b21hdGljIGNhc3Rpbmcgd2l0aCBmdW5jdGlvbiBhcmdzIDIvMlwiKTtcblxufSlcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3Rlc3QvZnVuY3Rpb24tbW9kZWwuc3BlYy5qc1xuLy8gbW9kdWxlIGlkID0gNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 7 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__src_index__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mocks_console__ = __webpack_require__(14);\n\r\n\r\n\r\nQUnit.module(\"Object Models\");\r\n\r\nQUnit.test(\"Object model constructor && proto\", function (assert) {\r\n\r\n\tassert.ok(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */] instanceof Function, \"ObjectModel instanceof Function\");\r\n\r\n\tconst EmptyObjectModel = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({});\r\n\r\n\tassert.ok(typeof EmptyObjectModel.extend === \"function\", \"test object model method extend\");\r\n\tassert.ok(typeof EmptyObjectModel.assert === \"function\", \"test object model method assert\");\r\n\tassert.ok(typeof EmptyObjectModel.test === \"function\", \"test object model method test\");\r\n\tassert.ok(typeof EmptyObjectModel.validate === \"function\", \"test object model method validate\");\r\n\tassert.ok(typeof EmptyObjectModel.definition === \"object\", \"test object model prop definition\");\r\n\tassert.ok(typeof EmptyObjectModel.assertions === \"object\", \"test object model prop assertions\");\r\n\r\n\tconst EmptyObjectModelThroughConstructor = new __WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */]({});\r\n\r\n\tassert.ok(typeof EmptyObjectModelThroughConstructor.extend === \"function\", \"test new model method extend\");\r\n\tassert.ok(typeof EmptyObjectModelThroughConstructor.assert === \"function\", \"test new model method assert\");\r\n\tassert.ok(typeof EmptyObjectModelThroughConstructor.test === \"function\", \"test new model method test\");\r\n\tassert.ok(typeof EmptyObjectModelThroughConstructor.validate === \"function\", \"test new model method validate\");\r\n\tassert.ok(typeof EmptyObjectModelThroughConstructor.definition === \"object\", \"test new model prop definition\");\r\n\tassert.ok(typeof EmptyObjectModelThroughConstructor.assertions === \"object\", \"test new model prop assertions\");\r\n})\r\n\r\nQUnit.test(\"Object model behaviour for properties\", function (assert) {\r\n\tvar Person = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\r\n\t\tname: String,\r\n\t\tage: Number,\r\n\t\tbirth: Date,\r\n\t\tfemale: [Boolean],\r\n\t\taddress: {\r\n\t\t\twork: {\r\n\t\t\t\tcity: [String]\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tvar joe = Person({\r\n\t\tname: \"Joe\",\r\n\t\tage: 42,\r\n\t\tbirth: new Date(1990, 3, 25),\r\n\t\tfemale: false,\r\n\t\taddress: {\r\n\t\t\twork: {\r\n\t\t\t\tcity: \"Lille\"\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tassert.strictEqual(joe.name, \"Joe\", \"String property retrieved\");\r\n\tassert.strictEqual(joe.age, 42, \"Number property retrieved\");\r\n\tassert.strictEqual(joe.female, false, \"Boolean property retrieved\");\r\n\tassert.equal(+joe.birth, +(new Date(1990, 3, 25)), \"Date property retrieved\");\r\n\tassert.strictEqual(joe.address.work.city, \"Lille\", \"nested property retrieved\");\r\n\tassert.ok(joe instanceof Person && joe instanceof Object, \"instance is instanceof model and Object\");\r\n\tassert.ok(Person instanceof __WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */], \"model is instanceof ObjectModel\");\r\n\r\n\tjoe.name = \"Big Joe\";\r\n\tjoe.age++;\r\n\tjoe.birth = new Date(1990, 3, 26);\r\n\tdelete joe.female;\r\n\r\n\tassert.throws(function () {\r\n\t\tjoe.name = 42;\r\n\t}, /TypeError.*got Number 42/, \"invalid Number set\");\r\n\tassert.throws(function () {\r\n\t\tjoe.age = true;\r\n\t}, /TypeError.*got Boolean true/, \"invalid Boolean set\");\r\n\tassert.throws(function () {\r\n\t\tjoe.birth = function () {\r\n\t\t};\r\n\t}, /TypeError.*got Function/, \"invalid Function set\");\r\n\tassert.throws(function () {\r\n\t\tjoe.female = \"nope\";\r\n\t}, /TypeError.*got String \"nope\"/, \"invalid String set\");\r\n\tassert.throws(function () {\r\n\t\tjoe.address.work.city = [];\r\n\t}, /TypeError.*got Array/, \"invalid Array set\");\r\n\tassert.throws(function () {\r\n\t\tjoe.address.work = {city: 42};\r\n\t}, /TypeError.*got Number 42/, \"invalid Object set\");\r\n\tassert.throws(function () {\r\n\t\t\tjoe = Person({\r\n\t\t\t\tname: \"Joe\",\r\n\t\t\t\tage: 42,\r\n\t\t\t\tbirth: new Date(1990, 3, 25),\r\n\t\t\t\tfemale: \"false\"\r\n\t\t\t});\r\n\t\t}, /TypeError.*expecting female to be Boolean.*got String \"false\"/,\r\n\t\t\"invalid prop at object model instanciation\"\r\n\t);\r\n\r\n\tjoe = Person({\r\n\t\tname: \"Joe\",\r\n\t\tage: 42,\r\n\t\tbirth: new Date(1990, 3, 25),\r\n\t\tfemale: false,\r\n\t\taddress: {\r\n\t\t\twork: {\r\n\t\t\t\tcity: \"Lille\"\r\n\t\t\t}\r\n\t\t},\r\n\t\tjob: \"Taxi\"\r\n\t});\r\n\r\n\tassert.strictEqual(joe.job, \"Taxi\", \"Properties out of model definition are kept but are not validated\");\r\n\r\n\tassert.throws(function () {\r\n\t\tPerson({\r\n\t\t\tname: false,\r\n\t\t\tage: [42],\r\n\t\t\tbirth: \"nope\",\r\n\t\t\tfemale: null,\r\n\t\t\taddress: {\r\n\t\t\t\twork: {\r\n\t\t\t\t\tcity: true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}, function (err) {\r\n\t\treturn /TypeError/.test(err.toString())\r\n\t\t\t&& /name/.test(err.toString())\r\n\t\t\t&& /age/.test(err.toString())\r\n\t\t\t&& /birth/.test(err.toString())\r\n\t\t\t&& /city/.test(err.toString())\r\n\t}, \"check that errors are correctly stacked\");\r\n});\r\n\r\nQUnit.test(\"ObjectModel edge cases of constructors\", function (assert) {\r\n\tassert.ok(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({}) instanceof __WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */], \"ObjectModel can receive empty object as argument\");\r\n\tassert.throws(function () {\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])()\r\n\t}, /Error.*Model definition is required/, \"ObjectModel without definition throws\")\r\n\r\n\t/* //TODO\r\n\t assert.throws(function () {\r\n\t ObjectModel(undefined)\r\n\t }, /expecting arguments\\[0] to be Object, got undefined/,\r\n\t \"ObjectModel with definition undefined throws\")\r\n\r\n\t assert.throws(function () {\r\n\t ObjectModel(42)\r\n\t }, /expecting arguments\\[0] to be Object, got Number 42/,\r\n\t \"ObjectModel with definition primitive throws\")\r\n\t */\r\n});\r\n\r\nQUnit.test(\"ObjectModel with optional and multiple parameters\", function (assert) {\r\n\tvar Person = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\r\n\t\tname: [String],\r\n\t\tage: [Number, Date, String, Boolean, undefined],\r\n\t\tfemale: [Boolean, Number, String, null],\r\n\t\thaircolor: [\"blond\", \"brown\", \"black\", undefined],\r\n\t\taddress: {\r\n\t\t\twork: {\r\n\t\t\t\tcity: [String]\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tvar joe = Person({female: false});\r\n\tassert.ok(joe instanceof Person, \"instanceof model test\");\r\n\tjoe.name = \"joe\";\r\n\tjoe.name = undefined;\r\n\tjoe.name = null;\r\n\tjoe.age  = new Date(1995, 1, 23);\r\n\tjoe.age  = undefined;\r\n\tassert.throws(function () {\r\n\t\tjoe.age = null;\r\n\t}, /TypeError.*got null/, \"invalid set null\");\r\n\tjoe.female = \"ann\";\r\n\tjoe.female = 2;\r\n\tjoe.female = false;\r\n\tassert.throws(function () {\r\n\t\tjoe.female = undefined;\r\n\t}, /TypeError.*got undefined/, \"invalid set undefined\");\r\n\tjoe.address.work.city = \"Lille\";\r\n\tjoe.address.work.city = undefined;\r\n\tjoe.haircolor         = \"blond\";\r\n\tjoe.haircolor         = undefined;\r\n\tassert.throws(function () {\r\n\t\tjoe.name = false;\r\n\t}, /TypeError.*expecting name to be String.*got Boolean false/, \"invalid type for optional prop\");\r\n\tassert.throws(function () {\r\n\t\tjoe.age = null;\r\n\t}, /TypeError.*expecting age to be Number or Date or String or Boolean or undefined/, \"invalid set null for optional union type prop\");\r\n\tassert.throws(function () {\r\n\t\tjoe.age = [];\r\n\t}, /TypeError.*got Array/, \"invalid set array for optional union type prop\");\r\n\tassert.throws(function () {\r\n\t\tjoe.address.work.city = 0;\r\n\t}, /TypeError.*expecting address.work.city to be String.*got Number 0/, \"invalid type for nested optional prop\");\r\n\tassert.throws(function () {\r\n\t\tjoe.haircolor = \"\";\r\n\t}, /TypeError.*expecting haircolor to be \"blond\" or \"brown\" or \"black\" or undefined, got String \"\"/, \"invalid type for value enum prop\");\r\n\r\n});\r\n\r\nQUnit.test(\"ObjectModel with fixed values\", function (assert) {\r\n\tvar myModel = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\r\n\t\ta: [1, 2, 3],\r\n\t\tb: 42,\r\n\t\tc: [\"\", false, null, 0],\r\n\t\thaircolor: [\"blond\", \"brown\", \"black\"],\r\n\t\tfoo: \"bar\",\r\n\t\tx: [Number, true]\r\n\t});\r\n\r\n\tvar model = myModel({\r\n\t\ta: 1,\r\n\t\tb: 42,\r\n\t\tc: 0,\r\n\t\thaircolor: \"blond\",\r\n\t\tfoo: \"bar\",\r\n\t\tx: true\r\n\t});\r\n\r\n\tmodel.x         = 666;\r\n\tmodel.haircolor = \"brown\";\r\n\r\n\tassert.throws(function () {\r\n\t\tmodel.a = 4;\r\n\t}, /TypeError.*expecting a to be 1 or 2 or 3.*got Number 4/, 'invalid set on values enum 1/2');\r\n\tassert.throws(function () {\r\n\t\tmodel.b = 43;\r\n\t}, /TypeError.*expecting b to be 42.*got Number 43/, \"invalid set on fixed value 1/2\");\r\n\tassert.throws(function () {\r\n\t\tmodel.c = undefined;\r\n\t}, /TypeError.*expecting c to be \"\" or false or null or 0.*got undefined/, \"invalid set undefined on mixed typed values enum\");\r\n\tassert.throws(function () {\r\n\t\tmodel.haircolor = \"roux\";\r\n\t}, /TypeError.*expecting haircolor to be \"blond\" or \"brown\" or \"black\".*got String \"roux\"/, 'invalid set on values enum 2/2');\r\n\tassert.throws(function () {\r\n\t\tmodel.foo = \"baz\";\r\n\t}, /TypeError.*expecting foo to be \"bar\".*got String \"baz\"/, \"invalid set on fixed value 2/2\");\r\n\tassert.throws(function () {\r\n\t\tmodel.x = false;\r\n\t}, /TypeError.*expecting x to be Number or true.*got Boolean false/, \"invalid set on mixed type/values enum\");\r\n\r\n});\r\n\r\nQUnit.test(\"Object model default values\", function (assert) {\r\n\r\n\tconst myModel = new __WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */]({\r\n\t\tname: String,\r\n\t\tfoo: {\r\n\t\t\tbar: {\r\n\t\t\t\tbuz: Number\r\n\t\t\t}\r\n\t\t}\r\n\t}).defaults({\r\n\t\tname: \"joe\",\r\n\t\tfoo: {\r\n\t\t\tbar: {\r\n\t\t\t\tbuz: 0\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst model = myModel();\r\n\tassert.strictEqual(model.name, \"joe\", \"defaults values correctly applied\");\r\n\tassert.strictEqual(model.foo.bar.buz, 0, \"defaults nested props values correctly applied\");\r\n\tassert.ok(myModel.test({}), \"defaults should be applied when testing duck typed objects\")\r\n\r\n\tconst model2 = myModel({name: \"jim\", foo: {bar: {buz: 1}}});\r\n\tassert.strictEqual(model2.name, \"jim\", \"defaults values not applied if provided\");\r\n\tassert.strictEqual(model2.foo.bar.buz, 1, \"defaults nested props values not applied if provided\");\r\n\r\n});\r\n\r\nQUnit.test(\"Object model defaultTo with defaults\", function (assert) {\r\n\r\n\tconst myModel = new __WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */]({x: Number, y: String})\r\n\t\t.defaultTo({x: 42})\r\n\t\t.defaults({y: \"hello\"})\r\n\r\n\tassert.strictEqual(myModel.default.x, 42, \"object model defaultTo store the value as default property\")\r\n\tassert.strictEqual(myModel.prototype.y, \"hello\", \"object model defaults store values to proto\")\r\n\tassert.strictEqual(myModel().x, 42, \"object model default property is applied when undefined is passed\");\r\n\tassert.strictEqual(myModel().y, \"hello\", \"defaulted object model still inherit from model proto\");\r\n\tassert.strictEqual(myModel.default.y, undefined, \"object model default value itself does not inherit from from model proto\");\r\n\r\n\tmyModel.default.x = \"nope\";\r\n\r\n\tassert.throws(function () {\r\n\t\tmyModel()\r\n\t}, /TypeError.*got String \"nope\"/, \"invalid default property still throws TypeError for object models\");\r\n\r\n});\r\n\r\nQUnit.test(\"RegExp values\", function (assert) {\r\n\r\n\tconst myModel = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\r\n\t\tphonenumber: /^[0-9]{10}$/,\r\n\t\tvoyels: [/^[aeiouy]+$/]\r\n\t});\r\n\r\n\tconst m = myModel({\r\n\t\tphonenumber: \"0612345678\"\r\n\t});\r\n\r\n\tm.voyels = \"ouioui\";\r\n\r\n\tassert.throws(function () {\r\n\t\tm.voyels = \"nonnon\"\r\n\t}, /TypeError/, \"regex matching\");\r\n\tassert.throws(function () {\r\n\t\tm.phonenumber = \"123456789\"\r\n\t}, /TypeError/, \"regex matching 2\");\r\n\r\n});\r\n\r\nQUnit.test(\"Private and constant properties\", function (assert) {\r\n\r\n\tlet myModel = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\r\n\t\tCONST: Number,\r\n\t\t_private: Number,\r\n\t\tnormal: Number\r\n\t});\r\n\r\n\tlet m = myModel({\r\n\t\tCONST: 42,\r\n\t\t_private: 43,\r\n\t\tnormal: 44\r\n\t});\r\n\r\n\tm.normal++;\r\n\r\n\tassert.throws(function () {\r\n\t\tm._private++;\r\n\t}, /TypeError[\\s\\S]*private/, \"try to modify private\");\r\n\r\n\tassert.throws(function () {\r\n\t\tm.CONST++;\r\n\t}, /TypeError[\\s\\S]*constant/, \"try to modify constant\");\r\n\tassert.equal(Object.keys(m).length, 2, \"non enumerable key not counted by Object.keys\");\r\n\tassert.equal(Object.keys(m).includes(\"_private\"), false, \"non enumerable key not found in Object.keys\");\r\n\tassert.equal(Object.getOwnPropertyNames(m).length, 2, \"non enumerable key not counted by Object.getOwnPropertyNames\");\r\n\tassert.equal(Object.getOwnPropertyNames(m).includes(\"_private\"), false, \"non enumerable key not found in Object.getOwnPropertyNames\");\r\n\tassert.equal(\"normal\" in m, true, \"enumerable key found with operator in\")\r\n\tassert.equal(\"_private\" in m, false, \"non enumerable key not found with operator in\")\r\n\tassert.equal(Object.getOwnPropertyDescriptor(m, \"normal\").value, 45, \"getOwnProperyDescriptor trap for normal prop\")\r\n\tassert.equal(Object.getOwnPropertyDescriptor(m, \"_private\"), undefined, \"getOwnProperyDescriptor for private prop\")\r\n\r\n\tlet M = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({ _p: Number })\r\n\tm = M({ _p: 42 })\r\n\r\n\tassert.throws(function () {\r\n\t\tm._p\r\n\t}, /TypeError[\\s\\S]*cannot access to private/, \"try to access private from outside\");\r\n\r\n\tM.prototype.incrementPrivate = function(){ this._p++ }\r\n\tM.prototype.getPrivate = function(){ return this._p }\r\n\tm.incrementPrivate();\r\n\tassert.equal(m.getPrivate(), 43, \"can access and mutate private props through methods\")\r\n\r\n});\r\n\r\nQUnit.test(\"Non-enumerable and non-writable properties with overridden convention\", function (assert) {\r\n\r\n\tconst myModel = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\r\n\t\tprivate_prop: Number,\r\n\t\tconstant_prop: Number,\r\n\t\tnormal_prop: Number\r\n\t});\r\n\r\n\tmyModel.conventionForConstant = s => s.indexOf(\"constant_\") === 0;\r\n\tmyModel.conventionForPrivate  = s => s.indexOf(\"private_\") === 0;\r\n\r\n\tconst m = myModel({\r\n\t\tprivate_prop: 42,\r\n\t\tconstant_prop: 43,\r\n\t\tnormal_prop: 44\r\n\t});\r\n\r\n\tassert.throws(function () {\r\n\t\tm.constant_prop++;\r\n\t}, /TypeError[\\s\\S]*constant/, \"try to redefine constant with overridden convention\");\r\n\tassert.equal(Object.keys(m).length, 2, \"non enumerable key not counted by Object.keys with overridden convention\");\r\n\tassert.equal(Object.keys(m).includes(\"private_prop\"), false, \"non enumerable key not found in Object.keys with overridden convention\");\r\n\tassert.equal(Object.getOwnPropertyNames(m).length, 2, \"non enumerable key not counted by Object.getOwnPropertyNames with overridden convention\");\r\n\tassert.equal(Object.getOwnPropertyNames(m).includes(\"private_prop\"), false, \"non enumerable key not found in Object.getOwnPropertyNames with overridden convention\");\r\n\tassert.equal(\"normal_prop\" in m, true, \"enumerable key found with operator in with overridden convention\")\r\n\tassert.equal(\"private_prop\" in m, false, \"non enumerable key not found with operator in with overridden convention\")\r\n\r\n});\r\n\r\nQUnit.test(\"Extensions\", function (assert) {\r\n\r\n\tconst Person = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\r\n\t\tname: String,\r\n\t\tage: Number,\r\n\t\tbirth: Date,\r\n\t\tfemale: [Boolean],\r\n\t\taddress: {\r\n\t\t\twork: {\r\n\t\t\t\tcity: [String]\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst joe = Person({\r\n\t\tname: \"Joe\",\r\n\t\tage: 42,\r\n\t\tbirth: new Date(1990, 3, 25),\r\n\t\tfemale: false,\r\n\t\taddress: {\r\n\t\t\twork: {\r\n\t\t\t\tcity: \"Lille\"\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst Woman = Person.extend({female: true});\r\n\r\n\tassert.ok(Person(joe), \"Person valid model for joe\");\r\n\r\n\tassert.throws(function () {\r\n\t\tWoman(joe);\r\n\t}, /TypeError[\\s\\S]*female/, \"Woman invalid model for joe\");\r\n\r\n\tassert.throws(function () {\r\n\t\tWoman({\r\n\t\t\tname: \"Joe\",\r\n\t\t\tage: 42,\r\n\t\t\tbirth: new Date(1990, 3, 25),\r\n\t\t\tfemale: false,\r\n\t\t\taddress: {\r\n\t\t\t\twork: {\r\n\t\t\t\t\tcity: \"Lille\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}, /TypeError[\\s\\S]*female/, \"cant be woman from joe parameters\");\r\n\r\n\tassert.throws(function () {\r\n\t\tWoman(joe);\r\n\t}, /TypeError[\\s\\S]*female/, \"cant be woman from Person joe\");\r\n\r\n\tconst ann = Woman({\r\n\t\tname: \"Joe's wife\",\r\n\t\tage: 42,\r\n\t\tbirth: new Date(1990, 3, 25),\r\n\t\tfemale: true,\r\n\t\taddress: {\r\n\t\t\twork: {\r\n\t\t\t\tcity: \"Lille\"\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst UnemployedWoman = Woman.extend({\r\n\t\taddress: {\r\n\t\t\twork: {\r\n\t\t\t\tcity: undefined\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tassert.ok(Woman(ann), \"Woman valid model for ann\");\r\n\r\n\tassert.ok(Woman.prototype.constructor === Woman, \"extended model has a new constructor\");\r\n\tassert.ok(ann.constructor === Woman, \"extended model instance has the right constructor\");\r\n\r\n\tassert.throws(function () {\r\n\t\tUnemployedWoman(ann);\r\n\t}, /TypeError[\\s\\S]*city/, \"ann cant be UnemployedWoman;  model extension nested undefined property\");\r\n\r\n\r\n\tconst jane = UnemployedWoman({\r\n\t\tname: \"Jane\",\r\n\t\tage: 52,\r\n\t\tbirth: new Date(1990, 3, 25),\r\n\t\tfemale: true\r\n\t});\r\n\r\n\tassert.ok(ann instanceof Person, \"ann instanceof Person\");\r\n\tassert.ok(ann instanceof Woman, \"ann instanceof Woman\");\r\n\tassert.ok(jane instanceof Person, \"jane instanceof Person\");\r\n\tassert.ok(jane instanceof Woman, \"jane instanceof Woman\");\r\n\tassert.ok(jane instanceof UnemployedWoman, \"jane instanceof UnemployedWoman\");\r\n\tassert.equal(joe instanceof Woman, false, \"joe not instanceof Woman\");\r\n\tassert.equal(joe instanceof UnemployedWoman, false, \"joe not instanceof UnemployedWoman\");\r\n\tassert.equal(ann instanceof UnemployedWoman, false, \"ann not instanceof UnemployedWoman\");\r\n\r\n\tlet Vehicle = {speed: Number};\r\n\tlet Car     = Object.create(Vehicle);\r\n\tlet Ferrari = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({expensive: true}).extend(Car);\r\n\tassert.ok(\"speed\" in Ferrari.definition, \"should retrieve definitions from parent prototypes when extending with objects\");\r\n\r\n\tVehicle = function () {};\r\n\tVehicle.prototype.speed = 99;\r\n\tCar = function () {};\r\n\tCar.prototype = new Vehicle();\r\n\tFerrari = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({ price: [Number] }).extend(Car);\r\n\r\n\tlet ferrari = new Ferrari({ price: 999999 });\r\n\tassert.equal(ferrari.speed, 99, \"should retrieve properties from parent prototypes when extending with constructors\");\r\n\tassert.equal(\"price\" in ferrari, true, \"should trap in operator and return true for properties in definition\");\r\n\tassert.equal(\"speed\" in ferrari, false, \"should trap in operator and return false for properties out of definition\");\r\n\r\n});\r\n\r\nQUnit.test(\"Multiple inheritance\", function (assert) {\r\n\r\n\tconst A = new __WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */]({\r\n\t\ta: Boolean,\r\n\t\tb: Boolean\r\n\t});\r\n\r\n\tconst B = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\r\n\t\tb: Number,\r\n\t\tc: Number\r\n\t});\r\n\r\n\tconst C = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\r\n\t\tc: String,\r\n\t\td: {\r\n\t\t\td1: Boolean,\r\n\t\t\td2: Boolean\r\n\t\t}\r\n\t});\r\n\r\n\tconst D = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\r\n\t\ta: String,\r\n\t\td: {\r\n\t\t\td2: Number,\r\n\t\t\td3: Number\r\n\t\t}\r\n\t});\r\n\r\n\tlet M1 = A.extend(B, C, D);\r\n\tlet M2 = D.extend(C, B, A);\r\n\r\n\tassert.equal(Object.keys(M1.definition).sort().join(','), \"a,b,c,d\", \"definition merge for multiple inheritance 1/4\");\r\n\tassert.equal(Object.keys(M2.definition).sort().join(','), \"a,b,c,d\", \"definition merge for multiple inheritance 2/4\");\r\n\tassert.equal(Object.keys(M1.definition.d).sort().join(','), \"d1,d2,d3\", \"definition merge for multiple inheritance 3/4\");\r\n\tassert.equal(Object.keys(M2.definition.d).sort().join(','), \"d1,d2,d3\", \"definition merge for multiple inheritance 4/4\");\r\n\r\n\tlet m1 = M1({\r\n\t\ta: \"\",\r\n\t\tb: 42,\r\n\t\tc: \"test\",\r\n\t\td: {\r\n\t\t\td1: true,\r\n\t\t\td2: 2,\r\n\t\t\td3: 3\r\n\t\t}\r\n\t});\r\n\r\n\tlet m2 = M2({\r\n\t\ta: false,\r\n\t\tb: false,\r\n\t\tc: 666,\r\n\t\td: {\r\n\t\t\td1: false,\r\n\t\t\td2: false,\r\n\t\t\td3: 0\r\n\t\t}\r\n\t});\r\n\r\n\tassert.throws(function () {\r\n\t\tm1.a = true;\r\n\t}, /TypeError[\\s\\S]*a/, \"type checking multiple inheritance 1/8\");\r\n\tassert.throws(function () {\r\n\t\tm2.a = \"nope\";\r\n\t}, /TypeError[\\s\\S]*a/, \"type checking multiple inheritance 2/8\");\r\n\tassert.throws(function () {\r\n\t\tm1.b = !m1.b;\r\n\t}, /TypeError[\\s\\S]*b/, \"type checking multiple inheritance 3/8\");\r\n\tassert.throws(function () {\r\n\t\tm2.b += 7;\r\n\t}, /TypeError[\\s\\S]*b/, \"type checking multiple inheritance 4/8\");\r\n\tassert.throws(function () {\r\n\t\tm1.c = undefined;\r\n\t}, /TypeError[\\s\\S]*c/, \"type checking multiple inheritance 5/8\");\r\n\tassert.throws(function () {\r\n\t\tm2.c = null;\r\n\t}, /TypeError[\\s\\S]*c/, \"type checking multiple inheritance 6/8\");\r\n\tassert.throws(function () {\r\n\t\tm1.d.d2 = true;\r\n\t}, /TypeError[\\s\\S]*d2/, \"type checking multiple inheritance 7/8\");\r\n\tassert.throws(function () {\r\n\t\tm2.d.d2 = 1;\r\n\t}, /TypeError[\\s\\S]*d2/, \"type checking multiple inheritance 8/8\");\r\n\r\n\tA.defaults({\r\n\t\ta: false,\r\n\t\tb: false\r\n\t});\r\n\r\n\tB.defaults({\r\n\t\tb: 0,\r\n\t\tc: 0\r\n\t});\r\n\r\n\tC.defaults({\r\n\t\tc: \"\",\r\n\t\td: {\r\n\t\t\td1: false,\r\n\t\t\td2: false\r\n\t\t}\r\n\t});\r\n\r\n\tD.defaults({\r\n\t\ta: \"\",\r\n\t\td: {\r\n\t\t\td2: 0,\r\n\t\t\td3: 0\r\n\t\t}\r\n\t});\r\n\r\n\tM1 = A.extend(B, C, D);\r\n\tM2 = D.extend(C, B, A);\r\n\tm1 = M1();\r\n\tm2 = M2();\r\n\r\n\tassert.ok(m1.a === \"\" && m1.b === 0 && m1.c === \"\" && m1.d.d1 === false && m1.d.d2 === 0 && m1.d.d3 === 0, \"defaults checking multiple inheritance 1/2\");\r\n\tassert.ok(m2.a === false && m2.b === false && m2.c === 0 && m2.d.d1 === false && m2.d.d2 === false && m2.d.d3 === 0, \"defaults checking multiple inheritance 2/2\");\r\n\r\n\tfunction dummyAssert() {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tA.assert(dummyAssert);\r\n\tB.assert(dummyAssert);\r\n\tC.assert(dummyAssert);\r\n\tD.assert(dummyAssert);\r\n\r\n\tM1 = A.extend(B, C, D);\r\n\tM2 = D.extend(C, B, A);\r\n\tm1 = M1();\r\n\tm2 = M2();\r\n\r\n\tassert.ok(M1.assertions.length === 4, \"assertions checking multiple inheritance 1/2\");\r\n\tassert.ok(M2.assertions.length === 4, \"assertions checking multiple inheritance 2/2\");\r\n\r\n});\r\n\r\nQUnit.test(\"Composition\", function (assert) {\r\n\r\n\tconst Person = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\r\n\t\tname: String,\r\n\t\tage: [Number, Date],\r\n\t\tfemale: [Boolean],\r\n\t\taddress: {\r\n\t\t\twork: {\r\n\t\t\t\tcity: [String]\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst Family = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\r\n\t\tfather: Person,\r\n\t\tmother: Person.extend({female: true}),\r\n\t\tchildren: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])(Person),\r\n\t\tgrandparents: [__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"b\" /* ArrayModel */])(Person).assert(function (persons) {\r\n\t\t\treturn persons && persons.length <= 4\r\n\t\t})]\r\n\t});\r\n\r\n\tconst joe = Person({\r\n\t\tname: \"Joe\",\r\n\t\tage: 42,\r\n\t\tfemale: false\r\n\t});\r\n\r\n\r\n\tconst ann = new Person({\r\n\t\tfemale: true,\r\n\t\tage: joe.age - 5,\r\n\t\tname: joe.name + \"'s wife\"\r\n\t});\r\n\r\n\tlet joefamily = new Family({\r\n\t\tfather: joe,\r\n\t\tmother: ann,\r\n\t\tchildren: []\r\n\t});\r\n\r\n\tassert.ok(joefamily instanceof Family, \"joefamily instance of Family\");\r\n\tassert.ok(joefamily.father instanceof Person, \"father instanceof Person\");\r\n\tassert.ok(joefamily.mother instanceof Person, \"mother instanceof Person\");\r\n\r\n\tconst duckmother = {\r\n\t\tfemale: true,\r\n\t\tage: joe.age - 5,\r\n\t\tname: joe.name + \"'s wife\"\r\n\t};\r\n\r\n\tjoefamily = new Family({\r\n\t\tfather: joe,\r\n\t\tmother: duckmother,\r\n\t\tchildren: []\r\n\t});\r\n\r\n\tassert.ok(Person.test(duckmother), \"Duck typing for object properties 1/2\");\r\n\tassert.notOk(duckmother instanceof Person, \"Duck typing for object properties 2/2\");\r\n\r\n\tjoefamily.mother.name = \"Daisy\";\r\n\tassert.equal(joefamily.mother.name, \"Daisy\", \"Duck typing submodel property can be modified\");\r\n\tassert.throws(function () {\r\n\t\tjoefamily.mother.female = \"Quack !\";\r\n\t}, /TypeError[\\s\\S]*female/, \"validation of submodel duck typed at modification\");\r\n\r\n\tassert.throws(function () {\r\n\t\tnew Family({\r\n\t\t\tfather: joe,\r\n\t\t\tmother: {\r\n\t\t\t\tfemale: false,\r\n\t\t\t\tage: joe.age - 5,\r\n\t\t\t\tname: joe.name + \"'s wife\"\r\n\t\t\t},\r\n\t\t\tchildren: []\r\n\t\t});\r\n\t}, /TypeError[\\s\\S]*female/, \"validation of submodel duck typed at instanciation\");\r\n\r\n});\r\n\r\nQUnit.test(\"Object model Assertions\", function (assert) {\r\n\r\n\tconst NestedModel = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({foo: {bar: {baz: Boolean}}})\r\n\t\t.assert(o => o.foo.bar.baz === true);\r\n\r\n\tconst nestedModel = NestedModel({foo: {bar: {baz: true}}});\r\n\r\n\tassert.throws(function () {\r\n\t\tnestedModel.foo.bar.baz = false;\r\n\t}, /TypeError/, \"test assertion after nested property assignment\");\r\n\r\n\tfunction assertFail() {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfunction assertFailWithData() {\r\n\t\treturn -1;\r\n\t}\r\n\r\n\t__WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* BasicModel */].prototype.assert(assertFail, \"expected message without data\");\r\n\t__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */].prototype.assert(assertFailWithData, function (data) {\r\n\t\treturn \"expected message with data \" + data;\r\n\t});\r\n\r\n\tassert.equal(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* BasicModel */].prototype.assertions.length, 1, \"check number of assertions on BasicModel.prototype\")\r\n\tassert.equal(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */].prototype.assertions.length, 2, \"check number of assertions on ObjectModel.prototype\");\r\n\r\n\tconst M = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({a: String});\r\n\r\n\tassert.throws(function () {\r\n\t\tM({a: \"test\"})\r\n\t}, /TypeError/, \"expected message without data\");\r\n\r\n\tassert.throws(function () {\r\n\t\tM({a: \"test\"})\r\n\t}, /TypeError/, \"expected message with data -1\");\r\n\r\n\t// clean up global assertions\r\n\t__WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* BasicModel */].prototype.assertions = [];\r\n\tdelete __WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */].prototype.assertions;\r\n\r\n\tconst AssertObject = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({name: [String]})\r\n\t\t.assert((o => o.name.toLowerCase().length == o.name.length), \"may throw exception\");\r\n\r\n\tnew AssertObject({name: \"joe\"});\r\n\r\n\tassert.throws(function () {\r\n\t\t\tnew AssertObject({name: undefined});\r\n\t\t},\r\n\t\t/assertion \\\"may throw exception\\\" returned TypeError.*for value {\\s+name: undefined\\s+}/,\r\n\t\t\"assertions catch exceptions on Object models\");\r\n\r\n});\r\n\r\nQUnit.test(\"Object models validate method\", function (assert) {\r\n\r\n\tconst assertFunction = (c => c === \"GB\");\r\n\r\n\tassertFunction.toString = function () {\r\n\t\treturn \"expected assertFunction toString\";\r\n\t}\r\n\r\n\tconst Address = new __WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */]({\r\n\t\tcity: String,\r\n\t\tcountry: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"c\" /* BasicModel */])(String).assert(assertFunction, \"Country must be GB\")\r\n\t});\r\n\r\n\tconst gbAddress = {city: \"London\", country: \"GB\"};\r\n\tconst frAddress = {city: \"Paris\", country: \"FR\"};\r\n\r\n\tconst Order = new __WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */]({\r\n\t\tsku: String,\r\n\t\taddress: Address\r\n\t});\r\n\r\n\tconst gbOrder = {sku: \"ABC123\", address: gbAddress};\r\n\tconst frOrder = {sku: \"ABC123\", address: frAddress};\r\n\r\n\tOrder.validate(gbOrder); // no errors\r\n\tassert.throws(function () {\r\n\t\tOrder.validate(frOrder);\r\n\t}, \"should validate sub-objects assertions\");\r\n\r\n\tconst errors = [];\r\n\tOrder.validate(frOrder, function (err) {\r\n\t\terrors.push(...err);\r\n\t});\r\n\r\n\tassert.equal(errors.length, 1, \"should throw exactly one error here\")\r\n\tassert.equal(errors[0].expected, \"expected assertFunction toString\", \"check assertion error expected parameter\");\r\n\tassert.equal(errors[0].received, \"FR\", \"check assertion error received parameter\");\r\n\tassert.equal(errors[0].path, \"address.country\", \"check assertion error path parameter\");\r\n\tassert.equal(errors[0].message, 'assertion \"Country must be GB\" returned false for value \"FR\"', \"check assertion error message parameter\");\r\n\r\n});\r\n\r\nQUnit.test(\"Cyclic detection\", function(assert){\r\n\r\n\tlet A, B, a, b;\r\n\r\n\tA = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({ b: [] });\r\n\tB = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({ a: A });\r\n\tA.definition.b = [B];\r\n\r\n\ta = A();\r\n\tb = B({ a: a });\r\n\r\n\tassert.ok(a.b = b, \"valid cyclic value assignment\");\r\n\tassert.throws(function(){a.b = a; }, /TypeError/, \"invalid cyclic value assignment\");\r\n\r\n\tA = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({ b: [] });\r\n\tB = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({ a: A });\r\n\r\n\tA.definition.b = {\r\n\t\tc: {\r\n\t\t\td: [B]\r\n\t\t}\r\n\t};\r\n\r\n\ta = A();\r\n\tb = B({ a: a });\r\n\r\n\tassert.ok((a.b = { c: { d: b } }), \"valid deep cyclic value assignment\");\r\n\tassert.throws(function(){\r\n\t\ta.b = { c: { d: a } };\r\n\t}, /TypeError/, \"invalid deep cyclic value assignment\");\r\n\r\n\tconst Honey = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\r\n\t\tsweetie: [] // Sweetie is not yet defined\r\n\t});\r\n\r\n\tconst Sweetie = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\r\n\t\thoney: Honey\r\n\t});\r\n\r\n\tHoney.definition.sweetie = [Sweetie];\r\n\r\n\tconst joe = Honey({ sweetie: undefined }); // ann is not yet defined\r\n\tconst ann = Sweetie({ honey: joe });\r\n\tassert.ok(joe.sweetie = ann, \"website example valid assignment\");\r\n\tassert.throws(function(){ joe.sweetie = \"dog\" }, /TypeError/, \"website example invalid assignment 1\");\r\n\tassert.throws(function(){ joe.sweetie = joe }, /TypeError/, \"website example invalid assignment 2\");\r\n\r\n});\r\n\r\nQUnit.test(\"Custom error collectors for object models\", function (assert) {\r\n\r\n\tassert.expect(11);\r\n\r\n\tlet M = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\r\n\t\ta: {\r\n\t\t\tb: {\r\n\t\t\t\tc: true\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tM.errorCollector = function (errors) {\r\n\t\tassert.ok(errors.length === 1, \"check errors.length model collector\");\r\n\t\tvar err = errors[0];\r\n\t\tassert.equal(err.expected, true, \"check error.expected model collector\");\r\n\t\tassert.equal(err.received, false, \"check error.received model collector\");\r\n\t\tassert.equal(err.path, \"a.b.c\", \"check error.path model collector\");\r\n\t\tassert.equal(err.message, 'expecting a.b.c to be true, got Boolean false', \"check error message model collector\");\r\n\t}\r\n\r\n\tM({\r\n\t\ta: {\r\n\t\t\tb: {\r\n\t\t\t\tc: false\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({\r\n\t\td: {\r\n\t\t\te: {\r\n\t\t\t\tf: null\r\n\t\t\t}\r\n\t\t}\r\n\t}).validate({\r\n\t\td: {\r\n\t\t\te: {\r\n\t\t\t\tf: undefined\r\n\t\t\t}\r\n\t\t}\r\n\t}, function (errors) {\r\n\t\tassert.ok(errors.length === 1, \"check nested errors.length custom collector\");\r\n\t\tvar err = errors[0];\r\n\t\tassert.deepEqual(err.expected, null, \"check nested error.expected custom collector\");\r\n\t\tassert.deepEqual(err.received, undefined, \"check nested error.received custom collector\");\r\n\t\tassert.equal(err.path, \"d.e.f\", \"check nested error.path custom collector\");\r\n\t\tassert.equal(err.message, 'expecting d.e.f to be null, got undefined', \"check nested error.message custom collector\");\r\n\t})\r\n\r\n\tM = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({x: Number});\r\n\tM.errorCollector = function noop() {};\r\n\r\n\tassert.equal(M.test({x: \"nope\"}), false, \"model.test should work even when errorCollector does not throw exceptions\");\r\n\r\n});\r\n\r\nQUnit.test(\"Automatic model casting\", function (assert) {\r\n\r\n\tlet User = new __WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */]({username: String, email: String})\r\n\t\t.defaults({username: 'foo', email: 'foo@foo'});\r\n\r\n\tlet Article = new __WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */]({title: String, user: User})\r\n\t\t.defaults({title: 'bar', user: new User()});\r\n\r\n\tlet a = new Article();\r\n\ta.user = {username: 'joe', email: 'foo'};\r\n\r\n\tassert.ok(a.user instanceof User, \"automatic model casting when assigning a duck typed object\");\r\n\tassert.ok(a.user.username === \"joe\", \"preserved props after automatic model casting of duck typed object\");\r\n\r\n\tUser = new __WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */]({username: String, email: String})\r\n\t\t.defaults({username: 'foo', email: 'foo@foo'});\r\n\r\n\tArticle = new __WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */]({title: String, user: [User]})\r\n\t\t.defaults({title: 'bar', user: new User()});\r\n\r\n\ta = new Article();\r\n\ta.user = {username: 'joe', email: 'foo'};\r\n\r\n\tassert.ok(a.user instanceof User, \"automatic optional model casting when assigning a duck typed object\");\r\n\tassert.ok(a.user.username === \"joe\", \"preserved props after automatic optional model casting of duck typed object\");\r\n\r\n\r\n\tconst Type1 = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({ name: String, other1: [Boolean] });\r\n\tconst Type2 = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({ name: String, other2: [Number] });\r\n\tconst Container = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({ foo: { bar: [Type1, Type2] }});\r\n\r\n\tlet c = new Container({ foo: { bar: { name: \"dunno\" }}});\r\n\t__WEBPACK_IMPORTED_MODULE_1__mocks_console__[\"a\" /* default */].apply();\r\n\tc.foo.bar; //get ambiguous key\r\n\tassert.ok(/Ambiguous model for[\\s\\S]*?name: \"dunno\"[\\s\\S]*?other1: \\[Boolean\\][\\s\\S]*?other2: \\[Number]/\r\n\t\t\t.test(__WEBPACK_IMPORTED_MODULE_1__mocks_console__[\"a\" /* default */][\"warnLastArgs\"][0]),\r\n\t\t\"should warn about ambiguous model for object sub prop\"\r\n\t);\r\n\tassert.ok(c.foo.bar.name === \"dunno\", \"should preserve values even when ambiguous model cast\");\r\n\tassert.ok(!(c.foo.bar instanceof Type1 || c.foo.bar instanceof Type2), \"should not cast when ambiguous model\");\r\n\t__WEBPACK_IMPORTED_MODULE_1__mocks_console__[\"a\" /* default */].revert();\r\n\r\n\t__WEBPACK_IMPORTED_MODULE_1__mocks_console__[\"a\" /* default */].apply();\r\n\tc = new Container({ foo: { bar: Type2({ name: \"dunno\" }) }});\r\n\tassert.ok(__WEBPACK_IMPORTED_MODULE_1__mocks_console__[\"a\" /* default */][\"warnLastArgs\"].length === 0, \"should not warn when explicit model cast in ambiguous context\");\r\n\tassert.ok(c.foo.bar.name === \"dunno\", \"should preserve values when explicit model cast in ambiguous context\");\r\n\tassert.ok(c.foo.bar instanceof Type2, \"should preserve model when explicit cast in ambiguous context\");\r\n\t__WEBPACK_IMPORTED_MODULE_1__mocks_console__[\"a\" /* default */].revert();\r\n\r\n})\r\n\r\nQUnit.test(\"ObjectModel delete trap\", function (assert) {\r\n\r\n\tconst M = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({ _p: Boolean, C: Number, u: undefined, n: null, x: [Boolean] })\r\n\tconst m = M({ _p: true, C: 42, u: undefined, n: null, x: false })\r\n\r\n\tassert.throws(function(){ delete m._p }, /TypeError.*private/, \"cannot delete private prop\");\r\n\tassert.throws(function(){ delete m.C }, /TypeError.*constant/, \"cannot delete constant prop\");\r\n\tdelete m.u; // can delete undefined properties\r\n\tassert.throws(function(){ delete m.n }, /TypeError.*expecting n to be null, got undefined/, \"delete should differenciate null and undefined\");\r\n\tdelete m.x // can delete optional properties\r\n\tassert.throws(function(){ delete m.undefined }, /TypeError.*cannot find property/, \"cannot delete property out of model definition\");\r\n\r\n})\r\n\r\nQUnit.test(\"ObjectModel defineProperty trap\", function (assert) {\r\n\r\n\tconst M = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({ _p: Boolean, C: Number, u: undefined, n: null, x: [Boolean] })\r\n\tconst m = M({ _p: true, C: 42, u: undefined, n: null, x: false })\r\n\r\n\tassert.throws(function(){ Object.defineProperty(m, \"_p\", { value: true }) }, /TypeError.*private/, \"cannot define private prop\");\r\n\tassert.throws(function(){ Object.defineProperty(m, \"C\", { value: 43 })}, /TypeError.*constant/, \"cannot define constant prop\");\r\n\tassert.throws(function(){ Object.defineProperty(m, \"u\", { value: \"test\" })}, /TypeError.*expecting u to be undefined/, \"check type after defineProperty\");\r\n\tassert.throws(function(){ Object.defineProperty(m, \"n\", { value: undefined }) }, /TypeError.*expecting n to be null, got undefined/, \"defineProperty should differenciate null and undefined\");\r\n\tObject.defineProperty(m, \"x\", { value: undefined }) // can define optional properties\r\n\tassert.throws(function(){ Object.defineProperty(m, \"undefined\", { value: \"test\" }) }, /TypeError.*cannot find property/, \"cannot define property out of model definition\");\r\n\r\n})\r\n\r\nQUnit.test(\"ObjectModel ownKeys/has trap\", function (assert) {\r\n\r\n\tconst A = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({ _pa: Boolean, a: Boolean })\r\n\tconst B = A.extend({ _pb: Boolean, b: Boolean })\r\n\tconst m = B({ _pa: true, _pb: true, a: true, b: true })\r\n\tB.prototype.B = true;\r\n\tB.prototype._PB = true;\r\n\tA.prototype.A = true;\r\n\tA.prototype._PA = true;\r\n\r\n\tassert.equal(\"a\" in m, true)\r\n\tassert.equal(\"b\" in m, true)\r\n\tassert.equal(\"toString\" in m, true)\r\n\r\n\tassert.equal(\"A\" in m, false)\r\n\tassert.equal(\"B\" in m, false)\r\n\tassert.equal(\"_pa\" in m, false)\r\n\tassert.equal(\"_pb\" in m, false)\r\n\tassert.equal(\"_PA\" in m, false)\r\n\tassert.equal(\"_PB\" in m, false)\r\n\tassert.equal(\"unknown\" in m, false)\r\n\r\n\tconst oKeys = Object.keys(m);\r\n\r\n\tconst ownKeys = Object.getOwnPropertyNames(m);\r\n\r\n\tassert.equal(oKeys.sort().join(\",\"), \"a,b\")\r\n\tassert.equal(ownKeys.sort().join(\",\"), \"a,b\")\r\n})\r\n\r\nQUnit.test(\"ObjectModel constructors\", function (assert) {\r\n\r\n\tclass User extends __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({ firstName: String, lastName: String, fullName: String }){\r\n\t\tconstructor({ firstName, lastName }){\r\n\t\t\tconst fullName = `${firstName} ${lastName}`\r\n\t\t\tsuper({ firstName, lastName, fullName })\r\n\t\t}\r\n\t}\r\n\r\n\tassert.equal((new User({ firstName: \"John\", lastName: \"Smith\" })).fullName, \"John Smith\",\r\n\t\t\"check es6 class constructor\")\r\n\r\n\tconst Bill = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__src_index__[\"a\" /* ObjectModel */])({ unitPrice: Number, quantity: Number, total: Number });\r\n\tBill.constructor = function({ unitPrice, quantity }) { this.total = unitPrice * quantity }\r\n\r\n\tassert.equal((new Bill({ unitPrice: 2.50, quantity: 4 })).total, 10,\r\n\t\t\"check constructor method\")\r\n\r\n})//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3Rlc3Qvb2JqZWN0LW1vZGVsLnNwZWMuanM/YmI5YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge09iamVjdE1vZGVsLCBCYXNpY01vZGVsLCBBcnJheU1vZGVsfSBmcm9tIFwiLi4vc3JjL2luZGV4XCI7XHJcbmltcG9ydCBjb25zb2xlTW9jayBmcm9tIFwiLi9tb2Nrcy9jb25zb2xlXCI7XHJcblxyXG5RVW5pdC5tb2R1bGUoXCJPYmplY3QgTW9kZWxzXCIpO1xyXG5cclxuUVVuaXQudGVzdChcIk9iamVjdCBtb2RlbCBjb25zdHJ1Y3RvciAmJiBwcm90b1wiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XHJcblxyXG5cdGFzc2VydC5vayhPYmplY3RNb2RlbCBpbnN0YW5jZW9mIEZ1bmN0aW9uLCBcIk9iamVjdE1vZGVsIGluc3RhbmNlb2YgRnVuY3Rpb25cIik7XHJcblxyXG5cdGNvbnN0IEVtcHR5T2JqZWN0TW9kZWwgPSBPYmplY3RNb2RlbCh7fSk7XHJcblxyXG5cdGFzc2VydC5vayh0eXBlb2YgRW1wdHlPYmplY3RNb2RlbC5leHRlbmQgPT09IFwiZnVuY3Rpb25cIiwgXCJ0ZXN0IG9iamVjdCBtb2RlbCBtZXRob2QgZXh0ZW5kXCIpO1xyXG5cdGFzc2VydC5vayh0eXBlb2YgRW1wdHlPYmplY3RNb2RlbC5hc3NlcnQgPT09IFwiZnVuY3Rpb25cIiwgXCJ0ZXN0IG9iamVjdCBtb2RlbCBtZXRob2QgYXNzZXJ0XCIpO1xyXG5cdGFzc2VydC5vayh0eXBlb2YgRW1wdHlPYmplY3RNb2RlbC50ZXN0ID09PSBcImZ1bmN0aW9uXCIsIFwidGVzdCBvYmplY3QgbW9kZWwgbWV0aG9kIHRlc3RcIik7XHJcblx0YXNzZXJ0Lm9rKHR5cGVvZiBFbXB0eU9iamVjdE1vZGVsLnZhbGlkYXRlID09PSBcImZ1bmN0aW9uXCIsIFwidGVzdCBvYmplY3QgbW9kZWwgbWV0aG9kIHZhbGlkYXRlXCIpO1xyXG5cdGFzc2VydC5vayh0eXBlb2YgRW1wdHlPYmplY3RNb2RlbC5kZWZpbml0aW9uID09PSBcIm9iamVjdFwiLCBcInRlc3Qgb2JqZWN0IG1vZGVsIHByb3AgZGVmaW5pdGlvblwiKTtcclxuXHRhc3NlcnQub2sodHlwZW9mIEVtcHR5T2JqZWN0TW9kZWwuYXNzZXJ0aW9ucyA9PT0gXCJvYmplY3RcIiwgXCJ0ZXN0IG9iamVjdCBtb2RlbCBwcm9wIGFzc2VydGlvbnNcIik7XHJcblxyXG5cdGNvbnN0IEVtcHR5T2JqZWN0TW9kZWxUaHJvdWdoQ29uc3RydWN0b3IgPSBuZXcgT2JqZWN0TW9kZWwoe30pO1xyXG5cclxuXHRhc3NlcnQub2sodHlwZW9mIEVtcHR5T2JqZWN0TW9kZWxUaHJvdWdoQ29uc3RydWN0b3IuZXh0ZW5kID09PSBcImZ1bmN0aW9uXCIsIFwidGVzdCBuZXcgbW9kZWwgbWV0aG9kIGV4dGVuZFwiKTtcclxuXHRhc3NlcnQub2sodHlwZW9mIEVtcHR5T2JqZWN0TW9kZWxUaHJvdWdoQ29uc3RydWN0b3IuYXNzZXJ0ID09PSBcImZ1bmN0aW9uXCIsIFwidGVzdCBuZXcgbW9kZWwgbWV0aG9kIGFzc2VydFwiKTtcclxuXHRhc3NlcnQub2sodHlwZW9mIEVtcHR5T2JqZWN0TW9kZWxUaHJvdWdoQ29uc3RydWN0b3IudGVzdCA9PT0gXCJmdW5jdGlvblwiLCBcInRlc3QgbmV3IG1vZGVsIG1ldGhvZCB0ZXN0XCIpO1xyXG5cdGFzc2VydC5vayh0eXBlb2YgRW1wdHlPYmplY3RNb2RlbFRocm91Z2hDb25zdHJ1Y3Rvci52YWxpZGF0ZSA9PT0gXCJmdW5jdGlvblwiLCBcInRlc3QgbmV3IG1vZGVsIG1ldGhvZCB2YWxpZGF0ZVwiKTtcclxuXHRhc3NlcnQub2sodHlwZW9mIEVtcHR5T2JqZWN0TW9kZWxUaHJvdWdoQ29uc3RydWN0b3IuZGVmaW5pdGlvbiA9PT0gXCJvYmplY3RcIiwgXCJ0ZXN0IG5ldyBtb2RlbCBwcm9wIGRlZmluaXRpb25cIik7XHJcblx0YXNzZXJ0Lm9rKHR5cGVvZiBFbXB0eU9iamVjdE1vZGVsVGhyb3VnaENvbnN0cnVjdG9yLmFzc2VydGlvbnMgPT09IFwib2JqZWN0XCIsIFwidGVzdCBuZXcgbW9kZWwgcHJvcCBhc3NlcnRpb25zXCIpO1xyXG59KVxyXG5cclxuUVVuaXQudGVzdChcIk9iamVjdCBtb2RlbCBiZWhhdmlvdXIgZm9yIHByb3BlcnRpZXNcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xyXG5cdHZhciBQZXJzb24gPSBPYmplY3RNb2RlbCh7XHJcblx0XHRuYW1lOiBTdHJpbmcsXHJcblx0XHRhZ2U6IE51bWJlcixcclxuXHRcdGJpcnRoOiBEYXRlLFxyXG5cdFx0ZmVtYWxlOiBbQm9vbGVhbl0sXHJcblx0XHRhZGRyZXNzOiB7XHJcblx0XHRcdHdvcms6IHtcclxuXHRcdFx0XHRjaXR5OiBbU3RyaW5nXVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdHZhciBqb2UgPSBQZXJzb24oe1xyXG5cdFx0bmFtZTogXCJKb2VcIixcclxuXHRcdGFnZTogNDIsXHJcblx0XHRiaXJ0aDogbmV3IERhdGUoMTk5MCwgMywgMjUpLFxyXG5cdFx0ZmVtYWxlOiBmYWxzZSxcclxuXHRcdGFkZHJlc3M6IHtcclxuXHRcdFx0d29yazoge1xyXG5cdFx0XHRcdGNpdHk6IFwiTGlsbGVcIlxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdGFzc2VydC5zdHJpY3RFcXVhbChqb2UubmFtZSwgXCJKb2VcIiwgXCJTdHJpbmcgcHJvcGVydHkgcmV0cmlldmVkXCIpO1xyXG5cdGFzc2VydC5zdHJpY3RFcXVhbChqb2UuYWdlLCA0MiwgXCJOdW1iZXIgcHJvcGVydHkgcmV0cmlldmVkXCIpO1xyXG5cdGFzc2VydC5zdHJpY3RFcXVhbChqb2UuZmVtYWxlLCBmYWxzZSwgXCJCb29sZWFuIHByb3BlcnR5IHJldHJpZXZlZFwiKTtcclxuXHRhc3NlcnQuZXF1YWwoK2pvZS5iaXJ0aCwgKyhuZXcgRGF0ZSgxOTkwLCAzLCAyNSkpLCBcIkRhdGUgcHJvcGVydHkgcmV0cmlldmVkXCIpO1xyXG5cdGFzc2VydC5zdHJpY3RFcXVhbChqb2UuYWRkcmVzcy53b3JrLmNpdHksIFwiTGlsbGVcIiwgXCJuZXN0ZWQgcHJvcGVydHkgcmV0cmlldmVkXCIpO1xyXG5cdGFzc2VydC5vayhqb2UgaW5zdGFuY2VvZiBQZXJzb24gJiYgam9lIGluc3RhbmNlb2YgT2JqZWN0LCBcImluc3RhbmNlIGlzIGluc3RhbmNlb2YgbW9kZWwgYW5kIE9iamVjdFwiKTtcclxuXHRhc3NlcnQub2soUGVyc29uIGluc3RhbmNlb2YgT2JqZWN0TW9kZWwsIFwibW9kZWwgaXMgaW5zdGFuY2VvZiBPYmplY3RNb2RlbFwiKTtcclxuXHJcblx0am9lLm5hbWUgPSBcIkJpZyBKb2VcIjtcclxuXHRqb2UuYWdlKys7XHJcblx0am9lLmJpcnRoID0gbmV3IERhdGUoMTk5MCwgMywgMjYpO1xyXG5cdGRlbGV0ZSBqb2UuZmVtYWxlO1xyXG5cclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdGpvZS5uYW1lID0gNDI7XHJcblx0fSwgL1R5cGVFcnJvci4qZ290IE51bWJlciA0Mi8sIFwiaW52YWxpZCBOdW1iZXIgc2V0XCIpO1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0am9lLmFnZSA9IHRydWU7XHJcblx0fSwgL1R5cGVFcnJvci4qZ290IEJvb2xlYW4gdHJ1ZS8sIFwiaW52YWxpZCBCb29sZWFuIHNldFwiKTtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdGpvZS5iaXJ0aCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdH07XHJcblx0fSwgL1R5cGVFcnJvci4qZ290IEZ1bmN0aW9uLywgXCJpbnZhbGlkIEZ1bmN0aW9uIHNldFwiKTtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdGpvZS5mZW1hbGUgPSBcIm5vcGVcIjtcclxuXHR9LCAvVHlwZUVycm9yLipnb3QgU3RyaW5nIFwibm9wZVwiLywgXCJpbnZhbGlkIFN0cmluZyBzZXRcIik7XHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRqb2UuYWRkcmVzcy53b3JrLmNpdHkgPSBbXTtcclxuXHR9LCAvVHlwZUVycm9yLipnb3QgQXJyYXkvLCBcImludmFsaWQgQXJyYXkgc2V0XCIpO1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0am9lLmFkZHJlc3Mud29yayA9IHtjaXR5OiA0Mn07XHJcblx0fSwgL1R5cGVFcnJvci4qZ290IE51bWJlciA0Mi8sIFwiaW52YWxpZCBPYmplY3Qgc2V0XCIpO1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRqb2UgPSBQZXJzb24oe1xyXG5cdFx0XHRcdG5hbWU6IFwiSm9lXCIsXHJcblx0XHRcdFx0YWdlOiA0MixcclxuXHRcdFx0XHRiaXJ0aDogbmV3IERhdGUoMTk5MCwgMywgMjUpLFxyXG5cdFx0XHRcdGZlbWFsZTogXCJmYWxzZVwiXHJcblx0XHRcdH0pO1xyXG5cdFx0fSwgL1R5cGVFcnJvci4qZXhwZWN0aW5nIGZlbWFsZSB0byBiZSBCb29sZWFuLipnb3QgU3RyaW5nIFwiZmFsc2VcIi8sXHJcblx0XHRcImludmFsaWQgcHJvcCBhdCBvYmplY3QgbW9kZWwgaW5zdGFuY2lhdGlvblwiXHJcblx0KTtcclxuXHJcblx0am9lID0gUGVyc29uKHtcclxuXHRcdG5hbWU6IFwiSm9lXCIsXHJcblx0XHRhZ2U6IDQyLFxyXG5cdFx0YmlydGg6IG5ldyBEYXRlKDE5OTAsIDMsIDI1KSxcclxuXHRcdGZlbWFsZTogZmFsc2UsXHJcblx0XHRhZGRyZXNzOiB7XHJcblx0XHRcdHdvcms6IHtcclxuXHRcdFx0XHRjaXR5OiBcIkxpbGxlXCJcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdGpvYjogXCJUYXhpXCJcclxuXHR9KTtcclxuXHJcblx0YXNzZXJ0LnN0cmljdEVxdWFsKGpvZS5qb2IsIFwiVGF4aVwiLCBcIlByb3BlcnRpZXMgb3V0IG9mIG1vZGVsIGRlZmluaXRpb24gYXJlIGtlcHQgYnV0IGFyZSBub3QgdmFsaWRhdGVkXCIpO1xyXG5cclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdFBlcnNvbih7XHJcblx0XHRcdG5hbWU6IGZhbHNlLFxyXG5cdFx0XHRhZ2U6IFs0Ml0sXHJcblx0XHRcdGJpcnRoOiBcIm5vcGVcIixcclxuXHRcdFx0ZmVtYWxlOiBudWxsLFxyXG5cdFx0XHRhZGRyZXNzOiB7XHJcblx0XHRcdFx0d29yazoge1xyXG5cdFx0XHRcdFx0Y2l0eTogdHJ1ZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fSwgZnVuY3Rpb24gKGVycikge1xyXG5cdFx0cmV0dXJuIC9UeXBlRXJyb3IvLnRlc3QoZXJyLnRvU3RyaW5nKCkpXHJcblx0XHRcdCYmIC9uYW1lLy50ZXN0KGVyci50b1N0cmluZygpKVxyXG5cdFx0XHQmJiAvYWdlLy50ZXN0KGVyci50b1N0cmluZygpKVxyXG5cdFx0XHQmJiAvYmlydGgvLnRlc3QoZXJyLnRvU3RyaW5nKCkpXHJcblx0XHRcdCYmIC9jaXR5Ly50ZXN0KGVyci50b1N0cmluZygpKVxyXG5cdH0sIFwiY2hlY2sgdGhhdCBlcnJvcnMgYXJlIGNvcnJlY3RseSBzdGFja2VkXCIpO1xyXG59KTtcclxuXHJcblFVbml0LnRlc3QoXCJPYmplY3RNb2RlbCBlZGdlIGNhc2VzIG9mIGNvbnN0cnVjdG9yc1wiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XHJcblx0YXNzZXJ0Lm9rKE9iamVjdE1vZGVsKHt9KSBpbnN0YW5jZW9mIE9iamVjdE1vZGVsLCBcIk9iamVjdE1vZGVsIGNhbiByZWNlaXZlIGVtcHR5IG9iamVjdCBhcyBhcmd1bWVudFwiKTtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdE9iamVjdE1vZGVsKClcclxuXHR9LCAvRXJyb3IuKk1vZGVsIGRlZmluaXRpb24gaXMgcmVxdWlyZWQvLCBcIk9iamVjdE1vZGVsIHdpdGhvdXQgZGVmaW5pdGlvbiB0aHJvd3NcIilcclxuXHJcblx0LyogLy9UT0RPXHJcblx0IGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdCBPYmplY3RNb2RlbCh1bmRlZmluZWQpXHJcblx0IH0sIC9leHBlY3RpbmcgYXJndW1lbnRzXFxbMF0gdG8gYmUgT2JqZWN0LCBnb3QgdW5kZWZpbmVkLyxcclxuXHQgXCJPYmplY3RNb2RlbCB3aXRoIGRlZmluaXRpb24gdW5kZWZpbmVkIHRocm93c1wiKVxyXG5cclxuXHQgYXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0IE9iamVjdE1vZGVsKDQyKVxyXG5cdCB9LCAvZXhwZWN0aW5nIGFyZ3VtZW50c1xcWzBdIHRvIGJlIE9iamVjdCwgZ290IE51bWJlciA0Mi8sXHJcblx0IFwiT2JqZWN0TW9kZWwgd2l0aCBkZWZpbml0aW9uIHByaW1pdGl2ZSB0aHJvd3NcIilcclxuXHQgKi9cclxufSk7XHJcblxyXG5RVW5pdC50ZXN0KFwiT2JqZWN0TW9kZWwgd2l0aCBvcHRpb25hbCBhbmQgbXVsdGlwbGUgcGFyYW1ldGVyc1wiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XHJcblx0dmFyIFBlcnNvbiA9IE9iamVjdE1vZGVsKHtcclxuXHRcdG5hbWU6IFtTdHJpbmddLFxyXG5cdFx0YWdlOiBbTnVtYmVyLCBEYXRlLCBTdHJpbmcsIEJvb2xlYW4sIHVuZGVmaW5lZF0sXHJcblx0XHRmZW1hbGU6IFtCb29sZWFuLCBOdW1iZXIsIFN0cmluZywgbnVsbF0sXHJcblx0XHRoYWlyY29sb3I6IFtcImJsb25kXCIsIFwiYnJvd25cIiwgXCJibGFja1wiLCB1bmRlZmluZWRdLFxyXG5cdFx0YWRkcmVzczoge1xyXG5cdFx0XHR3b3JrOiB7XHJcblx0XHRcdFx0Y2l0eTogW1N0cmluZ11cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHR2YXIgam9lID0gUGVyc29uKHtmZW1hbGU6IGZhbHNlfSk7XHJcblx0YXNzZXJ0Lm9rKGpvZSBpbnN0YW5jZW9mIFBlcnNvbiwgXCJpbnN0YW5jZW9mIG1vZGVsIHRlc3RcIik7XHJcblx0am9lLm5hbWUgPSBcImpvZVwiO1xyXG5cdGpvZS5uYW1lID0gdW5kZWZpbmVkO1xyXG5cdGpvZS5uYW1lID0gbnVsbDtcclxuXHRqb2UuYWdlICA9IG5ldyBEYXRlKDE5OTUsIDEsIDIzKTtcclxuXHRqb2UuYWdlICA9IHVuZGVmaW5lZDtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdGpvZS5hZ2UgPSBudWxsO1xyXG5cdH0sIC9UeXBlRXJyb3IuKmdvdCBudWxsLywgXCJpbnZhbGlkIHNldCBudWxsXCIpO1xyXG5cdGpvZS5mZW1hbGUgPSBcImFublwiO1xyXG5cdGpvZS5mZW1hbGUgPSAyO1xyXG5cdGpvZS5mZW1hbGUgPSBmYWxzZTtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdGpvZS5mZW1hbGUgPSB1bmRlZmluZWQ7XHJcblx0fSwgL1R5cGVFcnJvci4qZ290IHVuZGVmaW5lZC8sIFwiaW52YWxpZCBzZXQgdW5kZWZpbmVkXCIpO1xyXG5cdGpvZS5hZGRyZXNzLndvcmsuY2l0eSA9IFwiTGlsbGVcIjtcclxuXHRqb2UuYWRkcmVzcy53b3JrLmNpdHkgPSB1bmRlZmluZWQ7XHJcblx0am9lLmhhaXJjb2xvciAgICAgICAgID0gXCJibG9uZFwiO1xyXG5cdGpvZS5oYWlyY29sb3IgICAgICAgICA9IHVuZGVmaW5lZDtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdGpvZS5uYW1lID0gZmFsc2U7XHJcblx0fSwgL1R5cGVFcnJvci4qZXhwZWN0aW5nIG5hbWUgdG8gYmUgU3RyaW5nLipnb3QgQm9vbGVhbiBmYWxzZS8sIFwiaW52YWxpZCB0eXBlIGZvciBvcHRpb25hbCBwcm9wXCIpO1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0am9lLmFnZSA9IG51bGw7XHJcblx0fSwgL1R5cGVFcnJvci4qZXhwZWN0aW5nIGFnZSB0byBiZSBOdW1iZXIgb3IgRGF0ZSBvciBTdHJpbmcgb3IgQm9vbGVhbiBvciB1bmRlZmluZWQvLCBcImludmFsaWQgc2V0IG51bGwgZm9yIG9wdGlvbmFsIHVuaW9uIHR5cGUgcHJvcFwiKTtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdGpvZS5hZ2UgPSBbXTtcclxuXHR9LCAvVHlwZUVycm9yLipnb3QgQXJyYXkvLCBcImludmFsaWQgc2V0IGFycmF5IGZvciBvcHRpb25hbCB1bmlvbiB0eXBlIHByb3BcIik7XHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRqb2UuYWRkcmVzcy53b3JrLmNpdHkgPSAwO1xyXG5cdH0sIC9UeXBlRXJyb3IuKmV4cGVjdGluZyBhZGRyZXNzLndvcmsuY2l0eSB0byBiZSBTdHJpbmcuKmdvdCBOdW1iZXIgMC8sIFwiaW52YWxpZCB0eXBlIGZvciBuZXN0ZWQgb3B0aW9uYWwgcHJvcFwiKTtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdGpvZS5oYWlyY29sb3IgPSBcIlwiO1xyXG5cdH0sIC9UeXBlRXJyb3IuKmV4cGVjdGluZyBoYWlyY29sb3IgdG8gYmUgXCJibG9uZFwiIG9yIFwiYnJvd25cIiBvciBcImJsYWNrXCIgb3IgdW5kZWZpbmVkLCBnb3QgU3RyaW5nIFwiXCIvLCBcImludmFsaWQgdHlwZSBmb3IgdmFsdWUgZW51bSBwcm9wXCIpO1xyXG5cclxufSk7XHJcblxyXG5RVW5pdC50ZXN0KFwiT2JqZWN0TW9kZWwgd2l0aCBmaXhlZCB2YWx1ZXNcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xyXG5cdHZhciBteU1vZGVsID0gT2JqZWN0TW9kZWwoe1xyXG5cdFx0YTogWzEsIDIsIDNdLFxyXG5cdFx0YjogNDIsXHJcblx0XHRjOiBbXCJcIiwgZmFsc2UsIG51bGwsIDBdLFxyXG5cdFx0aGFpcmNvbG9yOiBbXCJibG9uZFwiLCBcImJyb3duXCIsIFwiYmxhY2tcIl0sXHJcblx0XHRmb286IFwiYmFyXCIsXHJcblx0XHR4OiBbTnVtYmVyLCB0cnVlXVxyXG5cdH0pO1xyXG5cclxuXHR2YXIgbW9kZWwgPSBteU1vZGVsKHtcclxuXHRcdGE6IDEsXHJcblx0XHRiOiA0MixcclxuXHRcdGM6IDAsXHJcblx0XHRoYWlyY29sb3I6IFwiYmxvbmRcIixcclxuXHRcdGZvbzogXCJiYXJcIixcclxuXHRcdHg6IHRydWVcclxuXHR9KTtcclxuXHJcblx0bW9kZWwueCAgICAgICAgID0gNjY2O1xyXG5cdG1vZGVsLmhhaXJjb2xvciA9IFwiYnJvd25cIjtcclxuXHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRtb2RlbC5hID0gNDtcclxuXHR9LCAvVHlwZUVycm9yLipleHBlY3RpbmcgYSB0byBiZSAxIG9yIDIgb3IgMy4qZ290IE51bWJlciA0LywgJ2ludmFsaWQgc2V0IG9uIHZhbHVlcyBlbnVtIDEvMicpO1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0bW9kZWwuYiA9IDQzO1xyXG5cdH0sIC9UeXBlRXJyb3IuKmV4cGVjdGluZyBiIHRvIGJlIDQyLipnb3QgTnVtYmVyIDQzLywgXCJpbnZhbGlkIHNldCBvbiBmaXhlZCB2YWx1ZSAxLzJcIik7XHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRtb2RlbC5jID0gdW5kZWZpbmVkO1xyXG5cdH0sIC9UeXBlRXJyb3IuKmV4cGVjdGluZyBjIHRvIGJlIFwiXCIgb3IgZmFsc2Ugb3IgbnVsbCBvciAwLipnb3QgdW5kZWZpbmVkLywgXCJpbnZhbGlkIHNldCB1bmRlZmluZWQgb24gbWl4ZWQgdHlwZWQgdmFsdWVzIGVudW1cIik7XHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRtb2RlbC5oYWlyY29sb3IgPSBcInJvdXhcIjtcclxuXHR9LCAvVHlwZUVycm9yLipleHBlY3RpbmcgaGFpcmNvbG9yIHRvIGJlIFwiYmxvbmRcIiBvciBcImJyb3duXCIgb3IgXCJibGFja1wiLipnb3QgU3RyaW5nIFwicm91eFwiLywgJ2ludmFsaWQgc2V0IG9uIHZhbHVlcyBlbnVtIDIvMicpO1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0bW9kZWwuZm9vID0gXCJiYXpcIjtcclxuXHR9LCAvVHlwZUVycm9yLipleHBlY3RpbmcgZm9vIHRvIGJlIFwiYmFyXCIuKmdvdCBTdHJpbmcgXCJiYXpcIi8sIFwiaW52YWxpZCBzZXQgb24gZml4ZWQgdmFsdWUgMi8yXCIpO1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0bW9kZWwueCA9IGZhbHNlO1xyXG5cdH0sIC9UeXBlRXJyb3IuKmV4cGVjdGluZyB4IHRvIGJlIE51bWJlciBvciB0cnVlLipnb3QgQm9vbGVhbiBmYWxzZS8sIFwiaW52YWxpZCBzZXQgb24gbWl4ZWQgdHlwZS92YWx1ZXMgZW51bVwiKTtcclxuXHJcbn0pO1xyXG5cclxuUVVuaXQudGVzdChcIk9iamVjdCBtb2RlbCBkZWZhdWx0IHZhbHVlc1wiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XHJcblxyXG5cdGNvbnN0IG15TW9kZWwgPSBuZXcgT2JqZWN0TW9kZWwoe1xyXG5cdFx0bmFtZTogU3RyaW5nLFxyXG5cdFx0Zm9vOiB7XHJcblx0XHRcdGJhcjoge1xyXG5cdFx0XHRcdGJ1ejogTnVtYmVyXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KS5kZWZhdWx0cyh7XHJcblx0XHRuYW1lOiBcImpvZVwiLFxyXG5cdFx0Zm9vOiB7XHJcblx0XHRcdGJhcjoge1xyXG5cdFx0XHRcdGJ1ejogMFxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdGNvbnN0IG1vZGVsID0gbXlNb2RlbCgpO1xyXG5cdGFzc2VydC5zdHJpY3RFcXVhbChtb2RlbC5uYW1lLCBcImpvZVwiLCBcImRlZmF1bHRzIHZhbHVlcyBjb3JyZWN0bHkgYXBwbGllZFwiKTtcclxuXHRhc3NlcnQuc3RyaWN0RXF1YWwobW9kZWwuZm9vLmJhci5idXosIDAsIFwiZGVmYXVsdHMgbmVzdGVkIHByb3BzIHZhbHVlcyBjb3JyZWN0bHkgYXBwbGllZFwiKTtcclxuXHRhc3NlcnQub2sobXlNb2RlbC50ZXN0KHt9KSwgXCJkZWZhdWx0cyBzaG91bGQgYmUgYXBwbGllZCB3aGVuIHRlc3RpbmcgZHVjayB0eXBlZCBvYmplY3RzXCIpXHJcblxyXG5cdGNvbnN0IG1vZGVsMiA9IG15TW9kZWwoe25hbWU6IFwiamltXCIsIGZvbzoge2Jhcjoge2J1ejogMX19fSk7XHJcblx0YXNzZXJ0LnN0cmljdEVxdWFsKG1vZGVsMi5uYW1lLCBcImppbVwiLCBcImRlZmF1bHRzIHZhbHVlcyBub3QgYXBwbGllZCBpZiBwcm92aWRlZFwiKTtcclxuXHRhc3NlcnQuc3RyaWN0RXF1YWwobW9kZWwyLmZvby5iYXIuYnV6LCAxLCBcImRlZmF1bHRzIG5lc3RlZCBwcm9wcyB2YWx1ZXMgbm90IGFwcGxpZWQgaWYgcHJvdmlkZWRcIik7XHJcblxyXG59KTtcclxuXHJcblFVbml0LnRlc3QoXCJPYmplY3QgbW9kZWwgZGVmYXVsdFRvIHdpdGggZGVmYXVsdHNcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xyXG5cclxuXHRjb25zdCBteU1vZGVsID0gbmV3IE9iamVjdE1vZGVsKHt4OiBOdW1iZXIsIHk6IFN0cmluZ30pXHJcblx0XHQuZGVmYXVsdFRvKHt4OiA0Mn0pXHJcblx0XHQuZGVmYXVsdHMoe3k6IFwiaGVsbG9cIn0pXHJcblxyXG5cdGFzc2VydC5zdHJpY3RFcXVhbChteU1vZGVsLmRlZmF1bHQueCwgNDIsIFwib2JqZWN0IG1vZGVsIGRlZmF1bHRUbyBzdG9yZSB0aGUgdmFsdWUgYXMgZGVmYXVsdCBwcm9wZXJ0eVwiKVxyXG5cdGFzc2VydC5zdHJpY3RFcXVhbChteU1vZGVsLnByb3RvdHlwZS55LCBcImhlbGxvXCIsIFwib2JqZWN0IG1vZGVsIGRlZmF1bHRzIHN0b3JlIHZhbHVlcyB0byBwcm90b1wiKVxyXG5cdGFzc2VydC5zdHJpY3RFcXVhbChteU1vZGVsKCkueCwgNDIsIFwib2JqZWN0IG1vZGVsIGRlZmF1bHQgcHJvcGVydHkgaXMgYXBwbGllZCB3aGVuIHVuZGVmaW5lZCBpcyBwYXNzZWRcIik7XHJcblx0YXNzZXJ0LnN0cmljdEVxdWFsKG15TW9kZWwoKS55LCBcImhlbGxvXCIsIFwiZGVmYXVsdGVkIG9iamVjdCBtb2RlbCBzdGlsbCBpbmhlcml0IGZyb20gbW9kZWwgcHJvdG9cIik7XHJcblx0YXNzZXJ0LnN0cmljdEVxdWFsKG15TW9kZWwuZGVmYXVsdC55LCB1bmRlZmluZWQsIFwib2JqZWN0IG1vZGVsIGRlZmF1bHQgdmFsdWUgaXRzZWxmIGRvZXMgbm90IGluaGVyaXQgZnJvbSBmcm9tIG1vZGVsIHByb3RvXCIpO1xyXG5cclxuXHRteU1vZGVsLmRlZmF1bHQueCA9IFwibm9wZVwiO1xyXG5cclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdG15TW9kZWwoKVxyXG5cdH0sIC9UeXBlRXJyb3IuKmdvdCBTdHJpbmcgXCJub3BlXCIvLCBcImludmFsaWQgZGVmYXVsdCBwcm9wZXJ0eSBzdGlsbCB0aHJvd3MgVHlwZUVycm9yIGZvciBvYmplY3QgbW9kZWxzXCIpO1xyXG5cclxufSk7XHJcblxyXG5RVW5pdC50ZXN0KFwiUmVnRXhwIHZhbHVlc1wiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XHJcblxyXG5cdGNvbnN0IG15TW9kZWwgPSBPYmplY3RNb2RlbCh7XHJcblx0XHRwaG9uZW51bWJlcjogL15bMC05XXsxMH0kLyxcclxuXHRcdHZveWVsczogWy9eW2FlaW91eV0rJC9dXHJcblx0fSk7XHJcblxyXG5cdGNvbnN0IG0gPSBteU1vZGVsKHtcclxuXHRcdHBob25lbnVtYmVyOiBcIjA2MTIzNDU2NzhcIlxyXG5cdH0pO1xyXG5cclxuXHRtLnZveWVscyA9IFwib3Vpb3VpXCI7XHJcblxyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0bS52b3llbHMgPSBcIm5vbm5vblwiXHJcblx0fSwgL1R5cGVFcnJvci8sIFwicmVnZXggbWF0Y2hpbmdcIik7XHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRtLnBob25lbnVtYmVyID0gXCIxMjM0NTY3ODlcIlxyXG5cdH0sIC9UeXBlRXJyb3IvLCBcInJlZ2V4IG1hdGNoaW5nIDJcIik7XHJcblxyXG59KTtcclxuXHJcblFVbml0LnRlc3QoXCJQcml2YXRlIGFuZCBjb25zdGFudCBwcm9wZXJ0aWVzXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcclxuXHJcblx0bGV0IG15TW9kZWwgPSBPYmplY3RNb2RlbCh7XHJcblx0XHRDT05TVDogTnVtYmVyLFxyXG5cdFx0X3ByaXZhdGU6IE51bWJlcixcclxuXHRcdG5vcm1hbDogTnVtYmVyXHJcblx0fSk7XHJcblxyXG5cdGxldCBtID0gbXlNb2RlbCh7XHJcblx0XHRDT05TVDogNDIsXHJcblx0XHRfcHJpdmF0ZTogNDMsXHJcblx0XHRub3JtYWw6IDQ0XHJcblx0fSk7XHJcblxyXG5cdG0ubm9ybWFsKys7XHJcblxyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0bS5fcHJpdmF0ZSsrO1xyXG5cdH0sIC9UeXBlRXJyb3JbXFxzXFxTXSpwcml2YXRlLywgXCJ0cnkgdG8gbW9kaWZ5IHByaXZhdGVcIik7XHJcblxyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0bS5DT05TVCsrO1xyXG5cdH0sIC9UeXBlRXJyb3JbXFxzXFxTXSpjb25zdGFudC8sIFwidHJ5IHRvIG1vZGlmeSBjb25zdGFudFwiKTtcclxuXHRhc3NlcnQuZXF1YWwoT2JqZWN0LmtleXMobSkubGVuZ3RoLCAyLCBcIm5vbiBlbnVtZXJhYmxlIGtleSBub3QgY291bnRlZCBieSBPYmplY3Qua2V5c1wiKTtcclxuXHRhc3NlcnQuZXF1YWwoT2JqZWN0LmtleXMobSkuaW5jbHVkZXMoXCJfcHJpdmF0ZVwiKSwgZmFsc2UsIFwibm9uIGVudW1lcmFibGUga2V5IG5vdCBmb3VuZCBpbiBPYmplY3Qua2V5c1wiKTtcclxuXHRhc3NlcnQuZXF1YWwoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMobSkubGVuZ3RoLCAyLCBcIm5vbiBlbnVtZXJhYmxlIGtleSBub3QgY291bnRlZCBieSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc1wiKTtcclxuXHRhc3NlcnQuZXF1YWwoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMobSkuaW5jbHVkZXMoXCJfcHJpdmF0ZVwiKSwgZmFsc2UsIFwibm9uIGVudW1lcmFibGUga2V5IG5vdCBmb3VuZCBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc1wiKTtcclxuXHRhc3NlcnQuZXF1YWwoXCJub3JtYWxcIiBpbiBtLCB0cnVlLCBcImVudW1lcmFibGUga2V5IGZvdW5kIHdpdGggb3BlcmF0b3IgaW5cIilcclxuXHRhc3NlcnQuZXF1YWwoXCJfcHJpdmF0ZVwiIGluIG0sIGZhbHNlLCBcIm5vbiBlbnVtZXJhYmxlIGtleSBub3QgZm91bmQgd2l0aCBvcGVyYXRvciBpblwiKVxyXG5cdGFzc2VydC5lcXVhbChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIFwibm9ybWFsXCIpLnZhbHVlLCA0NSwgXCJnZXRPd25Qcm9wZXJ5RGVzY3JpcHRvciB0cmFwIGZvciBub3JtYWwgcHJvcFwiKVxyXG5cdGFzc2VydC5lcXVhbChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIFwiX3ByaXZhdGVcIiksIHVuZGVmaW5lZCwgXCJnZXRPd25Qcm9wZXJ5RGVzY3JpcHRvciBmb3IgcHJpdmF0ZSBwcm9wXCIpXHJcblxyXG5cdGxldCBNID0gT2JqZWN0TW9kZWwoeyBfcDogTnVtYmVyIH0pXHJcblx0bSA9IE0oeyBfcDogNDIgfSlcclxuXHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRtLl9wXHJcblx0fSwgL1R5cGVFcnJvcltcXHNcXFNdKmNhbm5vdCBhY2Nlc3MgdG8gcHJpdmF0ZS8sIFwidHJ5IHRvIGFjY2VzcyBwcml2YXRlIGZyb20gb3V0c2lkZVwiKTtcclxuXHJcblx0TS5wcm90b3R5cGUuaW5jcmVtZW50UHJpdmF0ZSA9IGZ1bmN0aW9uKCl7IHRoaXMuX3ArKyB9XHJcblx0TS5wcm90b3R5cGUuZ2V0UHJpdmF0ZSA9IGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzLl9wIH1cclxuXHRtLmluY3JlbWVudFByaXZhdGUoKTtcclxuXHRhc3NlcnQuZXF1YWwobS5nZXRQcml2YXRlKCksIDQzLCBcImNhbiBhY2Nlc3MgYW5kIG11dGF0ZSBwcml2YXRlIHByb3BzIHRocm91Z2ggbWV0aG9kc1wiKVxyXG5cclxufSk7XHJcblxyXG5RVW5pdC50ZXN0KFwiTm9uLWVudW1lcmFibGUgYW5kIG5vbi13cml0YWJsZSBwcm9wZXJ0aWVzIHdpdGggb3ZlcnJpZGRlbiBjb252ZW50aW9uXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcclxuXHJcblx0Y29uc3QgbXlNb2RlbCA9IE9iamVjdE1vZGVsKHtcclxuXHRcdHByaXZhdGVfcHJvcDogTnVtYmVyLFxyXG5cdFx0Y29uc3RhbnRfcHJvcDogTnVtYmVyLFxyXG5cdFx0bm9ybWFsX3Byb3A6IE51bWJlclxyXG5cdH0pO1xyXG5cclxuXHRteU1vZGVsLmNvbnZlbnRpb25Gb3JDb25zdGFudCA9IHMgPT4gcy5pbmRleE9mKFwiY29uc3RhbnRfXCIpID09PSAwO1xyXG5cdG15TW9kZWwuY29udmVudGlvbkZvclByaXZhdGUgID0gcyA9PiBzLmluZGV4T2YoXCJwcml2YXRlX1wiKSA9PT0gMDtcclxuXHJcblx0Y29uc3QgbSA9IG15TW9kZWwoe1xyXG5cdFx0cHJpdmF0ZV9wcm9wOiA0MixcclxuXHRcdGNvbnN0YW50X3Byb3A6IDQzLFxyXG5cdFx0bm9ybWFsX3Byb3A6IDQ0XHJcblx0fSk7XHJcblxyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0bS5jb25zdGFudF9wcm9wKys7XHJcblx0fSwgL1R5cGVFcnJvcltcXHNcXFNdKmNvbnN0YW50LywgXCJ0cnkgdG8gcmVkZWZpbmUgY29uc3RhbnQgd2l0aCBvdmVycmlkZGVuIGNvbnZlbnRpb25cIik7XHJcblx0YXNzZXJ0LmVxdWFsKE9iamVjdC5rZXlzKG0pLmxlbmd0aCwgMiwgXCJub24gZW51bWVyYWJsZSBrZXkgbm90IGNvdW50ZWQgYnkgT2JqZWN0LmtleXMgd2l0aCBvdmVycmlkZGVuIGNvbnZlbnRpb25cIik7XHJcblx0YXNzZXJ0LmVxdWFsKE9iamVjdC5rZXlzKG0pLmluY2x1ZGVzKFwicHJpdmF0ZV9wcm9wXCIpLCBmYWxzZSwgXCJub24gZW51bWVyYWJsZSBrZXkgbm90IGZvdW5kIGluIE9iamVjdC5rZXlzIHdpdGggb3ZlcnJpZGRlbiBjb252ZW50aW9uXCIpO1xyXG5cdGFzc2VydC5lcXVhbChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhtKS5sZW5ndGgsIDIsIFwibm9uIGVudW1lcmFibGUga2V5IG5vdCBjb3VudGVkIGJ5IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHdpdGggb3ZlcnJpZGRlbiBjb252ZW50aW9uXCIpO1xyXG5cdGFzc2VydC5lcXVhbChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhtKS5pbmNsdWRlcyhcInByaXZhdGVfcHJvcFwiKSwgZmFsc2UsIFwibm9uIGVudW1lcmFibGUga2V5IG5vdCBmb3VuZCBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB3aXRoIG92ZXJyaWRkZW4gY29udmVudGlvblwiKTtcclxuXHRhc3NlcnQuZXF1YWwoXCJub3JtYWxfcHJvcFwiIGluIG0sIHRydWUsIFwiZW51bWVyYWJsZSBrZXkgZm91bmQgd2l0aCBvcGVyYXRvciBpbiB3aXRoIG92ZXJyaWRkZW4gY29udmVudGlvblwiKVxyXG5cdGFzc2VydC5lcXVhbChcInByaXZhdGVfcHJvcFwiIGluIG0sIGZhbHNlLCBcIm5vbiBlbnVtZXJhYmxlIGtleSBub3QgZm91bmQgd2l0aCBvcGVyYXRvciBpbiB3aXRoIG92ZXJyaWRkZW4gY29udmVudGlvblwiKVxyXG5cclxufSk7XHJcblxyXG5RVW5pdC50ZXN0KFwiRXh0ZW5zaW9uc1wiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XHJcblxyXG5cdGNvbnN0IFBlcnNvbiA9IE9iamVjdE1vZGVsKHtcclxuXHRcdG5hbWU6IFN0cmluZyxcclxuXHRcdGFnZTogTnVtYmVyLFxyXG5cdFx0YmlydGg6IERhdGUsXHJcblx0XHRmZW1hbGU6IFtCb29sZWFuXSxcclxuXHRcdGFkZHJlc3M6IHtcclxuXHRcdFx0d29yazoge1xyXG5cdFx0XHRcdGNpdHk6IFtTdHJpbmddXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0Y29uc3Qgam9lID0gUGVyc29uKHtcclxuXHRcdG5hbWU6IFwiSm9lXCIsXHJcblx0XHRhZ2U6IDQyLFxyXG5cdFx0YmlydGg6IG5ldyBEYXRlKDE5OTAsIDMsIDI1KSxcclxuXHRcdGZlbWFsZTogZmFsc2UsXHJcblx0XHRhZGRyZXNzOiB7XHJcblx0XHRcdHdvcms6IHtcclxuXHRcdFx0XHRjaXR5OiBcIkxpbGxlXCJcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRjb25zdCBXb21hbiA9IFBlcnNvbi5leHRlbmQoe2ZlbWFsZTogdHJ1ZX0pO1xyXG5cclxuXHRhc3NlcnQub2soUGVyc29uKGpvZSksIFwiUGVyc29uIHZhbGlkIG1vZGVsIGZvciBqb2VcIik7XHJcblxyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0V29tYW4oam9lKTtcclxuXHR9LCAvVHlwZUVycm9yW1xcc1xcU10qZmVtYWxlLywgXCJXb21hbiBpbnZhbGlkIG1vZGVsIGZvciBqb2VcIik7XHJcblxyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0V29tYW4oe1xyXG5cdFx0XHRuYW1lOiBcIkpvZVwiLFxyXG5cdFx0XHRhZ2U6IDQyLFxyXG5cdFx0XHRiaXJ0aDogbmV3IERhdGUoMTk5MCwgMywgMjUpLFxyXG5cdFx0XHRmZW1hbGU6IGZhbHNlLFxyXG5cdFx0XHRhZGRyZXNzOiB7XHJcblx0XHRcdFx0d29yazoge1xyXG5cdFx0XHRcdFx0Y2l0eTogXCJMaWxsZVwiXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9LCAvVHlwZUVycm9yW1xcc1xcU10qZmVtYWxlLywgXCJjYW50IGJlIHdvbWFuIGZyb20gam9lIHBhcmFtZXRlcnNcIik7XHJcblxyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0V29tYW4oam9lKTtcclxuXHR9LCAvVHlwZUVycm9yW1xcc1xcU10qZmVtYWxlLywgXCJjYW50IGJlIHdvbWFuIGZyb20gUGVyc29uIGpvZVwiKTtcclxuXHJcblx0Y29uc3QgYW5uID0gV29tYW4oe1xyXG5cdFx0bmFtZTogXCJKb2UncyB3aWZlXCIsXHJcblx0XHRhZ2U6IDQyLFxyXG5cdFx0YmlydGg6IG5ldyBEYXRlKDE5OTAsIDMsIDI1KSxcclxuXHRcdGZlbWFsZTogdHJ1ZSxcclxuXHRcdGFkZHJlc3M6IHtcclxuXHRcdFx0d29yazoge1xyXG5cdFx0XHRcdGNpdHk6IFwiTGlsbGVcIlxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdGNvbnN0IFVuZW1wbG95ZWRXb21hbiA9IFdvbWFuLmV4dGVuZCh7XHJcblx0XHRhZGRyZXNzOiB7XHJcblx0XHRcdHdvcms6IHtcclxuXHRcdFx0XHRjaXR5OiB1bmRlZmluZWRcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRhc3NlcnQub2soV29tYW4oYW5uKSwgXCJXb21hbiB2YWxpZCBtb2RlbCBmb3IgYW5uXCIpO1xyXG5cclxuXHRhc3NlcnQub2soV29tYW4ucHJvdG90eXBlLmNvbnN0cnVjdG9yID09PSBXb21hbiwgXCJleHRlbmRlZCBtb2RlbCBoYXMgYSBuZXcgY29uc3RydWN0b3JcIik7XHJcblx0YXNzZXJ0Lm9rKGFubi5jb25zdHJ1Y3RvciA9PT0gV29tYW4sIFwiZXh0ZW5kZWQgbW9kZWwgaW5zdGFuY2UgaGFzIHRoZSByaWdodCBjb25zdHJ1Y3RvclwiKTtcclxuXHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRVbmVtcGxveWVkV29tYW4oYW5uKTtcclxuXHR9LCAvVHlwZUVycm9yW1xcc1xcU10qY2l0eS8sIFwiYW5uIGNhbnQgYmUgVW5lbXBsb3llZFdvbWFuOyAgbW9kZWwgZXh0ZW5zaW9uIG5lc3RlZCB1bmRlZmluZWQgcHJvcGVydHlcIik7XHJcblxyXG5cclxuXHRjb25zdCBqYW5lID0gVW5lbXBsb3llZFdvbWFuKHtcclxuXHRcdG5hbWU6IFwiSmFuZVwiLFxyXG5cdFx0YWdlOiA1MixcclxuXHRcdGJpcnRoOiBuZXcgRGF0ZSgxOTkwLCAzLCAyNSksXHJcblx0XHRmZW1hbGU6IHRydWVcclxuXHR9KTtcclxuXHJcblx0YXNzZXJ0Lm9rKGFubiBpbnN0YW5jZW9mIFBlcnNvbiwgXCJhbm4gaW5zdGFuY2VvZiBQZXJzb25cIik7XHJcblx0YXNzZXJ0Lm9rKGFubiBpbnN0YW5jZW9mIFdvbWFuLCBcImFubiBpbnN0YW5jZW9mIFdvbWFuXCIpO1xyXG5cdGFzc2VydC5vayhqYW5lIGluc3RhbmNlb2YgUGVyc29uLCBcImphbmUgaW5zdGFuY2VvZiBQZXJzb25cIik7XHJcblx0YXNzZXJ0Lm9rKGphbmUgaW5zdGFuY2VvZiBXb21hbiwgXCJqYW5lIGluc3RhbmNlb2YgV29tYW5cIik7XHJcblx0YXNzZXJ0Lm9rKGphbmUgaW5zdGFuY2VvZiBVbmVtcGxveWVkV29tYW4sIFwiamFuZSBpbnN0YW5jZW9mIFVuZW1wbG95ZWRXb21hblwiKTtcclxuXHRhc3NlcnQuZXF1YWwoam9lIGluc3RhbmNlb2YgV29tYW4sIGZhbHNlLCBcImpvZSBub3QgaW5zdGFuY2VvZiBXb21hblwiKTtcclxuXHRhc3NlcnQuZXF1YWwoam9lIGluc3RhbmNlb2YgVW5lbXBsb3llZFdvbWFuLCBmYWxzZSwgXCJqb2Ugbm90IGluc3RhbmNlb2YgVW5lbXBsb3llZFdvbWFuXCIpO1xyXG5cdGFzc2VydC5lcXVhbChhbm4gaW5zdGFuY2VvZiBVbmVtcGxveWVkV29tYW4sIGZhbHNlLCBcImFubiBub3QgaW5zdGFuY2VvZiBVbmVtcGxveWVkV29tYW5cIik7XHJcblxyXG5cdGxldCBWZWhpY2xlID0ge3NwZWVkOiBOdW1iZXJ9O1xyXG5cdGxldCBDYXIgICAgID0gT2JqZWN0LmNyZWF0ZShWZWhpY2xlKTtcclxuXHRsZXQgRmVycmFyaSA9IE9iamVjdE1vZGVsKHtleHBlbnNpdmU6IHRydWV9KS5leHRlbmQoQ2FyKTtcclxuXHRhc3NlcnQub2soXCJzcGVlZFwiIGluIEZlcnJhcmkuZGVmaW5pdGlvbiwgXCJzaG91bGQgcmV0cmlldmUgZGVmaW5pdGlvbnMgZnJvbSBwYXJlbnQgcHJvdG90eXBlcyB3aGVuIGV4dGVuZGluZyB3aXRoIG9iamVjdHNcIik7XHJcblxyXG5cdFZlaGljbGUgPSBmdW5jdGlvbiAoKSB7fTtcclxuXHRWZWhpY2xlLnByb3RvdHlwZS5zcGVlZCA9IDk5O1xyXG5cdENhciA9IGZ1bmN0aW9uICgpIHt9O1xyXG5cdENhci5wcm90b3R5cGUgPSBuZXcgVmVoaWNsZSgpO1xyXG5cdEZlcnJhcmkgPSBPYmplY3RNb2RlbCh7IHByaWNlOiBbTnVtYmVyXSB9KS5leHRlbmQoQ2FyKTtcclxuXHJcblx0bGV0IGZlcnJhcmkgPSBuZXcgRmVycmFyaSh7IHByaWNlOiA5OTk5OTkgfSk7XHJcblx0YXNzZXJ0LmVxdWFsKGZlcnJhcmkuc3BlZWQsIDk5LCBcInNob3VsZCByZXRyaWV2ZSBwcm9wZXJ0aWVzIGZyb20gcGFyZW50IHByb3RvdHlwZXMgd2hlbiBleHRlbmRpbmcgd2l0aCBjb25zdHJ1Y3RvcnNcIik7XHJcblx0YXNzZXJ0LmVxdWFsKFwicHJpY2VcIiBpbiBmZXJyYXJpLCB0cnVlLCBcInNob3VsZCB0cmFwIGluIG9wZXJhdG9yIGFuZCByZXR1cm4gdHJ1ZSBmb3IgcHJvcGVydGllcyBpbiBkZWZpbml0aW9uXCIpO1xyXG5cdGFzc2VydC5lcXVhbChcInNwZWVkXCIgaW4gZmVycmFyaSwgZmFsc2UsIFwic2hvdWxkIHRyYXAgaW4gb3BlcmF0b3IgYW5kIHJldHVybiBmYWxzZSBmb3IgcHJvcGVydGllcyBvdXQgb2YgZGVmaW5pdGlvblwiKTtcclxuXHJcbn0pO1xyXG5cclxuUVVuaXQudGVzdChcIk11bHRpcGxlIGluaGVyaXRhbmNlXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcclxuXHJcblx0Y29uc3QgQSA9IG5ldyBPYmplY3RNb2RlbCh7XHJcblx0XHRhOiBCb29sZWFuLFxyXG5cdFx0YjogQm9vbGVhblxyXG5cdH0pO1xyXG5cclxuXHRjb25zdCBCID0gT2JqZWN0TW9kZWwoe1xyXG5cdFx0YjogTnVtYmVyLFxyXG5cdFx0YzogTnVtYmVyXHJcblx0fSk7XHJcblxyXG5cdGNvbnN0IEMgPSBPYmplY3RNb2RlbCh7XHJcblx0XHRjOiBTdHJpbmcsXHJcblx0XHRkOiB7XHJcblx0XHRcdGQxOiBCb29sZWFuLFxyXG5cdFx0XHRkMjogQm9vbGVhblxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRjb25zdCBEID0gT2JqZWN0TW9kZWwoe1xyXG5cdFx0YTogU3RyaW5nLFxyXG5cdFx0ZDoge1xyXG5cdFx0XHRkMjogTnVtYmVyLFxyXG5cdFx0XHRkMzogTnVtYmVyXHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdGxldCBNMSA9IEEuZXh0ZW5kKEIsIEMsIEQpO1xyXG5cdGxldCBNMiA9IEQuZXh0ZW5kKEMsIEIsIEEpO1xyXG5cclxuXHRhc3NlcnQuZXF1YWwoT2JqZWN0LmtleXMoTTEuZGVmaW5pdGlvbikuc29ydCgpLmpvaW4oJywnKSwgXCJhLGIsYyxkXCIsIFwiZGVmaW5pdGlvbiBtZXJnZSBmb3IgbXVsdGlwbGUgaW5oZXJpdGFuY2UgMS80XCIpO1xyXG5cdGFzc2VydC5lcXVhbChPYmplY3Qua2V5cyhNMi5kZWZpbml0aW9uKS5zb3J0KCkuam9pbignLCcpLCBcImEsYixjLGRcIiwgXCJkZWZpbml0aW9uIG1lcmdlIGZvciBtdWx0aXBsZSBpbmhlcml0YW5jZSAyLzRcIik7XHJcblx0YXNzZXJ0LmVxdWFsKE9iamVjdC5rZXlzKE0xLmRlZmluaXRpb24uZCkuc29ydCgpLmpvaW4oJywnKSwgXCJkMSxkMixkM1wiLCBcImRlZmluaXRpb24gbWVyZ2UgZm9yIG11bHRpcGxlIGluaGVyaXRhbmNlIDMvNFwiKTtcclxuXHRhc3NlcnQuZXF1YWwoT2JqZWN0LmtleXMoTTIuZGVmaW5pdGlvbi5kKS5zb3J0KCkuam9pbignLCcpLCBcImQxLGQyLGQzXCIsIFwiZGVmaW5pdGlvbiBtZXJnZSBmb3IgbXVsdGlwbGUgaW5oZXJpdGFuY2UgNC80XCIpO1xyXG5cclxuXHRsZXQgbTEgPSBNMSh7XHJcblx0XHRhOiBcIlwiLFxyXG5cdFx0YjogNDIsXHJcblx0XHRjOiBcInRlc3RcIixcclxuXHRcdGQ6IHtcclxuXHRcdFx0ZDE6IHRydWUsXHJcblx0XHRcdGQyOiAyLFxyXG5cdFx0XHRkMzogM1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRsZXQgbTIgPSBNMih7XHJcblx0XHRhOiBmYWxzZSxcclxuXHRcdGI6IGZhbHNlLFxyXG5cdFx0YzogNjY2LFxyXG5cdFx0ZDoge1xyXG5cdFx0XHRkMTogZmFsc2UsXHJcblx0XHRcdGQyOiBmYWxzZSxcclxuXHRcdFx0ZDM6IDBcclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRtMS5hID0gdHJ1ZTtcclxuXHR9LCAvVHlwZUVycm9yW1xcc1xcU10qYS8sIFwidHlwZSBjaGVja2luZyBtdWx0aXBsZSBpbmhlcml0YW5jZSAxLzhcIik7XHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRtMi5hID0gXCJub3BlXCI7XHJcblx0fSwgL1R5cGVFcnJvcltcXHNcXFNdKmEvLCBcInR5cGUgY2hlY2tpbmcgbXVsdGlwbGUgaW5oZXJpdGFuY2UgMi84XCIpO1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0bTEuYiA9ICFtMS5iO1xyXG5cdH0sIC9UeXBlRXJyb3JbXFxzXFxTXSpiLywgXCJ0eXBlIGNoZWNraW5nIG11bHRpcGxlIGluaGVyaXRhbmNlIDMvOFwiKTtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdG0yLmIgKz0gNztcclxuXHR9LCAvVHlwZUVycm9yW1xcc1xcU10qYi8sIFwidHlwZSBjaGVja2luZyBtdWx0aXBsZSBpbmhlcml0YW5jZSA0LzhcIik7XHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRtMS5jID0gdW5kZWZpbmVkO1xyXG5cdH0sIC9UeXBlRXJyb3JbXFxzXFxTXSpjLywgXCJ0eXBlIGNoZWNraW5nIG11bHRpcGxlIGluaGVyaXRhbmNlIDUvOFwiKTtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdG0yLmMgPSBudWxsO1xyXG5cdH0sIC9UeXBlRXJyb3JbXFxzXFxTXSpjLywgXCJ0eXBlIGNoZWNraW5nIG11bHRpcGxlIGluaGVyaXRhbmNlIDYvOFwiKTtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdG0xLmQuZDIgPSB0cnVlO1xyXG5cdH0sIC9UeXBlRXJyb3JbXFxzXFxTXSpkMi8sIFwidHlwZSBjaGVja2luZyBtdWx0aXBsZSBpbmhlcml0YW5jZSA3LzhcIik7XHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRtMi5kLmQyID0gMTtcclxuXHR9LCAvVHlwZUVycm9yW1xcc1xcU10qZDIvLCBcInR5cGUgY2hlY2tpbmcgbXVsdGlwbGUgaW5oZXJpdGFuY2UgOC84XCIpO1xyXG5cclxuXHRBLmRlZmF1bHRzKHtcclxuXHRcdGE6IGZhbHNlLFxyXG5cdFx0YjogZmFsc2VcclxuXHR9KTtcclxuXHJcblx0Qi5kZWZhdWx0cyh7XHJcblx0XHRiOiAwLFxyXG5cdFx0YzogMFxyXG5cdH0pO1xyXG5cclxuXHRDLmRlZmF1bHRzKHtcclxuXHRcdGM6IFwiXCIsXHJcblx0XHRkOiB7XHJcblx0XHRcdGQxOiBmYWxzZSxcclxuXHRcdFx0ZDI6IGZhbHNlXHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdEQuZGVmYXVsdHMoe1xyXG5cdFx0YTogXCJcIixcclxuXHRcdGQ6IHtcclxuXHRcdFx0ZDI6IDAsXHJcblx0XHRcdGQzOiAwXHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdE0xID0gQS5leHRlbmQoQiwgQywgRCk7XHJcblx0TTIgPSBELmV4dGVuZChDLCBCLCBBKTtcclxuXHRtMSA9IE0xKCk7XHJcblx0bTIgPSBNMigpO1xyXG5cclxuXHRhc3NlcnQub2sobTEuYSA9PT0gXCJcIiAmJiBtMS5iID09PSAwICYmIG0xLmMgPT09IFwiXCIgJiYgbTEuZC5kMSA9PT0gZmFsc2UgJiYgbTEuZC5kMiA9PT0gMCAmJiBtMS5kLmQzID09PSAwLCBcImRlZmF1bHRzIGNoZWNraW5nIG11bHRpcGxlIGluaGVyaXRhbmNlIDEvMlwiKTtcclxuXHRhc3NlcnQub2sobTIuYSA9PT0gZmFsc2UgJiYgbTIuYiA9PT0gZmFsc2UgJiYgbTIuYyA9PT0gMCAmJiBtMi5kLmQxID09PSBmYWxzZSAmJiBtMi5kLmQyID09PSBmYWxzZSAmJiBtMi5kLmQzID09PSAwLCBcImRlZmF1bHRzIGNoZWNraW5nIG11bHRpcGxlIGluaGVyaXRhbmNlIDIvMlwiKTtcclxuXHJcblx0ZnVuY3Rpb24gZHVtbXlBc3NlcnQoKSB7XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdEEuYXNzZXJ0KGR1bW15QXNzZXJ0KTtcclxuXHRCLmFzc2VydChkdW1teUFzc2VydCk7XHJcblx0Qy5hc3NlcnQoZHVtbXlBc3NlcnQpO1xyXG5cdEQuYXNzZXJ0KGR1bW15QXNzZXJ0KTtcclxuXHJcblx0TTEgPSBBLmV4dGVuZChCLCBDLCBEKTtcclxuXHRNMiA9IEQuZXh0ZW5kKEMsIEIsIEEpO1xyXG5cdG0xID0gTTEoKTtcclxuXHRtMiA9IE0yKCk7XHJcblxyXG5cdGFzc2VydC5vayhNMS5hc3NlcnRpb25zLmxlbmd0aCA9PT0gNCwgXCJhc3NlcnRpb25zIGNoZWNraW5nIG11bHRpcGxlIGluaGVyaXRhbmNlIDEvMlwiKTtcclxuXHRhc3NlcnQub2soTTIuYXNzZXJ0aW9ucy5sZW5ndGggPT09IDQsIFwiYXNzZXJ0aW9ucyBjaGVja2luZyBtdWx0aXBsZSBpbmhlcml0YW5jZSAyLzJcIik7XHJcblxyXG59KTtcclxuXHJcblFVbml0LnRlc3QoXCJDb21wb3NpdGlvblwiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XHJcblxyXG5cdGNvbnN0IFBlcnNvbiA9IE9iamVjdE1vZGVsKHtcclxuXHRcdG5hbWU6IFN0cmluZyxcclxuXHRcdGFnZTogW051bWJlciwgRGF0ZV0sXHJcblx0XHRmZW1hbGU6IFtCb29sZWFuXSxcclxuXHRcdGFkZHJlc3M6IHtcclxuXHRcdFx0d29yazoge1xyXG5cdFx0XHRcdGNpdHk6IFtTdHJpbmddXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0Y29uc3QgRmFtaWx5ID0gT2JqZWN0TW9kZWwoe1xyXG5cdFx0ZmF0aGVyOiBQZXJzb24sXHJcblx0XHRtb3RoZXI6IFBlcnNvbi5leHRlbmQoe2ZlbWFsZTogdHJ1ZX0pLFxyXG5cdFx0Y2hpbGRyZW46IEFycmF5TW9kZWwoUGVyc29uKSxcclxuXHRcdGdyYW5kcGFyZW50czogW0FycmF5TW9kZWwoUGVyc29uKS5hc3NlcnQoZnVuY3Rpb24gKHBlcnNvbnMpIHtcclxuXHRcdFx0cmV0dXJuIHBlcnNvbnMgJiYgcGVyc29ucy5sZW5ndGggPD0gNFxyXG5cdFx0fSldXHJcblx0fSk7XHJcblxyXG5cdGNvbnN0IGpvZSA9IFBlcnNvbih7XHJcblx0XHRuYW1lOiBcIkpvZVwiLFxyXG5cdFx0YWdlOiA0MixcclxuXHRcdGZlbWFsZTogZmFsc2VcclxuXHR9KTtcclxuXHJcblxyXG5cdGNvbnN0IGFubiA9IG5ldyBQZXJzb24oe1xyXG5cdFx0ZmVtYWxlOiB0cnVlLFxyXG5cdFx0YWdlOiBqb2UuYWdlIC0gNSxcclxuXHRcdG5hbWU6IGpvZS5uYW1lICsgXCIncyB3aWZlXCJcclxuXHR9KTtcclxuXHJcblx0bGV0IGpvZWZhbWlseSA9IG5ldyBGYW1pbHkoe1xyXG5cdFx0ZmF0aGVyOiBqb2UsXHJcblx0XHRtb3RoZXI6IGFubixcclxuXHRcdGNoaWxkcmVuOiBbXVxyXG5cdH0pO1xyXG5cclxuXHRhc3NlcnQub2soam9lZmFtaWx5IGluc3RhbmNlb2YgRmFtaWx5LCBcImpvZWZhbWlseSBpbnN0YW5jZSBvZiBGYW1pbHlcIik7XHJcblx0YXNzZXJ0Lm9rKGpvZWZhbWlseS5mYXRoZXIgaW5zdGFuY2VvZiBQZXJzb24sIFwiZmF0aGVyIGluc3RhbmNlb2YgUGVyc29uXCIpO1xyXG5cdGFzc2VydC5vayhqb2VmYW1pbHkubW90aGVyIGluc3RhbmNlb2YgUGVyc29uLCBcIm1vdGhlciBpbnN0YW5jZW9mIFBlcnNvblwiKTtcclxuXHJcblx0Y29uc3QgZHVja21vdGhlciA9IHtcclxuXHRcdGZlbWFsZTogdHJ1ZSxcclxuXHRcdGFnZTogam9lLmFnZSAtIDUsXHJcblx0XHRuYW1lOiBqb2UubmFtZSArIFwiJ3Mgd2lmZVwiXHJcblx0fTtcclxuXHJcblx0am9lZmFtaWx5ID0gbmV3IEZhbWlseSh7XHJcblx0XHRmYXRoZXI6IGpvZSxcclxuXHRcdG1vdGhlcjogZHVja21vdGhlcixcclxuXHRcdGNoaWxkcmVuOiBbXVxyXG5cdH0pO1xyXG5cclxuXHRhc3NlcnQub2soUGVyc29uLnRlc3QoZHVja21vdGhlciksIFwiRHVjayB0eXBpbmcgZm9yIG9iamVjdCBwcm9wZXJ0aWVzIDEvMlwiKTtcclxuXHRhc3NlcnQubm90T2soZHVja21vdGhlciBpbnN0YW5jZW9mIFBlcnNvbiwgXCJEdWNrIHR5cGluZyBmb3Igb2JqZWN0IHByb3BlcnRpZXMgMi8yXCIpO1xyXG5cclxuXHRqb2VmYW1pbHkubW90aGVyLm5hbWUgPSBcIkRhaXN5XCI7XHJcblx0YXNzZXJ0LmVxdWFsKGpvZWZhbWlseS5tb3RoZXIubmFtZSwgXCJEYWlzeVwiLCBcIkR1Y2sgdHlwaW5nIHN1Ym1vZGVsIHByb3BlcnR5IGNhbiBiZSBtb2RpZmllZFwiKTtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdGpvZWZhbWlseS5tb3RoZXIuZmVtYWxlID0gXCJRdWFjayAhXCI7XHJcblx0fSwgL1R5cGVFcnJvcltcXHNcXFNdKmZlbWFsZS8sIFwidmFsaWRhdGlvbiBvZiBzdWJtb2RlbCBkdWNrIHR5cGVkIGF0IG1vZGlmaWNhdGlvblwiKTtcclxuXHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRuZXcgRmFtaWx5KHtcclxuXHRcdFx0ZmF0aGVyOiBqb2UsXHJcblx0XHRcdG1vdGhlcjoge1xyXG5cdFx0XHRcdGZlbWFsZTogZmFsc2UsXHJcblx0XHRcdFx0YWdlOiBqb2UuYWdlIC0gNSxcclxuXHRcdFx0XHRuYW1lOiBqb2UubmFtZSArIFwiJ3Mgd2lmZVwiXHJcblx0XHRcdH0sXHJcblx0XHRcdGNoaWxkcmVuOiBbXVxyXG5cdFx0fSk7XHJcblx0fSwgL1R5cGVFcnJvcltcXHNcXFNdKmZlbWFsZS8sIFwidmFsaWRhdGlvbiBvZiBzdWJtb2RlbCBkdWNrIHR5cGVkIGF0IGluc3RhbmNpYXRpb25cIik7XHJcblxyXG59KTtcclxuXHJcblFVbml0LnRlc3QoXCJPYmplY3QgbW9kZWwgQXNzZXJ0aW9uc1wiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XHJcblxyXG5cdGNvbnN0IE5lc3RlZE1vZGVsID0gT2JqZWN0TW9kZWwoe2Zvbzoge2Jhcjoge2JhejogQm9vbGVhbn19fSlcclxuXHRcdC5hc3NlcnQobyA9PiBvLmZvby5iYXIuYmF6ID09PSB0cnVlKTtcclxuXHJcblx0Y29uc3QgbmVzdGVkTW9kZWwgPSBOZXN0ZWRNb2RlbCh7Zm9vOiB7YmFyOiB7YmF6OiB0cnVlfX19KTtcclxuXHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRuZXN0ZWRNb2RlbC5mb28uYmFyLmJheiA9IGZhbHNlO1xyXG5cdH0sIC9UeXBlRXJyb3IvLCBcInRlc3QgYXNzZXJ0aW9uIGFmdGVyIG5lc3RlZCBwcm9wZXJ0eSBhc3NpZ25tZW50XCIpO1xyXG5cclxuXHRmdW5jdGlvbiBhc3NlcnRGYWlsKCkge1xyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gYXNzZXJ0RmFpbFdpdGhEYXRhKCkge1xyXG5cdFx0cmV0dXJuIC0xO1xyXG5cdH1cclxuXHJcblx0QmFzaWNNb2RlbC5wcm90b3R5cGUuYXNzZXJ0KGFzc2VydEZhaWwsIFwiZXhwZWN0ZWQgbWVzc2FnZSB3aXRob3V0IGRhdGFcIik7XHJcblx0T2JqZWN0TW9kZWwucHJvdG90eXBlLmFzc2VydChhc3NlcnRGYWlsV2l0aERhdGEsIGZ1bmN0aW9uIChkYXRhKSB7XHJcblx0XHRyZXR1cm4gXCJleHBlY3RlZCBtZXNzYWdlIHdpdGggZGF0YSBcIiArIGRhdGE7XHJcblx0fSk7XHJcblxyXG5cdGFzc2VydC5lcXVhbChCYXNpY01vZGVsLnByb3RvdHlwZS5hc3NlcnRpb25zLmxlbmd0aCwgMSwgXCJjaGVjayBudW1iZXIgb2YgYXNzZXJ0aW9ucyBvbiBCYXNpY01vZGVsLnByb3RvdHlwZVwiKVxyXG5cdGFzc2VydC5lcXVhbChPYmplY3RNb2RlbC5wcm90b3R5cGUuYXNzZXJ0aW9ucy5sZW5ndGgsIDIsIFwiY2hlY2sgbnVtYmVyIG9mIGFzc2VydGlvbnMgb24gT2JqZWN0TW9kZWwucHJvdG90eXBlXCIpO1xyXG5cclxuXHRjb25zdCBNID0gT2JqZWN0TW9kZWwoe2E6IFN0cmluZ30pO1xyXG5cclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uICgpIHtcclxuXHRcdE0oe2E6IFwidGVzdFwifSlcclxuXHR9LCAvVHlwZUVycm9yLywgXCJleHBlY3RlZCBtZXNzYWdlIHdpdGhvdXQgZGF0YVwiKTtcclxuXHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRNKHthOiBcInRlc3RcIn0pXHJcblx0fSwgL1R5cGVFcnJvci8sIFwiZXhwZWN0ZWQgbWVzc2FnZSB3aXRoIGRhdGEgLTFcIik7XHJcblxyXG5cdC8vIGNsZWFuIHVwIGdsb2JhbCBhc3NlcnRpb25zXHJcblx0QmFzaWNNb2RlbC5wcm90b3R5cGUuYXNzZXJ0aW9ucyA9IFtdO1xyXG5cdGRlbGV0ZSBPYmplY3RNb2RlbC5wcm90b3R5cGUuYXNzZXJ0aW9ucztcclxuXHJcblx0Y29uc3QgQXNzZXJ0T2JqZWN0ID0gT2JqZWN0TW9kZWwoe25hbWU6IFtTdHJpbmddfSlcclxuXHRcdC5hc3NlcnQoKG8gPT4gby5uYW1lLnRvTG93ZXJDYXNlKCkubGVuZ3RoID09IG8ubmFtZS5sZW5ndGgpLCBcIm1heSB0aHJvdyBleGNlcHRpb25cIik7XHJcblxyXG5cdG5ldyBBc3NlcnRPYmplY3Qoe25hbWU6IFwiam9lXCJ9KTtcclxuXHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbiAoKSB7XHJcblx0XHRcdG5ldyBBc3NlcnRPYmplY3Qoe25hbWU6IHVuZGVmaW5lZH0pO1xyXG5cdFx0fSxcclxuXHRcdC9hc3NlcnRpb24gXFxcIm1heSB0aHJvdyBleGNlcHRpb25cXFwiIHJldHVybmVkIFR5cGVFcnJvci4qZm9yIHZhbHVlIHtcXHMrbmFtZTogdW5kZWZpbmVkXFxzK30vLFxyXG5cdFx0XCJhc3NlcnRpb25zIGNhdGNoIGV4Y2VwdGlvbnMgb24gT2JqZWN0IG1vZGVsc1wiKTtcclxuXHJcbn0pO1xyXG5cclxuUVVuaXQudGVzdChcIk9iamVjdCBtb2RlbHMgdmFsaWRhdGUgbWV0aG9kXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcclxuXHJcblx0Y29uc3QgYXNzZXJ0RnVuY3Rpb24gPSAoYyA9PiBjID09PSBcIkdCXCIpO1xyXG5cclxuXHRhc3NlcnRGdW5jdGlvbi50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiBcImV4cGVjdGVkIGFzc2VydEZ1bmN0aW9uIHRvU3RyaW5nXCI7XHJcblx0fVxyXG5cclxuXHRjb25zdCBBZGRyZXNzID0gbmV3IE9iamVjdE1vZGVsKHtcclxuXHRcdGNpdHk6IFN0cmluZyxcclxuXHRcdGNvdW50cnk6IEJhc2ljTW9kZWwoU3RyaW5nKS5hc3NlcnQoYXNzZXJ0RnVuY3Rpb24sIFwiQ291bnRyeSBtdXN0IGJlIEdCXCIpXHJcblx0fSk7XHJcblxyXG5cdGNvbnN0IGdiQWRkcmVzcyA9IHtjaXR5OiBcIkxvbmRvblwiLCBjb3VudHJ5OiBcIkdCXCJ9O1xyXG5cdGNvbnN0IGZyQWRkcmVzcyA9IHtjaXR5OiBcIlBhcmlzXCIsIGNvdW50cnk6IFwiRlJcIn07XHJcblxyXG5cdGNvbnN0IE9yZGVyID0gbmV3IE9iamVjdE1vZGVsKHtcclxuXHRcdHNrdTogU3RyaW5nLFxyXG5cdFx0YWRkcmVzczogQWRkcmVzc1xyXG5cdH0pO1xyXG5cclxuXHRjb25zdCBnYk9yZGVyID0ge3NrdTogXCJBQkMxMjNcIiwgYWRkcmVzczogZ2JBZGRyZXNzfTtcclxuXHRjb25zdCBmck9yZGVyID0ge3NrdTogXCJBQkMxMjNcIiwgYWRkcmVzczogZnJBZGRyZXNzfTtcclxuXHJcblx0T3JkZXIudmFsaWRhdGUoZ2JPcmRlcik7IC8vIG5vIGVycm9yc1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24gKCkge1xyXG5cdFx0T3JkZXIudmFsaWRhdGUoZnJPcmRlcik7XHJcblx0fSwgXCJzaG91bGQgdmFsaWRhdGUgc3ViLW9iamVjdHMgYXNzZXJ0aW9uc1wiKTtcclxuXHJcblx0Y29uc3QgZXJyb3JzID0gW107XHJcblx0T3JkZXIudmFsaWRhdGUoZnJPcmRlciwgZnVuY3Rpb24gKGVycikge1xyXG5cdFx0ZXJyb3JzLnB1c2goLi4uZXJyKTtcclxuXHR9KTtcclxuXHJcblx0YXNzZXJ0LmVxdWFsKGVycm9ycy5sZW5ndGgsIDEsIFwic2hvdWxkIHRocm93IGV4YWN0bHkgb25lIGVycm9yIGhlcmVcIilcclxuXHRhc3NlcnQuZXF1YWwoZXJyb3JzWzBdLmV4cGVjdGVkLCBcImV4cGVjdGVkIGFzc2VydEZ1bmN0aW9uIHRvU3RyaW5nXCIsIFwiY2hlY2sgYXNzZXJ0aW9uIGVycm9yIGV4cGVjdGVkIHBhcmFtZXRlclwiKTtcclxuXHRhc3NlcnQuZXF1YWwoZXJyb3JzWzBdLnJlY2VpdmVkLCBcIkZSXCIsIFwiY2hlY2sgYXNzZXJ0aW9uIGVycm9yIHJlY2VpdmVkIHBhcmFtZXRlclwiKTtcclxuXHRhc3NlcnQuZXF1YWwoZXJyb3JzWzBdLnBhdGgsIFwiYWRkcmVzcy5jb3VudHJ5XCIsIFwiY2hlY2sgYXNzZXJ0aW9uIGVycm9yIHBhdGggcGFyYW1ldGVyXCIpO1xyXG5cdGFzc2VydC5lcXVhbChlcnJvcnNbMF0ubWVzc2FnZSwgJ2Fzc2VydGlvbiBcIkNvdW50cnkgbXVzdCBiZSBHQlwiIHJldHVybmVkIGZhbHNlIGZvciB2YWx1ZSBcIkZSXCInLCBcImNoZWNrIGFzc2VydGlvbiBlcnJvciBtZXNzYWdlIHBhcmFtZXRlclwiKTtcclxuXHJcbn0pO1xyXG5cclxuUVVuaXQudGVzdChcIkN5Y2xpYyBkZXRlY3Rpb25cIiwgZnVuY3Rpb24oYXNzZXJ0KXtcclxuXHJcblx0bGV0IEEsIEIsIGEsIGI7XHJcblxyXG5cdEEgPSBPYmplY3RNb2RlbCh7IGI6IFtdIH0pO1xyXG5cdEIgPSBPYmplY3RNb2RlbCh7IGE6IEEgfSk7XHJcblx0QS5kZWZpbml0aW9uLmIgPSBbQl07XHJcblxyXG5cdGEgPSBBKCk7XHJcblx0YiA9IEIoeyBhOiBhIH0pO1xyXG5cclxuXHRhc3NlcnQub2soYS5iID0gYiwgXCJ2YWxpZCBjeWNsaWMgdmFsdWUgYXNzaWdubWVudFwiKTtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uKCl7YS5iID0gYTsgfSwgL1R5cGVFcnJvci8sIFwiaW52YWxpZCBjeWNsaWMgdmFsdWUgYXNzaWdubWVudFwiKTtcclxuXHJcblx0QSA9IE9iamVjdE1vZGVsKHsgYjogW10gfSk7XHJcblx0QiA9IE9iamVjdE1vZGVsKHsgYTogQSB9KTtcclxuXHJcblx0QS5kZWZpbml0aW9uLmIgPSB7XHJcblx0XHRjOiB7XHJcblx0XHRcdGQ6IFtCXVxyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdGEgPSBBKCk7XHJcblx0YiA9IEIoeyBhOiBhIH0pO1xyXG5cclxuXHRhc3NlcnQub2soKGEuYiA9IHsgYzogeyBkOiBiIH0gfSksIFwidmFsaWQgZGVlcCBjeWNsaWMgdmFsdWUgYXNzaWdubWVudFwiKTtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uKCl7XHJcblx0XHRhLmIgPSB7IGM6IHsgZDogYSB9IH07XHJcblx0fSwgL1R5cGVFcnJvci8sIFwiaW52YWxpZCBkZWVwIGN5Y2xpYyB2YWx1ZSBhc3NpZ25tZW50XCIpO1xyXG5cclxuXHRjb25zdCBIb25leSA9IE9iamVjdE1vZGVsKHtcclxuXHRcdHN3ZWV0aWU6IFtdIC8vIFN3ZWV0aWUgaXMgbm90IHlldCBkZWZpbmVkXHJcblx0fSk7XHJcblxyXG5cdGNvbnN0IFN3ZWV0aWUgPSBPYmplY3RNb2RlbCh7XHJcblx0XHRob25leTogSG9uZXlcclxuXHR9KTtcclxuXHJcblx0SG9uZXkuZGVmaW5pdGlvbi5zd2VldGllID0gW1N3ZWV0aWVdO1xyXG5cclxuXHRjb25zdCBqb2UgPSBIb25leSh7IHN3ZWV0aWU6IHVuZGVmaW5lZCB9KTsgLy8gYW5uIGlzIG5vdCB5ZXQgZGVmaW5lZFxyXG5cdGNvbnN0IGFubiA9IFN3ZWV0aWUoeyBob25leTogam9lIH0pO1xyXG5cdGFzc2VydC5vayhqb2Uuc3dlZXRpZSA9IGFubiwgXCJ3ZWJzaXRlIGV4YW1wbGUgdmFsaWQgYXNzaWdubWVudFwiKTtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uKCl7IGpvZS5zd2VldGllID0gXCJkb2dcIiB9LCAvVHlwZUVycm9yLywgXCJ3ZWJzaXRlIGV4YW1wbGUgaW52YWxpZCBhc3NpZ25tZW50IDFcIik7XHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbigpeyBqb2Uuc3dlZXRpZSA9IGpvZSB9LCAvVHlwZUVycm9yLywgXCJ3ZWJzaXRlIGV4YW1wbGUgaW52YWxpZCBhc3NpZ25tZW50IDJcIik7XHJcblxyXG59KTtcclxuXHJcblFVbml0LnRlc3QoXCJDdXN0b20gZXJyb3IgY29sbGVjdG9ycyBmb3Igb2JqZWN0IG1vZGVsc1wiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XHJcblxyXG5cdGFzc2VydC5leHBlY3QoMTEpO1xyXG5cclxuXHRsZXQgTSA9IE9iamVjdE1vZGVsKHtcclxuXHRcdGE6IHtcclxuXHRcdFx0Yjoge1xyXG5cdFx0XHRcdGM6IHRydWVcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRNLmVycm9yQ29sbGVjdG9yID0gZnVuY3Rpb24gKGVycm9ycykge1xyXG5cdFx0YXNzZXJ0Lm9rKGVycm9ycy5sZW5ndGggPT09IDEsIFwiY2hlY2sgZXJyb3JzLmxlbmd0aCBtb2RlbCBjb2xsZWN0b3JcIik7XHJcblx0XHR2YXIgZXJyID0gZXJyb3JzWzBdO1xyXG5cdFx0YXNzZXJ0LmVxdWFsKGVyci5leHBlY3RlZCwgdHJ1ZSwgXCJjaGVjayBlcnJvci5leHBlY3RlZCBtb2RlbCBjb2xsZWN0b3JcIik7XHJcblx0XHRhc3NlcnQuZXF1YWwoZXJyLnJlY2VpdmVkLCBmYWxzZSwgXCJjaGVjayBlcnJvci5yZWNlaXZlZCBtb2RlbCBjb2xsZWN0b3JcIik7XHJcblx0XHRhc3NlcnQuZXF1YWwoZXJyLnBhdGgsIFwiYS5iLmNcIiwgXCJjaGVjayBlcnJvci5wYXRoIG1vZGVsIGNvbGxlY3RvclwiKTtcclxuXHRcdGFzc2VydC5lcXVhbChlcnIubWVzc2FnZSwgJ2V4cGVjdGluZyBhLmIuYyB0byBiZSB0cnVlLCBnb3QgQm9vbGVhbiBmYWxzZScsIFwiY2hlY2sgZXJyb3IgbWVzc2FnZSBtb2RlbCBjb2xsZWN0b3JcIik7XHJcblx0fVxyXG5cclxuXHRNKHtcclxuXHRcdGE6IHtcclxuXHRcdFx0Yjoge1xyXG5cdFx0XHRcdGM6IGZhbHNlXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KVxyXG5cclxuXHRPYmplY3RNb2RlbCh7XHJcblx0XHRkOiB7XHJcblx0XHRcdGU6IHtcclxuXHRcdFx0XHRmOiBudWxsXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KS52YWxpZGF0ZSh7XHJcblx0XHRkOiB7XHJcblx0XHRcdGU6IHtcclxuXHRcdFx0XHRmOiB1bmRlZmluZWRcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0sIGZ1bmN0aW9uIChlcnJvcnMpIHtcclxuXHRcdGFzc2VydC5vayhlcnJvcnMubGVuZ3RoID09PSAxLCBcImNoZWNrIG5lc3RlZCBlcnJvcnMubGVuZ3RoIGN1c3RvbSBjb2xsZWN0b3JcIik7XHJcblx0XHR2YXIgZXJyID0gZXJyb3JzWzBdO1xyXG5cdFx0YXNzZXJ0LmRlZXBFcXVhbChlcnIuZXhwZWN0ZWQsIG51bGwsIFwiY2hlY2sgbmVzdGVkIGVycm9yLmV4cGVjdGVkIGN1c3RvbSBjb2xsZWN0b3JcIik7XHJcblx0XHRhc3NlcnQuZGVlcEVxdWFsKGVyci5yZWNlaXZlZCwgdW5kZWZpbmVkLCBcImNoZWNrIG5lc3RlZCBlcnJvci5yZWNlaXZlZCBjdXN0b20gY29sbGVjdG9yXCIpO1xyXG5cdFx0YXNzZXJ0LmVxdWFsKGVyci5wYXRoLCBcImQuZS5mXCIsIFwiY2hlY2sgbmVzdGVkIGVycm9yLnBhdGggY3VzdG9tIGNvbGxlY3RvclwiKTtcclxuXHRcdGFzc2VydC5lcXVhbChlcnIubWVzc2FnZSwgJ2V4cGVjdGluZyBkLmUuZiB0byBiZSBudWxsLCBnb3QgdW5kZWZpbmVkJywgXCJjaGVjayBuZXN0ZWQgZXJyb3IubWVzc2FnZSBjdXN0b20gY29sbGVjdG9yXCIpO1xyXG5cdH0pXHJcblxyXG5cdE0gPSBPYmplY3RNb2RlbCh7eDogTnVtYmVyfSk7XHJcblx0TS5lcnJvckNvbGxlY3RvciA9IGZ1bmN0aW9uIG5vb3AoKSB7fTtcclxuXHJcblx0YXNzZXJ0LmVxdWFsKE0udGVzdCh7eDogXCJub3BlXCJ9KSwgZmFsc2UsIFwibW9kZWwudGVzdCBzaG91bGQgd29yayBldmVuIHdoZW4gZXJyb3JDb2xsZWN0b3IgZG9lcyBub3QgdGhyb3cgZXhjZXB0aW9uc1wiKTtcclxuXHJcbn0pO1xyXG5cclxuUVVuaXQudGVzdChcIkF1dG9tYXRpYyBtb2RlbCBjYXN0aW5nXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcclxuXHJcblx0bGV0IFVzZXIgPSBuZXcgT2JqZWN0TW9kZWwoe3VzZXJuYW1lOiBTdHJpbmcsIGVtYWlsOiBTdHJpbmd9KVxyXG5cdFx0LmRlZmF1bHRzKHt1c2VybmFtZTogJ2ZvbycsIGVtYWlsOiAnZm9vQGZvbyd9KTtcclxuXHJcblx0bGV0IEFydGljbGUgPSBuZXcgT2JqZWN0TW9kZWwoe3RpdGxlOiBTdHJpbmcsIHVzZXI6IFVzZXJ9KVxyXG5cdFx0LmRlZmF1bHRzKHt0aXRsZTogJ2JhcicsIHVzZXI6IG5ldyBVc2VyKCl9KTtcclxuXHJcblx0bGV0IGEgPSBuZXcgQXJ0aWNsZSgpO1xyXG5cdGEudXNlciA9IHt1c2VybmFtZTogJ2pvZScsIGVtYWlsOiAnZm9vJ307XHJcblxyXG5cdGFzc2VydC5vayhhLnVzZXIgaW5zdGFuY2VvZiBVc2VyLCBcImF1dG9tYXRpYyBtb2RlbCBjYXN0aW5nIHdoZW4gYXNzaWduaW5nIGEgZHVjayB0eXBlZCBvYmplY3RcIik7XHJcblx0YXNzZXJ0Lm9rKGEudXNlci51c2VybmFtZSA9PT0gXCJqb2VcIiwgXCJwcmVzZXJ2ZWQgcHJvcHMgYWZ0ZXIgYXV0b21hdGljIG1vZGVsIGNhc3Rpbmcgb2YgZHVjayB0eXBlZCBvYmplY3RcIik7XHJcblxyXG5cdFVzZXIgPSBuZXcgT2JqZWN0TW9kZWwoe3VzZXJuYW1lOiBTdHJpbmcsIGVtYWlsOiBTdHJpbmd9KVxyXG5cdFx0LmRlZmF1bHRzKHt1c2VybmFtZTogJ2ZvbycsIGVtYWlsOiAnZm9vQGZvbyd9KTtcclxuXHJcblx0QXJ0aWNsZSA9IG5ldyBPYmplY3RNb2RlbCh7dGl0bGU6IFN0cmluZywgdXNlcjogW1VzZXJdfSlcclxuXHRcdC5kZWZhdWx0cyh7dGl0bGU6ICdiYXInLCB1c2VyOiBuZXcgVXNlcigpfSk7XHJcblxyXG5cdGEgPSBuZXcgQXJ0aWNsZSgpO1xyXG5cdGEudXNlciA9IHt1c2VybmFtZTogJ2pvZScsIGVtYWlsOiAnZm9vJ307XHJcblxyXG5cdGFzc2VydC5vayhhLnVzZXIgaW5zdGFuY2VvZiBVc2VyLCBcImF1dG9tYXRpYyBvcHRpb25hbCBtb2RlbCBjYXN0aW5nIHdoZW4gYXNzaWduaW5nIGEgZHVjayB0eXBlZCBvYmplY3RcIik7XHJcblx0YXNzZXJ0Lm9rKGEudXNlci51c2VybmFtZSA9PT0gXCJqb2VcIiwgXCJwcmVzZXJ2ZWQgcHJvcHMgYWZ0ZXIgYXV0b21hdGljIG9wdGlvbmFsIG1vZGVsIGNhc3Rpbmcgb2YgZHVjayB0eXBlZCBvYmplY3RcIik7XHJcblxyXG5cclxuXHRjb25zdCBUeXBlMSA9IE9iamVjdE1vZGVsKHsgbmFtZTogU3RyaW5nLCBvdGhlcjE6IFtCb29sZWFuXSB9KTtcclxuXHRjb25zdCBUeXBlMiA9IE9iamVjdE1vZGVsKHsgbmFtZTogU3RyaW5nLCBvdGhlcjI6IFtOdW1iZXJdIH0pO1xyXG5cdGNvbnN0IENvbnRhaW5lciA9IE9iamVjdE1vZGVsKHsgZm9vOiB7IGJhcjogW1R5cGUxLCBUeXBlMl0gfX0pO1xyXG5cclxuXHRsZXQgYyA9IG5ldyBDb250YWluZXIoeyBmb286IHsgYmFyOiB7IG5hbWU6IFwiZHVubm9cIiB9fX0pO1xyXG5cdGNvbnNvbGVNb2NrLmFwcGx5KCk7XHJcblx0Yy5mb28uYmFyOyAvL2dldCBhbWJpZ3VvdXMga2V5XHJcblx0YXNzZXJ0Lm9rKC9BbWJpZ3VvdXMgbW9kZWwgZm9yW1xcc1xcU10qP25hbWU6IFwiZHVubm9cIltcXHNcXFNdKj9vdGhlcjE6IFxcW0Jvb2xlYW5cXF1bXFxzXFxTXSo/b3RoZXIyOiBcXFtOdW1iZXJdL1xyXG5cdFx0XHQudGVzdChjb25zb2xlTW9ja1tcIndhcm5MYXN0QXJnc1wiXVswXSksXHJcblx0XHRcInNob3VsZCB3YXJuIGFib3V0IGFtYmlndW91cyBtb2RlbCBmb3Igb2JqZWN0IHN1YiBwcm9wXCJcclxuXHQpO1xyXG5cdGFzc2VydC5vayhjLmZvby5iYXIubmFtZSA9PT0gXCJkdW5ub1wiLCBcInNob3VsZCBwcmVzZXJ2ZSB2YWx1ZXMgZXZlbiB3aGVuIGFtYmlndW91cyBtb2RlbCBjYXN0XCIpO1xyXG5cdGFzc2VydC5vayghKGMuZm9vLmJhciBpbnN0YW5jZW9mIFR5cGUxIHx8IGMuZm9vLmJhciBpbnN0YW5jZW9mIFR5cGUyKSwgXCJzaG91bGQgbm90IGNhc3Qgd2hlbiBhbWJpZ3VvdXMgbW9kZWxcIik7XHJcblx0Y29uc29sZU1vY2sucmV2ZXJ0KCk7XHJcblxyXG5cdGNvbnNvbGVNb2NrLmFwcGx5KCk7XHJcblx0YyA9IG5ldyBDb250YWluZXIoeyBmb286IHsgYmFyOiBUeXBlMih7IG5hbWU6IFwiZHVubm9cIiB9KSB9fSk7XHJcblx0YXNzZXJ0Lm9rKGNvbnNvbGVNb2NrW1wid2Fybkxhc3RBcmdzXCJdLmxlbmd0aCA9PT0gMCwgXCJzaG91bGQgbm90IHdhcm4gd2hlbiBleHBsaWNpdCBtb2RlbCBjYXN0IGluIGFtYmlndW91cyBjb250ZXh0XCIpO1xyXG5cdGFzc2VydC5vayhjLmZvby5iYXIubmFtZSA9PT0gXCJkdW5ub1wiLCBcInNob3VsZCBwcmVzZXJ2ZSB2YWx1ZXMgd2hlbiBleHBsaWNpdCBtb2RlbCBjYXN0IGluIGFtYmlndW91cyBjb250ZXh0XCIpO1xyXG5cdGFzc2VydC5vayhjLmZvby5iYXIgaW5zdGFuY2VvZiBUeXBlMiwgXCJzaG91bGQgcHJlc2VydmUgbW9kZWwgd2hlbiBleHBsaWNpdCBjYXN0IGluIGFtYmlndW91cyBjb250ZXh0XCIpO1xyXG5cdGNvbnNvbGVNb2NrLnJldmVydCgpO1xyXG5cclxufSlcclxuXHJcblFVbml0LnRlc3QoXCJPYmplY3RNb2RlbCBkZWxldGUgdHJhcFwiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XHJcblxyXG5cdGNvbnN0IE0gPSBPYmplY3RNb2RlbCh7IF9wOiBCb29sZWFuLCBDOiBOdW1iZXIsIHU6IHVuZGVmaW5lZCwgbjogbnVsbCwgeDogW0Jvb2xlYW5dIH0pXHJcblx0Y29uc3QgbSA9IE0oeyBfcDogdHJ1ZSwgQzogNDIsIHU6IHVuZGVmaW5lZCwgbjogbnVsbCwgeDogZmFsc2UgfSlcclxuXHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbigpeyBkZWxldGUgbS5fcCB9LCAvVHlwZUVycm9yLipwcml2YXRlLywgXCJjYW5ub3QgZGVsZXRlIHByaXZhdGUgcHJvcFwiKTtcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uKCl7IGRlbGV0ZSBtLkMgfSwgL1R5cGVFcnJvci4qY29uc3RhbnQvLCBcImNhbm5vdCBkZWxldGUgY29uc3RhbnQgcHJvcFwiKTtcclxuXHRkZWxldGUgbS51OyAvLyBjYW4gZGVsZXRlIHVuZGVmaW5lZCBwcm9wZXJ0aWVzXHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbigpeyBkZWxldGUgbS5uIH0sIC9UeXBlRXJyb3IuKmV4cGVjdGluZyBuIHRvIGJlIG51bGwsIGdvdCB1bmRlZmluZWQvLCBcImRlbGV0ZSBzaG91bGQgZGlmZmVyZW5jaWF0ZSBudWxsIGFuZCB1bmRlZmluZWRcIik7XHJcblx0ZGVsZXRlIG0ueCAvLyBjYW4gZGVsZXRlIG9wdGlvbmFsIHByb3BlcnRpZXNcclxuXHRhc3NlcnQudGhyb3dzKGZ1bmN0aW9uKCl7IGRlbGV0ZSBtLnVuZGVmaW5lZCB9LCAvVHlwZUVycm9yLipjYW5ub3QgZmluZCBwcm9wZXJ0eS8sIFwiY2Fubm90IGRlbGV0ZSBwcm9wZXJ0eSBvdXQgb2YgbW9kZWwgZGVmaW5pdGlvblwiKTtcclxuXHJcbn0pXHJcblxyXG5RVW5pdC50ZXN0KFwiT2JqZWN0TW9kZWwgZGVmaW5lUHJvcGVydHkgdHJhcFwiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XHJcblxyXG5cdGNvbnN0IE0gPSBPYmplY3RNb2RlbCh7IF9wOiBCb29sZWFuLCBDOiBOdW1iZXIsIHU6IHVuZGVmaW5lZCwgbjogbnVsbCwgeDogW0Jvb2xlYW5dIH0pXHJcblx0Y29uc3QgbSA9IE0oeyBfcDogdHJ1ZSwgQzogNDIsIHU6IHVuZGVmaW5lZCwgbjogbnVsbCwgeDogZmFsc2UgfSlcclxuXHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbigpeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobSwgXCJfcFwiLCB7IHZhbHVlOiB0cnVlIH0pIH0sIC9UeXBlRXJyb3IuKnByaXZhdGUvLCBcImNhbm5vdCBkZWZpbmUgcHJpdmF0ZSBwcm9wXCIpO1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24oKXsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG0sIFwiQ1wiLCB7IHZhbHVlOiA0MyB9KX0sIC9UeXBlRXJyb3IuKmNvbnN0YW50LywgXCJjYW5ub3QgZGVmaW5lIGNvbnN0YW50IHByb3BcIik7XHJcblx0YXNzZXJ0LnRocm93cyhmdW5jdGlvbigpeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobSwgXCJ1XCIsIHsgdmFsdWU6IFwidGVzdFwiIH0pfSwgL1R5cGVFcnJvci4qZXhwZWN0aW5nIHUgdG8gYmUgdW5kZWZpbmVkLywgXCJjaGVjayB0eXBlIGFmdGVyIGRlZmluZVByb3BlcnR5XCIpO1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24oKXsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG0sIFwiblwiLCB7IHZhbHVlOiB1bmRlZmluZWQgfSkgfSwgL1R5cGVFcnJvci4qZXhwZWN0aW5nIG4gdG8gYmUgbnVsbCwgZ290IHVuZGVmaW5lZC8sIFwiZGVmaW5lUHJvcGVydHkgc2hvdWxkIGRpZmZlcmVuY2lhdGUgbnVsbCBhbmQgdW5kZWZpbmVkXCIpO1xyXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtLCBcInhcIiwgeyB2YWx1ZTogdW5kZWZpbmVkIH0pIC8vIGNhbiBkZWZpbmUgb3B0aW9uYWwgcHJvcGVydGllc1xyXG5cdGFzc2VydC50aHJvd3MoZnVuY3Rpb24oKXsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG0sIFwidW5kZWZpbmVkXCIsIHsgdmFsdWU6IFwidGVzdFwiIH0pIH0sIC9UeXBlRXJyb3IuKmNhbm5vdCBmaW5kIHByb3BlcnR5LywgXCJjYW5ub3QgZGVmaW5lIHByb3BlcnR5IG91dCBvZiBtb2RlbCBkZWZpbml0aW9uXCIpO1xyXG5cclxufSlcclxuXHJcblFVbml0LnRlc3QoXCJPYmplY3RNb2RlbCBvd25LZXlzL2hhcyB0cmFwXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcclxuXHJcblx0Y29uc3QgQSA9IE9iamVjdE1vZGVsKHsgX3BhOiBCb29sZWFuLCBhOiBCb29sZWFuIH0pXHJcblx0Y29uc3QgQiA9IEEuZXh0ZW5kKHsgX3BiOiBCb29sZWFuLCBiOiBCb29sZWFuIH0pXHJcblx0Y29uc3QgbSA9IEIoeyBfcGE6IHRydWUsIF9wYjogdHJ1ZSwgYTogdHJ1ZSwgYjogdHJ1ZSB9KVxyXG5cdEIucHJvdG90eXBlLkIgPSB0cnVlO1xyXG5cdEIucHJvdG90eXBlLl9QQiA9IHRydWU7XHJcblx0QS5wcm90b3R5cGUuQSA9IHRydWU7XHJcblx0QS5wcm90b3R5cGUuX1BBID0gdHJ1ZTtcclxuXHJcblx0YXNzZXJ0LmVxdWFsKFwiYVwiIGluIG0sIHRydWUpXHJcblx0YXNzZXJ0LmVxdWFsKFwiYlwiIGluIG0sIHRydWUpXHJcblx0YXNzZXJ0LmVxdWFsKFwidG9TdHJpbmdcIiBpbiBtLCB0cnVlKVxyXG5cclxuXHRhc3NlcnQuZXF1YWwoXCJBXCIgaW4gbSwgZmFsc2UpXHJcblx0YXNzZXJ0LmVxdWFsKFwiQlwiIGluIG0sIGZhbHNlKVxyXG5cdGFzc2VydC5lcXVhbChcIl9wYVwiIGluIG0sIGZhbHNlKVxyXG5cdGFzc2VydC5lcXVhbChcIl9wYlwiIGluIG0sIGZhbHNlKVxyXG5cdGFzc2VydC5lcXVhbChcIl9QQVwiIGluIG0sIGZhbHNlKVxyXG5cdGFzc2VydC5lcXVhbChcIl9QQlwiIGluIG0sIGZhbHNlKVxyXG5cdGFzc2VydC5lcXVhbChcInVua25vd25cIiBpbiBtLCBmYWxzZSlcclxuXHJcblx0Y29uc3Qgb0tleXMgPSBPYmplY3Qua2V5cyhtKTtcclxuXHJcblx0Y29uc3Qgb3duS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG0pO1xyXG5cclxuXHRhc3NlcnQuZXF1YWwob0tleXMuc29ydCgpLmpvaW4oXCIsXCIpLCBcImEsYlwiKVxyXG5cdGFzc2VydC5lcXVhbChvd25LZXlzLnNvcnQoKS5qb2luKFwiLFwiKSwgXCJhLGJcIilcclxufSlcclxuXHJcblFVbml0LnRlc3QoXCJPYmplY3RNb2RlbCBjb25zdHJ1Y3RvcnNcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xyXG5cclxuXHRjbGFzcyBVc2VyIGV4dGVuZHMgT2JqZWN0TW9kZWwoeyBmaXJzdE5hbWU6IFN0cmluZywgbGFzdE5hbWU6IFN0cmluZywgZnVsbE5hbWU6IFN0cmluZyB9KXtcclxuXHRcdGNvbnN0cnVjdG9yKHsgZmlyc3ROYW1lLCBsYXN0TmFtZSB9KXtcclxuXHRcdFx0Y29uc3QgZnVsbE5hbWUgPSBgJHtmaXJzdE5hbWV9ICR7bGFzdE5hbWV9YFxyXG5cdFx0XHRzdXBlcih7IGZpcnN0TmFtZSwgbGFzdE5hbWUsIGZ1bGxOYW1lIH0pXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRhc3NlcnQuZXF1YWwoKG5ldyBVc2VyKHsgZmlyc3ROYW1lOiBcIkpvaG5cIiwgbGFzdE5hbWU6IFwiU21pdGhcIiB9KSkuZnVsbE5hbWUsIFwiSm9obiBTbWl0aFwiLFxyXG5cdFx0XCJjaGVjayBlczYgY2xhc3MgY29uc3RydWN0b3JcIilcclxuXHJcblx0Y29uc3QgQmlsbCA9IE9iamVjdE1vZGVsKHsgdW5pdFByaWNlOiBOdW1iZXIsIHF1YW50aXR5OiBOdW1iZXIsIHRvdGFsOiBOdW1iZXIgfSk7XHJcblx0QmlsbC5jb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKHsgdW5pdFByaWNlLCBxdWFudGl0eSB9KSB7IHRoaXMudG90YWwgPSB1bml0UHJpY2UgKiBxdWFudGl0eSB9XHJcblxyXG5cdGFzc2VydC5lcXVhbCgobmV3IEJpbGwoeyB1bml0UHJpY2U6IDIuNTAsIHF1YW50aXR5OiA0IH0pKS50b3RhbCwgMTAsXHJcblx0XHRcImNoZWNrIGNvbnN0cnVjdG9yIG1ldGhvZFwiKVxyXG5cclxufSlcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3Rlc3Qvb2JqZWN0LW1vZGVsLnNwZWMuanNcbi8vIG1vZHVsZSBpZCA9IDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 8 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__basic_model__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__definition__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__helpers__ = __webpack_require__(1);\n\r\n\r\n\r\n\r\nconst MUTATOR_METHODS = [\"pop\", \"push\", \"reverse\", \"shift\", \"sort\", \"splice\", \"unshift\"]\r\n\r\nfunction ArrayModel(def){\r\n\r\n\tconst model = function(array = model.default) {\r\n\t\tif(!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"a\" /* is */])(model, this)) return new model(array)\r\n\t\tmodel.validate(array)\r\n\t\treturn new Proxy(array, {\r\n\t\t\tgetPrototypeOf: () => model.prototype,\r\n\r\n\t\t\tget(arr, key) {\r\n\t\t\t\tif (MUTATOR_METHODS.includes(key)) return proxifyMethod(arr, key, model)\r\n\t\t\t\treturn arr[key]\r\n\t\t\t},\r\n\r\n\t\t\tset(arr, key, val) {\r\n\t\t\t\treturn setArrayKey(arr, key, val, model)\r\n\t\t\t},\r\n\r\n\t\t\tdeleteProperty(arr, key){\r\n\t\t\t\treturn !(key in arr) || setArrayKey(arr, key, undefined, model)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"b\" /* setConstructorProto */])(model, Array.prototype)\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__basic_model__[\"b\" /* initModel */])(model, arguments, ArrayModel)\r\n\treturn model\r\n}\r\n\r\n__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"b\" /* setConstructorProto */])(ArrayModel, __WEBPACK_IMPORTED_MODULE_0__basic_model__[\"c\" /* BasicModel */].prototype)\r\nObject.assign(ArrayModel.prototype, {\r\n\r\n\ttoString(stack){\r\n\t\treturn 'Array of ' + __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"c\" /* toString */])(this.definition, stack)\r\n\t},\r\n\r\n\t_validate(arr, path, errorStack, callStack){\r\n\t\tif(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"a\" /* is */])(Array, arr))\r\n\t\t\tarr.forEach((a,i) => {\r\n\t\t\t\tarr[i] = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"a\" /* checkDefinition */])(a, this.definition, `${path || \"Array\"}[${i}]`, errorStack, callStack, true)\r\n\t\t\t})\r\n\t\telse errorStack.push({\r\n\t\t\texpected: this,\r\n\t\t\treceived: arr,\r\n\t\t\tpath\r\n\t\t})\r\n\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"b\" /* checkAssertions */])(arr, this, path, errorStack)\r\n\t}\r\n})\r\n\r\nfunction proxifyMethod(array, method, model){\r\n\treturn function() {\r\n\t\tconst testArray = array.slice()\r\n\t\tArray.prototype[method].apply(testArray, arguments)\r\n\t\tmodel.validate(testArray)\r\n\t\tconst returnValue = Array.prototype[method].apply(array, arguments)\r\n\t\tarray.forEach((a,i)=> array[i] = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"c\" /* cast */])(a, model.definition))\r\n\t\treturn returnValue\r\n\t}\r\n}\r\n\r\nfunction setArrayKey(array, key, value, model){\r\n\tlet path = `Array[${key}]`;\r\n\tif(parseInt(key) === +key && key >= 0)\r\n\t\tvalue = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"a\" /* checkDefinition */])(value, model.definition, path, model.errorStack, [], true)\r\n\r\n\tconst testArray = array.slice()\r\n\ttestArray[key] = value\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"b\" /* checkAssertions */])(testArray, model, path)\r\n\tconst isSuccess = !model.unstackErrors()\r\n\tif(isSuccess){\r\n\t\tarray[key] = value\r\n\t}\r\n\treturn isSuccess\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (ArrayModel);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9hcnJheS1tb2RlbC5qcz8zNjFiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhc2ljTW9kZWwsIGluaXRNb2RlbCB9IGZyb20gXCIuL2Jhc2ljLW1vZGVsXCJcclxuaW1wb3J0IHsgY2hlY2tEZWZpbml0aW9uLCBjaGVja0Fzc2VydGlvbnMsIGNhc3QgfSBmcm9tIFwiLi9kZWZpbml0aW9uXCJcclxuaW1wb3J0IHsgaXMsIHNldENvbnN0cnVjdG9yUHJvdG8sIHRvU3RyaW5nIH0gZnJvbSBcIi4vaGVscGVyc1wiXHJcblxyXG5jb25zdCBNVVRBVE9SX01FVEhPRFMgPSBbXCJwb3BcIiwgXCJwdXNoXCIsIFwicmV2ZXJzZVwiLCBcInNoaWZ0XCIsIFwic29ydFwiLCBcInNwbGljZVwiLCBcInVuc2hpZnRcIl1cclxuXHJcbmZ1bmN0aW9uIEFycmF5TW9kZWwoZGVmKXtcclxuXHJcblx0Y29uc3QgbW9kZWwgPSBmdW5jdGlvbihhcnJheSA9IG1vZGVsLmRlZmF1bHQpIHtcclxuXHRcdGlmKCFpcyhtb2RlbCwgdGhpcykpIHJldHVybiBuZXcgbW9kZWwoYXJyYXkpXHJcblx0XHRtb2RlbC52YWxpZGF0ZShhcnJheSlcclxuXHRcdHJldHVybiBuZXcgUHJveHkoYXJyYXksIHtcclxuXHRcdFx0Z2V0UHJvdG90eXBlT2Y6ICgpID0+IG1vZGVsLnByb3RvdHlwZSxcclxuXHJcblx0XHRcdGdldChhcnIsIGtleSkge1xyXG5cdFx0XHRcdGlmIChNVVRBVE9SX01FVEhPRFMuaW5jbHVkZXMoa2V5KSkgcmV0dXJuIHByb3hpZnlNZXRob2QoYXJyLCBrZXksIG1vZGVsKVxyXG5cdFx0XHRcdHJldHVybiBhcnJba2V5XVxyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0c2V0KGFyciwga2V5LCB2YWwpIHtcclxuXHRcdFx0XHRyZXR1cm4gc2V0QXJyYXlLZXkoYXJyLCBrZXksIHZhbCwgbW9kZWwpXHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHRkZWxldGVQcm9wZXJ0eShhcnIsIGtleSl7XHJcblx0XHRcdFx0cmV0dXJuICEoa2V5IGluIGFycikgfHwgc2V0QXJyYXlLZXkoYXJyLCBrZXksIHVuZGVmaW5lZCwgbW9kZWwpXHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHRzZXRDb25zdHJ1Y3RvclByb3RvKG1vZGVsLCBBcnJheS5wcm90b3R5cGUpXHJcblx0aW5pdE1vZGVsKG1vZGVsLCBhcmd1bWVudHMsIEFycmF5TW9kZWwpXHJcblx0cmV0dXJuIG1vZGVsXHJcbn1cclxuXHJcbnNldENvbnN0cnVjdG9yUHJvdG8oQXJyYXlNb2RlbCwgQmFzaWNNb2RlbC5wcm90b3R5cGUpXHJcbk9iamVjdC5hc3NpZ24oQXJyYXlNb2RlbC5wcm90b3R5cGUsIHtcclxuXHJcblx0dG9TdHJpbmcoc3RhY2spe1xyXG5cdFx0cmV0dXJuICdBcnJheSBvZiAnICsgdG9TdHJpbmcodGhpcy5kZWZpbml0aW9uLCBzdGFjaylcclxuXHR9LFxyXG5cclxuXHRfdmFsaWRhdGUoYXJyLCBwYXRoLCBlcnJvclN0YWNrLCBjYWxsU3RhY2spe1xyXG5cdFx0aWYoaXMoQXJyYXksIGFycikpXHJcblx0XHRcdGFyci5mb3JFYWNoKChhLGkpID0+IHtcclxuXHRcdFx0XHRhcnJbaV0gPSBjaGVja0RlZmluaXRpb24oYSwgdGhpcy5kZWZpbml0aW9uLCBgJHtwYXRoIHx8IFwiQXJyYXlcIn1bJHtpfV1gLCBlcnJvclN0YWNrLCBjYWxsU3RhY2ssIHRydWUpXHJcblx0XHRcdH0pXHJcblx0XHRlbHNlIGVycm9yU3RhY2sucHVzaCh7XHJcblx0XHRcdGV4cGVjdGVkOiB0aGlzLFxyXG5cdFx0XHRyZWNlaXZlZDogYXJyLFxyXG5cdFx0XHRwYXRoXHJcblx0XHR9KVxyXG5cclxuXHRcdGNoZWNrQXNzZXJ0aW9ucyhhcnIsIHRoaXMsIHBhdGgsIGVycm9yU3RhY2spXHJcblx0fVxyXG59KVxyXG5cclxuZnVuY3Rpb24gcHJveGlmeU1ldGhvZChhcnJheSwgbWV0aG9kLCBtb2RlbCl7XHJcblx0cmV0dXJuIGZ1bmN0aW9uKCkge1xyXG5cdFx0Y29uc3QgdGVzdEFycmF5ID0gYXJyYXkuc2xpY2UoKVxyXG5cdFx0QXJyYXkucHJvdG90eXBlW21ldGhvZF0uYXBwbHkodGVzdEFycmF5LCBhcmd1bWVudHMpXHJcblx0XHRtb2RlbC52YWxpZGF0ZSh0ZXN0QXJyYXkpXHJcblx0XHRjb25zdCByZXR1cm5WYWx1ZSA9IEFycmF5LnByb3RvdHlwZVttZXRob2RdLmFwcGx5KGFycmF5LCBhcmd1bWVudHMpXHJcblx0XHRhcnJheS5mb3JFYWNoKChhLGkpPT4gYXJyYXlbaV0gPSBjYXN0KGEsIG1vZGVsLmRlZmluaXRpb24pKVxyXG5cdFx0cmV0dXJuIHJldHVyblZhbHVlXHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRBcnJheUtleShhcnJheSwga2V5LCB2YWx1ZSwgbW9kZWwpe1xyXG5cdGxldCBwYXRoID0gYEFycmF5WyR7a2V5fV1gO1xyXG5cdGlmKHBhcnNlSW50KGtleSkgPT09ICtrZXkgJiYga2V5ID49IDApXHJcblx0XHR2YWx1ZSA9IGNoZWNrRGVmaW5pdGlvbih2YWx1ZSwgbW9kZWwuZGVmaW5pdGlvbiwgcGF0aCwgbW9kZWwuZXJyb3JTdGFjaywgW10sIHRydWUpXHJcblxyXG5cdGNvbnN0IHRlc3RBcnJheSA9IGFycmF5LnNsaWNlKClcclxuXHR0ZXN0QXJyYXlba2V5XSA9IHZhbHVlXHJcblx0Y2hlY2tBc3NlcnRpb25zKHRlc3RBcnJheSwgbW9kZWwsIHBhdGgpXHJcblx0Y29uc3QgaXNTdWNjZXNzID0gIW1vZGVsLnVuc3RhY2tFcnJvcnMoKVxyXG5cdGlmKGlzU3VjY2Vzcyl7XHJcblx0XHRhcnJheVtrZXldID0gdmFsdWVcclxuXHR9XHJcblx0cmV0dXJuIGlzU3VjY2Vzc1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBcnJheU1vZGVsXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYXJyYXktbW9kZWwuanNcbi8vIG1vZHVsZSBpZCA9IDhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 9 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__basic_model__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__definition__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__helpers__ = __webpack_require__(1);\n\r\n\r\n\r\n\r\nfunction FunctionModel(){\r\n\r\n\tconst model = function(fn = model.default) {\r\n\t\treturn new Proxy(fn, {\r\n\t\t\tgetPrototypeOf: () => model.prototype,\r\n\r\n\t\t\tapply (fn, ctx, args) {\r\n\t\t\t\tconst def = model.definition\r\n\r\n\t\t\t\tdef.arguments.forEach((argDef, i) => {\r\n\t\t\t\t\targs[i] = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"a\" /* checkDefinition */])(args[i], argDef, `arguments[${i}]`, model.errorStack, [], true)\r\n\t\t\t\t})\r\n\r\n\t\t\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"b\" /* checkAssertions */])(args, model, \"arguments\")\r\n\r\n\t\t\t\tlet result\r\n\t\t\t\tif(!model.errorStack.length){\r\n\t\t\t\t\tresult = Reflect.apply(fn, ctx, args)\r\n\t\t\t\t\tif (\"return\" in def)\r\n\t\t\t\t\t\tresult = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"a\" /* checkDefinition */])(result, def.return, \"return value\", model.errorStack, [], true)\r\n\t\t\t\t}\r\n\t\t\t\tmodel.unstackErrors()\r\n\t\t\t\treturn result\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"b\" /* setConstructorProto */])(model, Function.prototype)\r\n\r\n\tconst def = { arguments: [...arguments] }\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__basic_model__[\"b\" /* initModel */])(model, [ def ], FunctionModel)\r\n\r\n\treturn model\r\n}\r\n\r\n__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"b\" /* setConstructorProto */])(FunctionModel, __WEBPACK_IMPORTED_MODULE_0__basic_model__[\"c\" /* BasicModel */].prototype)\r\n\r\nObject.assign(FunctionModel.prototype, {\r\n\r\n\ttoString(stack){\r\n\t\tlet out = 'Function(' + this.definition.arguments.map(argDef => __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"c\" /* toString */])(argDef, stack)).join(\",\") +')'\r\n\t\tif(\"return\" in this.definition) {\r\n\t\t\tout += \" => \" + __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"c\" /* toString */])(this.definition.return)\r\n\t\t}\r\n\t\treturn out\r\n\t},\r\n\r\n\treturn(def){\r\n\t\tthis.definition.return = def\r\n\t\treturn this\r\n\t},\r\n\r\n\t_validate(f, path, errorStack){\r\n\t\tif (!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"e\" /* isFunction */])(f)) {\r\n\t\t\terrorStack.push({\r\n\t\t\t\texpected: \"Function\",\r\n\t\t\t\treceived: f,\r\n\t\t\t\tpath\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n})\r\n\r\nFunctionModel.prototype.assert(function(args){\r\n\tif (args.length > this.definition.arguments.length) return args\r\n\treturn true\r\n}, function(args){\r\n\treturn `expecting ${this.definition.arguments.length} arguments for ${__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"c\" /* toString */])(this)}, got ${args.length}`\r\n})\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (FunctionModel);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9mdW5jdGlvbi1tb2RlbC5qcz9hNTlhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhc2ljTW9kZWwsIGluaXRNb2RlbCB9IGZyb20gXCIuL2Jhc2ljLW1vZGVsXCJcclxuaW1wb3J0IHtjaGVja0RlZmluaXRpb24sIGNoZWNrQXNzZXJ0aW9uc30gZnJvbSBcIi4vZGVmaW5pdGlvblwiXHJcbmltcG9ydCB7IGlzRnVuY3Rpb24sIHNldENvbnN0cnVjdG9yUHJvdG8sIHRvU3RyaW5nIH0gZnJvbSBcIi4vaGVscGVyc1wiXHJcblxyXG5mdW5jdGlvbiBGdW5jdGlvbk1vZGVsKCl7XHJcblxyXG5cdGNvbnN0IG1vZGVsID0gZnVuY3Rpb24oZm4gPSBtb2RlbC5kZWZhdWx0KSB7XHJcblx0XHRyZXR1cm4gbmV3IFByb3h5KGZuLCB7XHJcblx0XHRcdGdldFByb3RvdHlwZU9mOiAoKSA9PiBtb2RlbC5wcm90b3R5cGUsXHJcblxyXG5cdFx0XHRhcHBseSAoZm4sIGN0eCwgYXJncykge1xyXG5cdFx0XHRcdGNvbnN0IGRlZiA9IG1vZGVsLmRlZmluaXRpb25cclxuXHJcblx0XHRcdFx0ZGVmLmFyZ3VtZW50cy5mb3JFYWNoKChhcmdEZWYsIGkpID0+IHtcclxuXHRcdFx0XHRcdGFyZ3NbaV0gPSBjaGVja0RlZmluaXRpb24oYXJnc1tpXSwgYXJnRGVmLCBgYXJndW1lbnRzWyR7aX1dYCwgbW9kZWwuZXJyb3JTdGFjaywgW10sIHRydWUpXHJcblx0XHRcdFx0fSlcclxuXHJcblx0XHRcdFx0Y2hlY2tBc3NlcnRpb25zKGFyZ3MsIG1vZGVsLCBcImFyZ3VtZW50c1wiKVxyXG5cclxuXHRcdFx0XHRsZXQgcmVzdWx0XHJcblx0XHRcdFx0aWYoIW1vZGVsLmVycm9yU3RhY2subGVuZ3RoKXtcclxuXHRcdFx0XHRcdHJlc3VsdCA9IFJlZmxlY3QuYXBwbHkoZm4sIGN0eCwgYXJncylcclxuXHRcdFx0XHRcdGlmIChcInJldHVyblwiIGluIGRlZilcclxuXHRcdFx0XHRcdFx0cmVzdWx0ID0gY2hlY2tEZWZpbml0aW9uKHJlc3VsdCwgZGVmLnJldHVybiwgXCJyZXR1cm4gdmFsdWVcIiwgbW9kZWwuZXJyb3JTdGFjaywgW10sIHRydWUpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdG1vZGVsLnVuc3RhY2tFcnJvcnMoKVxyXG5cdFx0XHRcdHJldHVybiByZXN1bHRcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRzZXRDb25zdHJ1Y3RvclByb3RvKG1vZGVsLCBGdW5jdGlvbi5wcm90b3R5cGUpXHJcblxyXG5cdGNvbnN0IGRlZiA9IHsgYXJndW1lbnRzOiBbLi4uYXJndW1lbnRzXSB9XHJcblx0aW5pdE1vZGVsKG1vZGVsLCBbIGRlZiBdLCBGdW5jdGlvbk1vZGVsKVxyXG5cclxuXHRyZXR1cm4gbW9kZWxcclxufVxyXG5cclxuc2V0Q29uc3RydWN0b3JQcm90byhGdW5jdGlvbk1vZGVsLCBCYXNpY01vZGVsLnByb3RvdHlwZSlcclxuXHJcbk9iamVjdC5hc3NpZ24oRnVuY3Rpb25Nb2RlbC5wcm90b3R5cGUsIHtcclxuXHJcblx0dG9TdHJpbmcoc3RhY2spe1xyXG5cdFx0bGV0IG91dCA9ICdGdW5jdGlvbignICsgdGhpcy5kZWZpbml0aW9uLmFyZ3VtZW50cy5tYXAoYXJnRGVmID0+IHRvU3RyaW5nKGFyZ0RlZiwgc3RhY2spKS5qb2luKFwiLFwiKSArJyknXHJcblx0XHRpZihcInJldHVyblwiIGluIHRoaXMuZGVmaW5pdGlvbikge1xyXG5cdFx0XHRvdXQgKz0gXCIgPT4gXCIgKyB0b1N0cmluZyh0aGlzLmRlZmluaXRpb24ucmV0dXJuKVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG91dFxyXG5cdH0sXHJcblxyXG5cdHJldHVybihkZWYpe1xyXG5cdFx0dGhpcy5kZWZpbml0aW9uLnJldHVybiA9IGRlZlxyXG5cdFx0cmV0dXJuIHRoaXNcclxuXHR9LFxyXG5cclxuXHRfdmFsaWRhdGUoZiwgcGF0aCwgZXJyb3JTdGFjayl7XHJcblx0XHRpZiAoIWlzRnVuY3Rpb24oZikpIHtcclxuXHRcdFx0ZXJyb3JTdGFjay5wdXNoKHtcclxuXHRcdFx0XHRleHBlY3RlZDogXCJGdW5jdGlvblwiLFxyXG5cdFx0XHRcdHJlY2VpdmVkOiBmLFxyXG5cdFx0XHRcdHBhdGhcclxuXHRcdFx0fSlcclxuXHRcdH1cclxuXHR9XHJcbn0pXHJcblxyXG5GdW5jdGlvbk1vZGVsLnByb3RvdHlwZS5hc3NlcnQoZnVuY3Rpb24oYXJncyl7XHJcblx0aWYgKGFyZ3MubGVuZ3RoID4gdGhpcy5kZWZpbml0aW9uLmFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBhcmdzXHJcblx0cmV0dXJuIHRydWVcclxufSwgZnVuY3Rpb24oYXJncyl7XHJcblx0cmV0dXJuIGBleHBlY3RpbmcgJHt0aGlzLmRlZmluaXRpb24uYXJndW1lbnRzLmxlbmd0aH0gYXJndW1lbnRzIGZvciAke3RvU3RyaW5nKHRoaXMpfSwgZ290ICR7YXJncy5sZW5ndGh9YFxyXG59KVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRnVuY3Rpb25Nb2RlbFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2Z1bmN0aW9uLW1vZGVsLmpzXG4vLyBtb2R1bGUgaWQgPSA5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 10 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__basic_model__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__definition__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__helpers__ = __webpack_require__(1);\n\r\n\r\n\r\n\r\nconst MAP_MUTATOR_METHODS = [\"set\", \"delete\", \"clear\"]\r\n\r\nfunction MapModel(def){\r\n\r\n\tconst model = function(iterable) {\r\n\t\tconst map = new Map(iterable)\r\n\t\tmodel.validate(map)\r\n\r\n\t\tfor(let method of MAP_MUTATOR_METHODS){\r\n\t\t\tmap[method] = function() {\r\n\t\t\t\tconst testMap = new Map(map)\r\n\t\t\t\tMap.prototype[method].apply(testMap, arguments)\r\n\t\t\t\tmodel.validate(testMap)\r\n\t\t\t\treturn Map.prototype[method].apply(map, arguments)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"h\" /* setConstructor */])(map, model)\r\n\t\treturn map\r\n\t}\r\n\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"b\" /* setConstructorProto */])(model, Map.prototype)\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__basic_model__[\"b\" /* initModel */])(model, arguments, MapModel)\r\n\treturn model\r\n}\r\n\r\n__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"b\" /* setConstructorProto */])(MapModel, __WEBPACK_IMPORTED_MODULE_0__basic_model__[\"c\" /* BasicModel */].prototype)\r\nObject.assign(MapModel.prototype, {\r\n\r\n\ttoString(stack){\r\n\t\treturn \"Map of \" + __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"c\" /* toString */])(this.definition, stack)\r\n\t},\r\n\r\n\t_validate(map, path, errorStack, callStack){\r\n\t\tif(map instanceof Map){\r\n\t\t\tfor(let [key,val] of map){\r\n\t\t\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"a\" /* checkDefinition */])(val, this.definition, `${path || \"Map\"}[${key}]`, errorStack, callStack)\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\terrorStack.push({\r\n\t\t\t\texpected: this,\r\n\t\t\t\treceived: map,\r\n\t\t\t\tpath\r\n\t\t\t})\r\n\t\t}\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"b\" /* checkAssertions */])(map, this, errorStack)\r\n\t}\r\n})\r\n\r\n/* unused harmony default export */ var _unused_webpack_default_export = (MapModel);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbWFwLW1vZGVsLmpzP2E0NmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzaWNNb2RlbCwgaW5pdE1vZGVsIH0gZnJvbSBcIi4vYmFzaWMtbW9kZWxcIlxyXG5pbXBvcnQgeyBjaGVja0RlZmluaXRpb24sIGNoZWNrQXNzZXJ0aW9ucyB9IGZyb20gXCIuL2RlZmluaXRpb25cIlxyXG5pbXBvcnQgeyBzZXRDb25zdHJ1Y3Rvciwgc2V0Q29uc3RydWN0b3JQcm90bywgdG9TdHJpbmcgfSBmcm9tIFwiLi9oZWxwZXJzXCJcclxuXHJcbmNvbnN0IE1BUF9NVVRBVE9SX01FVEhPRFMgPSBbXCJzZXRcIiwgXCJkZWxldGVcIiwgXCJjbGVhclwiXVxyXG5cclxuZnVuY3Rpb24gTWFwTW9kZWwoZGVmKXtcclxuXHJcblx0Y29uc3QgbW9kZWwgPSBmdW5jdGlvbihpdGVyYWJsZSkge1xyXG5cdFx0Y29uc3QgbWFwID0gbmV3IE1hcChpdGVyYWJsZSlcclxuXHRcdG1vZGVsLnZhbGlkYXRlKG1hcClcclxuXHJcblx0XHRmb3IobGV0IG1ldGhvZCBvZiBNQVBfTVVUQVRPUl9NRVRIT0RTKXtcclxuXHRcdFx0bWFwW21ldGhvZF0gPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRjb25zdCB0ZXN0TWFwID0gbmV3IE1hcChtYXApXHJcblx0XHRcdFx0TWFwLnByb3RvdHlwZVttZXRob2RdLmFwcGx5KHRlc3RNYXAsIGFyZ3VtZW50cylcclxuXHRcdFx0XHRtb2RlbC52YWxpZGF0ZSh0ZXN0TWFwKVxyXG5cdFx0XHRcdHJldHVybiBNYXAucHJvdG90eXBlW21ldGhvZF0uYXBwbHkobWFwLCBhcmd1bWVudHMpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRzZXRDb25zdHJ1Y3RvcihtYXAsIG1vZGVsKVxyXG5cdFx0cmV0dXJuIG1hcFxyXG5cdH1cclxuXHJcblx0c2V0Q29uc3RydWN0b3JQcm90byhtb2RlbCwgTWFwLnByb3RvdHlwZSlcclxuXHRpbml0TW9kZWwobW9kZWwsIGFyZ3VtZW50cywgTWFwTW9kZWwpXHJcblx0cmV0dXJuIG1vZGVsXHJcbn1cclxuXHJcbnNldENvbnN0cnVjdG9yUHJvdG8oTWFwTW9kZWwsIEJhc2ljTW9kZWwucHJvdG90eXBlKVxyXG5PYmplY3QuYXNzaWduKE1hcE1vZGVsLnByb3RvdHlwZSwge1xyXG5cclxuXHR0b1N0cmluZyhzdGFjayl7XHJcblx0XHRyZXR1cm4gXCJNYXAgb2YgXCIgKyB0b1N0cmluZyh0aGlzLmRlZmluaXRpb24sIHN0YWNrKVxyXG5cdH0sXHJcblxyXG5cdF92YWxpZGF0ZShtYXAsIHBhdGgsIGVycm9yU3RhY2ssIGNhbGxTdGFjayl7XHJcblx0XHRpZihtYXAgaW5zdGFuY2VvZiBNYXApe1xyXG5cdFx0XHRmb3IobGV0IFtrZXksdmFsXSBvZiBtYXApe1xyXG5cdFx0XHRcdGNoZWNrRGVmaW5pdGlvbih2YWwsIHRoaXMuZGVmaW5pdGlvbiwgYCR7cGF0aCB8fCBcIk1hcFwifVske2tleX1dYCwgZXJyb3JTdGFjaywgY2FsbFN0YWNrKVxyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRlcnJvclN0YWNrLnB1c2goe1xyXG5cdFx0XHRcdGV4cGVjdGVkOiB0aGlzLFxyXG5cdFx0XHRcdHJlY2VpdmVkOiBtYXAsXHJcblx0XHRcdFx0cGF0aFxyXG5cdFx0XHR9KVxyXG5cdFx0fVxyXG5cdFx0Y2hlY2tBc3NlcnRpb25zKG1hcCwgdGhpcywgZXJyb3JTdGFjaylcclxuXHR9XHJcbn0pXHJcblxyXG5leHBvcnQgZGVmYXVsdCBNYXBNb2RlbFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL21hcC1tb2RlbC5qc1xuLy8gbW9kdWxlIGlkID0gMTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 11 */,
/* 12 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__basic_model__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__definition__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__helpers__ = __webpack_require__(1);\n\r\n\r\n\r\n\r\nfunction ObjectModel(def){\r\n\tconst model = function(obj = model.default) {\r\n\t\tif(!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"a\" /* is */])(model, this)) return new model(obj)\r\n\t\tif(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"a\" /* is */])(model, obj)) return obj\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"i\" /* merge */])(this, obj, true)\r\n\t\tif(model.hasOwnProperty(\"constructor\")){\r\n\t\t\tmodel.constructor.call(this, obj)\r\n\t\t}\r\n\t\tmodel.validate(this)\r\n\t\treturn getProxy(model, this, model.definition)\r\n\t}\r\n\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"b\" /* setConstructorProto */])(model, Object.prototype)\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__basic_model__[\"b\" /* initModel */])(model, arguments, ObjectModel)\r\n\treturn model\r\n}\r\n\r\n__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"b\" /* setConstructorProto */])(ObjectModel, __WEBPACK_IMPORTED_MODULE_0__basic_model__[\"c\" /* BasicModel */].prototype)\r\n\r\nObject.assign(ObjectModel.prototype, {\r\n\r\n\tdefaults(p){\r\n\t\tObject.assign(this.prototype, p)\r\n\t\treturn this\r\n\t},\r\n\r\n\ttoString(stack){\r\n\t\treturn __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"c\" /* toString */])(this.definition, stack)\r\n\t},\r\n\r\n\textend(){\r\n\t\tconst def = {}\r\n\t\tconst proto = {}\r\n\t\tconst args = [...arguments]\r\n\r\n\t\tObject.assign(def, this.definition)\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"i\" /* merge */])(proto, this.prototype, false, true)\r\n\t\targs.forEach(arg => {\r\n\t\t\tif(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"a\" /* is */])(__WEBPACK_IMPORTED_MODULE_0__basic_model__[\"c\" /* BasicModel */], arg)) __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"i\" /* merge */])(def, arg.definition, true)\r\n\t\t\tif(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"e\" /* isFunction */])(arg)) __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"i\" /* merge */])(proto, arg.prototype, true, true)\r\n\t\t\tif(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"j\" /* isObject */])(arg)) __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"i\" /* merge */])(def, arg, true, true)\r\n\t\t})\r\n\t\tdelete proto.constructor;\r\n\r\n\t\tlet assertions = [...this.assertions]\r\n\t\targs.forEach(arg => {\r\n\t\t\tif(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"a\" /* is */])(__WEBPACK_IMPORTED_MODULE_0__basic_model__[\"c\" /* BasicModel */], arg)) assertions = assertions.concat(arg.assertions)\r\n\t\t})\r\n\r\n\t\tconst submodel = new this.constructor(def)\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"b\" /* setConstructorProto */])(submodel, this.prototype)\r\n\t\tObject.assign(submodel.prototype, proto)\r\n\t\tsubmodel.assertions = assertions\r\n\t\tsubmodel.errorCollector = this.errorCollector\r\n\t\treturn submodel\r\n\t},\r\n\r\n\t_validate(obj, path, errorStack, callStack){\r\n\t\tif(!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"j\" /* isObject */])(obj)){\r\n\t\t\terrorStack.push({\r\n\t\t\t\texpected: this,\r\n\t\t\t\treceived: obj,\r\n\t\t\t\tpath\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"a\" /* checkDefinition */])(obj, this.definition, path, errorStack, callStack)\r\n\t\t}\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"b\" /* checkAssertions */])(obj, this, path, errorStack)\r\n\t}\r\n})\r\n\r\nfunction getProxy(model, obj, def, path) {\r\n\tif(!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"d\" /* isPlainObject */])(def)) {\r\n\t\treturn __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"c\" /* cast */])(obj, def)\r\n\t}\r\n\r\n\treturn new Proxy(obj || {}, {\r\n\t\tgetPrototypeOf: () => model.prototype,\r\n\r\n\t\tget(o, key) {\r\n\t\t\tconst newPath = (path ? path + '.' + key : key),\r\n\t\t\t      defPart = def[key];\r\n\r\n\t\t\tif(key in def && model.conventionForPrivate(key)){\r\n\t\t\t\tmodel.errorStack.push({\r\n\t\t\t\t\tmessage: `cannot access to private property ${newPath}`\r\n\t\t\t\t})\r\n\t\t\t\tmodel.unstackErrors()\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tif(o[key] && o.hasOwnProperty(key) && !__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"d\" /* isPlainObject */])(defPart) && !__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"a\" /* is */])(__WEBPACK_IMPORTED_MODULE_0__basic_model__[\"c\" /* BasicModel */], o[key].constructor)){\r\n\t\t\t\to[key] = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"c\" /* cast */])(o[key], defPart) // cast nested models\r\n\t\t\t}\r\n\r\n\t\t\tif (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"e\" /* isFunction */])(o[key]) && o[key].bind) {\r\n\t\t\t\treturn o[key].bind(o); // auto-bind methods to original object, so they can access private props\r\n\t\t\t}\r\n\r\n\t\t\treturn getProxy(model, o[key], defPart, newPath)\r\n\t\t},\r\n\r\n\t\tset(o, key, val) {\r\n\t\t\treturn controlMutation(model, def, path, o, key, (newPath) => {\r\n\t\t\t\tReflect.set(o, key, getProxy(model, val, def[key], newPath))\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\tdeleteProperty(o, key) {\r\n\t\t\treturn controlMutation(model, def, path, o, key, () => Reflect.deleteProperty(o, key))\r\n\t\t},\r\n\r\n\t\tdefineProperty(o, key, args){\r\n\t\t\treturn controlMutation(model, def, path, o, key, () => Reflect.defineProperty(o, key, args))\r\n\t\t},\r\n\r\n\t\thas(o, key){\r\n\t\t\treturn Reflect.has(o, key) && Reflect.has(def, key) && !model.conventionForPrivate(key)\r\n\t\t},\r\n\r\n\t\townKeys(o){\r\n\t\t\treturn Reflect.ownKeys(o).filter(key => Reflect.has(def, key) && !model.conventionForPrivate(key))\r\n\t\t},\r\n\r\n\t\tgetOwnPropertyDescriptor(o, key){\r\n\t\t\treturn model.conventionForPrivate(key) ? undefined : Reflect.getOwnPropertyDescriptor(o, key)\r\n\t\t}\r\n\t})\r\n}\r\n\r\nfunction controlMutation(model, def, path, o, key, applyMutation){\r\n\tconst newPath = (path ? path + '.' + key : key),\r\n\t      isPrivate = model.conventionForPrivate(key),\r\n\t      isConstant = model.conventionForConstant(key),\r\n\t      isOwnProperty = o.hasOwnProperty(key),\r\n\t      initialPropDescriptor = isOwnProperty && Object.getOwnPropertyDescriptor(o, key)\r\n\r\n\tif(key in def && (isPrivate || (isConstant && o[key] !== undefined))){\r\n\t\tmodel.errorStack.push({\r\n\t\t\tmessage: `cannot modify ${isPrivate ? \"private\" : \"constant\"} ${key}`\r\n\t\t})\r\n\t}\r\n\r\n\tif(def.hasOwnProperty(key)){\r\n\t\tapplyMutation(newPath)\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"a\" /* checkDefinition */])(o[key], def[key], newPath, model.errorStack, [])\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"b\" /* checkAssertions */])(o, model, newPath)\r\n\t} else {\r\n\t\tmodel.errorStack.push({\r\n\t\t\tmessage: `cannot find property ${newPath} in the model definition`\r\n\t\t})\r\n\t}\r\n\r\n\tif(model.errorStack.length){\r\n\t\tif(isOwnProperty) Object.defineProperty(o, key, initialPropDescriptor)\r\n\t\telse delete o[key] // back to the initial property defined in prototype chain\r\n\r\n\t\tmodel.unstackErrors()\r\n\t\treturn false\r\n\t}\r\n\r\n\treturn true\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (ObjectModel);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvb2JqZWN0LW1vZGVsLmpzPzQxMWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzaWNNb2RlbCwgaW5pdE1vZGVsIH0gZnJvbSBcIi4vYmFzaWMtbW9kZWxcIlxyXG5pbXBvcnQgeyBjYXN0LCBjaGVja0RlZmluaXRpb24sIGNoZWNrQXNzZXJ0aW9ucyB9IGZyb20gXCIuL2RlZmluaXRpb25cIlxyXG5pbXBvcnQgeyBpcywgaXNGdW5jdGlvbiwgaXNPYmplY3QsIGlzUGxhaW5PYmplY3QsIG1lcmdlLCBzZXRDb25zdHJ1Y3RvclByb3RvLCB0b1N0cmluZyB9IGZyb20gXCIuL2hlbHBlcnNcIlxyXG5cclxuZnVuY3Rpb24gT2JqZWN0TW9kZWwoZGVmKXtcclxuXHRjb25zdCBtb2RlbCA9IGZ1bmN0aW9uKG9iaiA9IG1vZGVsLmRlZmF1bHQpIHtcclxuXHRcdGlmKCFpcyhtb2RlbCwgdGhpcykpIHJldHVybiBuZXcgbW9kZWwob2JqKVxyXG5cdFx0aWYoaXMobW9kZWwsIG9iaikpIHJldHVybiBvYmpcclxuXHRcdG1lcmdlKHRoaXMsIG9iaiwgdHJ1ZSlcclxuXHRcdGlmKG1vZGVsLmhhc093blByb3BlcnR5KFwiY29uc3RydWN0b3JcIikpe1xyXG5cdFx0XHRtb2RlbC5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIG9iailcclxuXHRcdH1cclxuXHRcdG1vZGVsLnZhbGlkYXRlKHRoaXMpXHJcblx0XHRyZXR1cm4gZ2V0UHJveHkobW9kZWwsIHRoaXMsIG1vZGVsLmRlZmluaXRpb24pXHJcblx0fVxyXG5cclxuXHRzZXRDb25zdHJ1Y3RvclByb3RvKG1vZGVsLCBPYmplY3QucHJvdG90eXBlKVxyXG5cdGluaXRNb2RlbChtb2RlbCwgYXJndW1lbnRzLCBPYmplY3RNb2RlbClcclxuXHRyZXR1cm4gbW9kZWxcclxufVxyXG5cclxuc2V0Q29uc3RydWN0b3JQcm90byhPYmplY3RNb2RlbCwgQmFzaWNNb2RlbC5wcm90b3R5cGUpXHJcblxyXG5PYmplY3QuYXNzaWduKE9iamVjdE1vZGVsLnByb3RvdHlwZSwge1xyXG5cclxuXHRkZWZhdWx0cyhwKXtcclxuXHRcdE9iamVjdC5hc3NpZ24odGhpcy5wcm90b3R5cGUsIHApXHJcblx0XHRyZXR1cm4gdGhpc1xyXG5cdH0sXHJcblxyXG5cdHRvU3RyaW5nKHN0YWNrKXtcclxuXHRcdHJldHVybiB0b1N0cmluZyh0aGlzLmRlZmluaXRpb24sIHN0YWNrKVxyXG5cdH0sXHJcblxyXG5cdGV4dGVuZCgpe1xyXG5cdFx0Y29uc3QgZGVmID0ge31cclxuXHRcdGNvbnN0IHByb3RvID0ge31cclxuXHRcdGNvbnN0IGFyZ3MgPSBbLi4uYXJndW1lbnRzXVxyXG5cclxuXHRcdE9iamVjdC5hc3NpZ24oZGVmLCB0aGlzLmRlZmluaXRpb24pXHJcblx0XHRtZXJnZShwcm90bywgdGhpcy5wcm90b3R5cGUsIGZhbHNlLCB0cnVlKVxyXG5cdFx0YXJncy5mb3JFYWNoKGFyZyA9PiB7XHJcblx0XHRcdGlmKGlzKEJhc2ljTW9kZWwsIGFyZykpIG1lcmdlKGRlZiwgYXJnLmRlZmluaXRpb24sIHRydWUpXHJcblx0XHRcdGlmKGlzRnVuY3Rpb24oYXJnKSkgbWVyZ2UocHJvdG8sIGFyZy5wcm90b3R5cGUsIHRydWUsIHRydWUpXHJcblx0XHRcdGlmKGlzT2JqZWN0KGFyZykpIG1lcmdlKGRlZiwgYXJnLCB0cnVlLCB0cnVlKVxyXG5cdFx0fSlcclxuXHRcdGRlbGV0ZSBwcm90by5jb25zdHJ1Y3RvcjtcclxuXHJcblx0XHRsZXQgYXNzZXJ0aW9ucyA9IFsuLi50aGlzLmFzc2VydGlvbnNdXHJcblx0XHRhcmdzLmZvckVhY2goYXJnID0+IHtcclxuXHRcdFx0aWYoaXMoQmFzaWNNb2RlbCwgYXJnKSkgYXNzZXJ0aW9ucyA9IGFzc2VydGlvbnMuY29uY2F0KGFyZy5hc3NlcnRpb25zKVxyXG5cdFx0fSlcclxuXHJcblx0XHRjb25zdCBzdWJtb2RlbCA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKGRlZilcclxuXHRcdHNldENvbnN0cnVjdG9yUHJvdG8oc3VibW9kZWwsIHRoaXMucHJvdG90eXBlKVxyXG5cdFx0T2JqZWN0LmFzc2lnbihzdWJtb2RlbC5wcm90b3R5cGUsIHByb3RvKVxyXG5cdFx0c3VibW9kZWwuYXNzZXJ0aW9ucyA9IGFzc2VydGlvbnNcclxuXHRcdHN1Ym1vZGVsLmVycm9yQ29sbGVjdG9yID0gdGhpcy5lcnJvckNvbGxlY3RvclxyXG5cdFx0cmV0dXJuIHN1Ym1vZGVsXHJcblx0fSxcclxuXHJcblx0X3ZhbGlkYXRlKG9iaiwgcGF0aCwgZXJyb3JTdGFjaywgY2FsbFN0YWNrKXtcclxuXHRcdGlmKCFpc09iamVjdChvYmopKXtcclxuXHRcdFx0ZXJyb3JTdGFjay5wdXNoKHtcclxuXHRcdFx0XHRleHBlY3RlZDogdGhpcyxcclxuXHRcdFx0XHRyZWNlaXZlZDogb2JqLFxyXG5cdFx0XHRcdHBhdGhcclxuXHRcdFx0fSlcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGNoZWNrRGVmaW5pdGlvbihvYmosIHRoaXMuZGVmaW5pdGlvbiwgcGF0aCwgZXJyb3JTdGFjaywgY2FsbFN0YWNrKVxyXG5cdFx0fVxyXG5cdFx0Y2hlY2tBc3NlcnRpb25zKG9iaiwgdGhpcywgcGF0aCwgZXJyb3JTdGFjaylcclxuXHR9XHJcbn0pXHJcblxyXG5mdW5jdGlvbiBnZXRQcm94eShtb2RlbCwgb2JqLCBkZWYsIHBhdGgpIHtcclxuXHRpZighaXNQbGFpbk9iamVjdChkZWYpKSB7XHJcblx0XHRyZXR1cm4gY2FzdChvYmosIGRlZilcclxuXHR9XHJcblxyXG5cdHJldHVybiBuZXcgUHJveHkob2JqIHx8IHt9LCB7XHJcblx0XHRnZXRQcm90b3R5cGVPZjogKCkgPT4gbW9kZWwucHJvdG90eXBlLFxyXG5cclxuXHRcdGdldChvLCBrZXkpIHtcclxuXHRcdFx0Y29uc3QgbmV3UGF0aCA9IChwYXRoID8gcGF0aCArICcuJyArIGtleSA6IGtleSksXHJcblx0XHRcdCAgICAgIGRlZlBhcnQgPSBkZWZba2V5XTtcclxuXHJcblx0XHRcdGlmKGtleSBpbiBkZWYgJiYgbW9kZWwuY29udmVudGlvbkZvclByaXZhdGUoa2V5KSl7XHJcblx0XHRcdFx0bW9kZWwuZXJyb3JTdGFjay5wdXNoKHtcclxuXHRcdFx0XHRcdG1lc3NhZ2U6IGBjYW5ub3QgYWNjZXNzIHRvIHByaXZhdGUgcHJvcGVydHkgJHtuZXdQYXRofWBcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdG1vZGVsLnVuc3RhY2tFcnJvcnMoKVxyXG5cdFx0XHRcdHJldHVyblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZihvW2tleV0gJiYgby5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICFpc1BsYWluT2JqZWN0KGRlZlBhcnQpICYmICFpcyhCYXNpY01vZGVsLCBvW2tleV0uY29uc3RydWN0b3IpKXtcclxuXHRcdFx0XHRvW2tleV0gPSBjYXN0KG9ba2V5XSwgZGVmUGFydCkgLy8gY2FzdCBuZXN0ZWQgbW9kZWxzXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChpc0Z1bmN0aW9uKG9ba2V5XSkgJiYgb1trZXldLmJpbmQpIHtcclxuXHRcdFx0XHRyZXR1cm4gb1trZXldLmJpbmQobyk7IC8vIGF1dG8tYmluZCBtZXRob2RzIHRvIG9yaWdpbmFsIG9iamVjdCwgc28gdGhleSBjYW4gYWNjZXNzIHByaXZhdGUgcHJvcHNcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIGdldFByb3h5KG1vZGVsLCBvW2tleV0sIGRlZlBhcnQsIG5ld1BhdGgpXHJcblx0XHR9LFxyXG5cclxuXHRcdHNldChvLCBrZXksIHZhbCkge1xyXG5cdFx0XHRyZXR1cm4gY29udHJvbE11dGF0aW9uKG1vZGVsLCBkZWYsIHBhdGgsIG8sIGtleSwgKG5ld1BhdGgpID0+IHtcclxuXHRcdFx0XHRSZWZsZWN0LnNldChvLCBrZXksIGdldFByb3h5KG1vZGVsLCB2YWwsIGRlZltrZXldLCBuZXdQYXRoKSlcclxuXHRcdFx0fSlcclxuXHRcdH0sXHJcblxyXG5cdFx0ZGVsZXRlUHJvcGVydHkobywga2V5KSB7XHJcblx0XHRcdHJldHVybiBjb250cm9sTXV0YXRpb24obW9kZWwsIGRlZiwgcGF0aCwgbywga2V5LCAoKSA9PiBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KG8sIGtleSkpXHJcblx0XHR9LFxyXG5cclxuXHRcdGRlZmluZVByb3BlcnR5KG8sIGtleSwgYXJncyl7XHJcblx0XHRcdHJldHVybiBjb250cm9sTXV0YXRpb24obW9kZWwsIGRlZiwgcGF0aCwgbywga2V5LCAoKSA9PiBSZWZsZWN0LmRlZmluZVByb3BlcnR5KG8sIGtleSwgYXJncykpXHJcblx0XHR9LFxyXG5cclxuXHRcdGhhcyhvLCBrZXkpe1xyXG5cdFx0XHRyZXR1cm4gUmVmbGVjdC5oYXMobywga2V5KSAmJiBSZWZsZWN0LmhhcyhkZWYsIGtleSkgJiYgIW1vZGVsLmNvbnZlbnRpb25Gb3JQcml2YXRlKGtleSlcclxuXHRcdH0sXHJcblxyXG5cdFx0b3duS2V5cyhvKXtcclxuXHRcdFx0cmV0dXJuIFJlZmxlY3Qub3duS2V5cyhvKS5maWx0ZXIoa2V5ID0+IFJlZmxlY3QuaGFzKGRlZiwga2V5KSAmJiAhbW9kZWwuY29udmVudGlvbkZvclByaXZhdGUoa2V5KSlcclxuXHRcdH0sXHJcblxyXG5cdFx0Z2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8sIGtleSl7XHJcblx0XHRcdHJldHVybiBtb2RlbC5jb252ZW50aW9uRm9yUHJpdmF0ZShrZXkpID8gdW5kZWZpbmVkIDogUmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobywga2V5KVxyXG5cdFx0fVxyXG5cdH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbnRyb2xNdXRhdGlvbihtb2RlbCwgZGVmLCBwYXRoLCBvLCBrZXksIGFwcGx5TXV0YXRpb24pe1xyXG5cdGNvbnN0IG5ld1BhdGggPSAocGF0aCA/IHBhdGggKyAnLicgKyBrZXkgOiBrZXkpLFxyXG5cdCAgICAgIGlzUHJpdmF0ZSA9IG1vZGVsLmNvbnZlbnRpb25Gb3JQcml2YXRlKGtleSksXHJcblx0ICAgICAgaXNDb25zdGFudCA9IG1vZGVsLmNvbnZlbnRpb25Gb3JDb25zdGFudChrZXkpLFxyXG5cdCAgICAgIGlzT3duUHJvcGVydHkgPSBvLmhhc093blByb3BlcnR5KGtleSksXHJcblx0ICAgICAgaW5pdGlhbFByb3BEZXNjcmlwdG9yID0gaXNPd25Qcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8sIGtleSlcclxuXHJcblx0aWYoa2V5IGluIGRlZiAmJiAoaXNQcml2YXRlIHx8IChpc0NvbnN0YW50ICYmIG9ba2V5XSAhPT0gdW5kZWZpbmVkKSkpe1xyXG5cdFx0bW9kZWwuZXJyb3JTdGFjay5wdXNoKHtcclxuXHRcdFx0bWVzc2FnZTogYGNhbm5vdCBtb2RpZnkgJHtpc1ByaXZhdGUgPyBcInByaXZhdGVcIiA6IFwiY29uc3RhbnRcIn0gJHtrZXl9YFxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdGlmKGRlZi5oYXNPd25Qcm9wZXJ0eShrZXkpKXtcclxuXHRcdGFwcGx5TXV0YXRpb24obmV3UGF0aClcclxuXHRcdGNoZWNrRGVmaW5pdGlvbihvW2tleV0sIGRlZltrZXldLCBuZXdQYXRoLCBtb2RlbC5lcnJvclN0YWNrLCBbXSlcclxuXHRcdGNoZWNrQXNzZXJ0aW9ucyhvLCBtb2RlbCwgbmV3UGF0aClcclxuXHR9IGVsc2Uge1xyXG5cdFx0bW9kZWwuZXJyb3JTdGFjay5wdXNoKHtcclxuXHRcdFx0bWVzc2FnZTogYGNhbm5vdCBmaW5kIHByb3BlcnR5ICR7bmV3UGF0aH0gaW4gdGhlIG1vZGVsIGRlZmluaXRpb25gXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0aWYobW9kZWwuZXJyb3JTdGFjay5sZW5ndGgpe1xyXG5cdFx0aWYoaXNPd25Qcm9wZXJ0eSkgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGtleSwgaW5pdGlhbFByb3BEZXNjcmlwdG9yKVxyXG5cdFx0ZWxzZSBkZWxldGUgb1trZXldIC8vIGJhY2sgdG8gdGhlIGluaXRpYWwgcHJvcGVydHkgZGVmaW5lZCBpbiBwcm90b3R5cGUgY2hhaW5cclxuXHJcblx0XHRtb2RlbC51bnN0YWNrRXJyb3JzKClcclxuXHRcdHJldHVybiBmYWxzZVxyXG5cdH1cclxuXHJcblx0cmV0dXJuIHRydWVcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgT2JqZWN0TW9kZWw7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvb2JqZWN0LW1vZGVsLmpzXG4vLyBtb2R1bGUgaWQgPSAxMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 13 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__basic_model__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__definition__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__helpers__ = __webpack_require__(1);\n\r\n\r\n\r\n\r\nconst SET_MUTATOR_METHODS = [\"add\", \"delete\", \"clear\"]\r\n\r\nfunction SetModel(def){\r\n\r\n\tconst model = function(iterable) {\r\n\t\tconst _set = new Set(iterable)\r\n\t\tmodel.validate(_set)\r\n\r\n\t\tfor(let method of SET_MUTATOR_METHODS){\r\n\t\t\t_set[method] = function() {\r\n\t\t\t\tconst testSet = new Set(_set)\r\n\t\t\t\tSet.prototype[method].apply(testSet, arguments)\r\n\t\t\t\tmodel.validate(testSet)\r\n\t\t\t\treturn Set.prototype[method].apply(_set, arguments)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"h\" /* setConstructor */])(_set, model)\r\n\t\treturn _set\r\n\t}\r\n\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"b\" /* setConstructorProto */])(model, Set.prototype)\r\n\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__basic_model__[\"b\" /* initModel */])(model, arguments, SetModel)\r\n\treturn model\r\n}\r\n\r\n__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"b\" /* setConstructorProto */])(SetModel, __WEBPACK_IMPORTED_MODULE_0__basic_model__[\"c\" /* BasicModel */].prototype)\r\nObject.assign(SetModel.prototype, {\r\n\r\n\ttoString(stack){\r\n\t\treturn \"Set of \" + __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers__[\"c\" /* toString */])(this.definition, stack)\r\n\t},\r\n\r\n\t_validate(_set, path, errorStack, callStack){\r\n\t\tif(_set instanceof Set){\r\n\t\t\tfor(let item of _set.values()){\r\n\t\t\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"a\" /* checkDefinition */])(item, this.definition, (path || \"Set\"), errorStack, callStack)\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\terrorStack.push({\r\n\t\t\t\texpected: this,\r\n\t\t\t\treceived: _set,\r\n\t\t\t\tpath\r\n\t\t\t})\r\n\t\t}\r\n\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__definition__[\"b\" /* checkAssertions */])(_set, this, errorStack)\r\n\t}\r\n})\r\n\r\n/* unused harmony default export */ var _unused_webpack_default_export = (SetModel);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2V0LW1vZGVsLmpzPzFjMzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzaWNNb2RlbCwgaW5pdE1vZGVsIH0gZnJvbSBcIi4vYmFzaWMtbW9kZWxcIlxyXG5pbXBvcnQgeyBjaGVja0RlZmluaXRpb24sIGNoZWNrQXNzZXJ0aW9ucyB9IGZyb20gXCIuL2RlZmluaXRpb25cIlxyXG5pbXBvcnQgeyBzZXRDb25zdHJ1Y3Rvciwgc2V0Q29uc3RydWN0b3JQcm90bywgdG9TdHJpbmcgfSBmcm9tIFwiLi9oZWxwZXJzXCJcclxuXHJcbmNvbnN0IFNFVF9NVVRBVE9SX01FVEhPRFMgPSBbXCJhZGRcIiwgXCJkZWxldGVcIiwgXCJjbGVhclwiXVxyXG5cclxuZnVuY3Rpb24gU2V0TW9kZWwoZGVmKXtcclxuXHJcblx0Y29uc3QgbW9kZWwgPSBmdW5jdGlvbihpdGVyYWJsZSkge1xyXG5cdFx0Y29uc3QgX3NldCA9IG5ldyBTZXQoaXRlcmFibGUpXHJcblx0XHRtb2RlbC52YWxpZGF0ZShfc2V0KVxyXG5cclxuXHRcdGZvcihsZXQgbWV0aG9kIG9mIFNFVF9NVVRBVE9SX01FVEhPRFMpe1xyXG5cdFx0XHRfc2V0W21ldGhvZF0gPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRjb25zdCB0ZXN0U2V0ID0gbmV3IFNldChfc2V0KVxyXG5cdFx0XHRcdFNldC5wcm90b3R5cGVbbWV0aG9kXS5hcHBseSh0ZXN0U2V0LCBhcmd1bWVudHMpXHJcblx0XHRcdFx0bW9kZWwudmFsaWRhdGUodGVzdFNldClcclxuXHRcdFx0XHRyZXR1cm4gU2V0LnByb3RvdHlwZVttZXRob2RdLmFwcGx5KF9zZXQsIGFyZ3VtZW50cylcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHNldENvbnN0cnVjdG9yKF9zZXQsIG1vZGVsKVxyXG5cdFx0cmV0dXJuIF9zZXRcclxuXHR9XHJcblxyXG5cdHNldENvbnN0cnVjdG9yUHJvdG8obW9kZWwsIFNldC5wcm90b3R5cGUpXHJcblx0aW5pdE1vZGVsKG1vZGVsLCBhcmd1bWVudHMsIFNldE1vZGVsKVxyXG5cdHJldHVybiBtb2RlbFxyXG59XHJcblxyXG5zZXRDb25zdHJ1Y3RvclByb3RvKFNldE1vZGVsLCBCYXNpY01vZGVsLnByb3RvdHlwZSlcclxuT2JqZWN0LmFzc2lnbihTZXRNb2RlbC5wcm90b3R5cGUsIHtcclxuXHJcblx0dG9TdHJpbmcoc3RhY2spe1xyXG5cdFx0cmV0dXJuIFwiU2V0IG9mIFwiICsgdG9TdHJpbmcodGhpcy5kZWZpbml0aW9uLCBzdGFjaylcclxuXHR9LFxyXG5cclxuXHRfdmFsaWRhdGUoX3NldCwgcGF0aCwgZXJyb3JTdGFjaywgY2FsbFN0YWNrKXtcclxuXHRcdGlmKF9zZXQgaW5zdGFuY2VvZiBTZXQpe1xyXG5cdFx0XHRmb3IobGV0IGl0ZW0gb2YgX3NldC52YWx1ZXMoKSl7XHJcblx0XHRcdFx0Y2hlY2tEZWZpbml0aW9uKGl0ZW0sIHRoaXMuZGVmaW5pdGlvbiwgKHBhdGggfHwgXCJTZXRcIiksIGVycm9yU3RhY2ssIGNhbGxTdGFjaylcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0ZXJyb3JTdGFjay5wdXNoKHtcclxuXHRcdFx0XHRleHBlY3RlZDogdGhpcyxcclxuXHRcdFx0XHRyZWNlaXZlZDogX3NldCxcclxuXHRcdFx0XHRwYXRoXHJcblx0XHRcdH0pXHJcblx0XHR9XHJcblx0XHRjaGVja0Fzc2VydGlvbnMoX3NldCwgdGhpcywgZXJyb3JTdGFjaylcclxuXHR9XHJcbn0pXHJcblxyXG5leHBvcnQgZGVmYXVsdCBTZXRNb2RlbFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3NldC1tb2RlbC5qc1xuLy8gbW9kdWxlIGlkID0gMTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 14 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("const consoleMock = {\n\tmethods: [\"debug\",\"log\",\"warn\",\"error\"],\n\tapply: function(){\n\t\tconsoleMock.methods.forEach(function(method){\n\t\t\tconsoleMock[\"_default\"+method] = console[method];\n\t\t\tconsoleMock[method+\"LastArgs\"] = [];\n\t\t\tconsole[method] = function(){\n\t\t\t\tconsoleMock[method+\"LastArgs\"] = arguments;\n\t\t\t}\n\t\t})\n\t},\n\trevert: function(){\n\t\tconsoleMock.methods.forEach(function(method){\n\t\t\tconsole[method] = consoleMock[\"_default\"+method];\n\t\t\tconsoleMock[method+\"LastArgs\"] = [];\n\t\t});\n\t}\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (consoleMock);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi90ZXN0L21vY2tzL2NvbnNvbGUuanM/ZjBjZiJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjb25zb2xlTW9jayA9IHtcblx0bWV0aG9kczogW1wiZGVidWdcIixcImxvZ1wiLFwid2FyblwiLFwiZXJyb3JcIl0sXG5cdGFwcGx5OiBmdW5jdGlvbigpe1xuXHRcdGNvbnNvbGVNb2NrLm1ldGhvZHMuZm9yRWFjaChmdW5jdGlvbihtZXRob2Qpe1xuXHRcdFx0Y29uc29sZU1vY2tbXCJfZGVmYXVsdFwiK21ldGhvZF0gPSBjb25zb2xlW21ldGhvZF07XG5cdFx0XHRjb25zb2xlTW9ja1ttZXRob2QrXCJMYXN0QXJnc1wiXSA9IFtdO1xuXHRcdFx0Y29uc29sZVttZXRob2RdID0gZnVuY3Rpb24oKXtcblx0XHRcdFx0Y29uc29sZU1vY2tbbWV0aG9kK1wiTGFzdEFyZ3NcIl0gPSBhcmd1bWVudHM7XG5cdFx0XHR9XG5cdFx0fSlcblx0fSxcblx0cmV2ZXJ0OiBmdW5jdGlvbigpe1xuXHRcdGNvbnNvbGVNb2NrLm1ldGhvZHMuZm9yRWFjaChmdW5jdGlvbihtZXRob2Qpe1xuXHRcdFx0Y29uc29sZVttZXRob2RdID0gY29uc29sZU1vY2tbXCJfZGVmYXVsdFwiK21ldGhvZF07XG5cdFx0XHRjb25zb2xlTW9ja1ttZXRob2QrXCJMYXN0QXJnc1wiXSA9IFtdO1xuXHRcdH0pO1xuXHR9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb25zb2xlTW9jaztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3Rlc3QvbW9ja3MvY29uc29sZS5qc1xuLy8gbW9kdWxlIGlkID0gMTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(4);
__webpack_require__(5);
__webpack_require__(6);
module.exports = __webpack_require__(7);


/***/ })
/******/ ]);