// ObjectModel v2.0.0 - http://objectmodel.js.org
!function(a){function b(a){return"function"==typeof a}function c(a){return"object"==typeof a}function d(a){return a&&c(a)&&U.getPrototypeOf(a)===U.prototype}function e(a){return{}.toString.call(a).match(/\s([a-zA-Z]+)/)[1]}function f(a){return Array.prototype.slice.call(a)}function g(a,b,c){U.keys(b||{}).forEach(function(e){if(c&&d(b[e])){var f={};g(f,a[e],c),g(f,b[e],c),a[e]=f}else a[e]=b[e]})}function h(a,b,c,d){V(a,b,{value:c,enumerable:d,writable:!0,configurable:!0})}function i(a,b){U.setPrototypeOf(a,b[O]),h(a,P,b)}function j(a,b){a[O]=U.create(b),a[O][P]=a}function k(a,d){if(d&&(d.length>15||d.indexOf(a)>=0))return"...";if(null==a)return String(a);if("string"==typeof a)return'"'+a+'"';if(d=[a].concat(d),b(a))return a.name||a.toString(d);if(X(a))return"["+a.map(function(a){return k(a,d)}).join(", ")+"]";if(a&&c(a)){var e=new Array(d.length-1).join("	");return"{"+U.keys(a).map(function(b){return"\n"+e+b+": "+k(a[b],d)}).join(",")+"\n}"}return String(a)}function l(a){if(!m(a))return l[w](a);var b=function(a){return b[D](a),a};return n(b,a,l),b}function m(a){return"Object"!=e(a)}function n(a,b,c){i(a,c),a[B]=b,a[C]=[],h(a,M,[])}function o(a){if(m(a)){if(!X(a))return[a];if(1===a.length)return a.concat(void 0,null)}else U.keys(a).forEach(function(b){a[b]=o(a[b])});return a}function p(a,b,c,d,e){var f;if(b instanceof l){var g=d.indexOf(b);if(-1!==g&&-1!==d.slice(g+1).indexOf(b))return;return b[E](a,c,d.concat(b),e)}if(m(b)){for(var h=o(b),i=0,j=h.length;j>i;i++)if(q(a,h[i],c,d))return;f={},f[I]=b,f[J]=a,f[K]=c,e.push(f)}else U.keys(b).forEach(function(f){var g=null!=a?a[f]:void 0;p(g,b[f],c?c+"."+f:f,d,e)})}function q(a,c,d,e){if(null==a)return a===c;if(!m(c)||c instanceof l){var f=[];return p(a,c,d,e,f),!f.length}return c instanceof RegExp?c[F](a):a===c||b(c)&&a instanceof c||a[P]===c}function r(a,b,c){for(var d=0,e=b.length;e>d;d++)if(!b[d](a)){var f={};f[L]="assertion failed: "+(b[d][H]||k(b[d])),c.push(f)}}function s(a,b,c,d){if(c instanceof l&&b&&!(b instanceof c))return c(b);if(m(c))return b;var e=b instanceof U?b:{},f=U.create(U.getPrototypeOf(e));for(var g in e)!e.hasOwnProperty(g)||g in c||(f[g]=e[g]);return U.keys(c).forEach(function(g){var h=d?d+"."+g:g,i=l[z](g);V(f,g,{get:function(){return s(a,e[g],c[g],h)},set:function(d){if(i&&void 0!==e[g]){var f={};f[L]="cannot redefine constant "+g,a[M].push(f)}var j=s(a,d,c[g],h);p(j,c[g],h,[],a[M]);var k=e[g];e[g]=j,r(b,a[C],a[M]),a[M].length&&(e[g]=k,a[N]())},enumerable:!l[A](g)})}),f}function t(a,b,c,d){V(a,c,{enumerable:!0,get:function(){return b[c]},set:function(a){v(b,c,a,d)}})}function u(a,b,c,d){return function(){var e=a.slice();if(Array[O][b].apply(e,arguments),c[D](e),!W)for(var f in e)!e.hasOwnProperty(f)||f in d||t(d,a,f,c);return Array[O][b].apply(a,arguments)}}function v(a,b,c,d){parseInt(b)===+b&&b>=0&&p(c,d[B],x+"["+b+"]",[],d[M]);var e=a.slice();e[b]=c,r(e,d[C],d[M]),d[N](),a[b]=c}var w="Object",x="Array",y="Function",z="conventionForConstant",A="conventionForPrivate",B="definition",C="assertions",D="validate",E="_validator",F="test",G="extend",H="description",I="expected",J="received",K="path",L="message",M="errorStack",N="unstack",O="prototype",P="constructor",Q="defaults",R="return",S="arguments",T=["pop","push","reverse","shift","sort","splice","unshift"],U=Object,V=U.defineProperty,W=b(this.Proxy);"name"in Function.prototype&&"name"in function(){}||V(Function.prototype,"name",{get:function(){var a=Function.prototype.toString.call(this).match(/\s*function\s+([^\(\s]*)\s*/);return a&&a[1]}}),!U.setPrototypeOf&&{__proto__:[]}instanceof Array&&(U.setPrototypeOf=function(a,b){return a.__proto__=b,a});var X=function(a){return a instanceof Array};j(l,Function[O]);var Y=l[O];Y.toString=function(a){return o(this[B]).map(function(b){return k(b,a)}).join(" or ")},Y[D]=function(a,b){this[E](a,null,[],this[M]),this[N](b)},Y[F]=function(a){var b=[];return this[E](a,null,[],b),!b.length},Y[G]=function(){var a,b,c=f(this[C]),d=f(arguments);this instanceof l[w]?(a={},b={},g(a,this[B]),g(b,this[O]),d.forEach(function(c){c instanceof l?(g(a,c[B],!0),g(b,c[O],!0)):g(a,c,!0)})):a=d.reduce(function(a,b){return a.concat(o(b))},o(this[B])).filter(function(a,b,c){return c.indexOf(a)===b}),d.forEach(function(a){a instanceof l&&(c=c.concat(a[C]))});var e=new this[P](a);return j(e,this[O]),g(e[O],b),e[C]=c,e},Y.assert=function(a,b){return h(a,H,b),this[C].push(a),this},Y.errorCollector=function(a){throw new TypeError(a.map(function(a){return a[L]}).join("\n"))},l[z]=function(a){return a.toUpperCase()===a},l[A]=function(a){return"_"===a[0]},h(Y,E,function(a,b,c,d){p(a,this[B],b,c,d),r(a,this[C],d)}),h(Y,N,function(a){if(this[M].length){a||(a=this.errorCollector);var b=this[M].map(function(a){if(!a[L]){var b=X(a[I])?a[I]:[a[I]];a[L]="expecting "+(a[K]?a[K]+" to be ":"")+b.map(function(a){return k(a)}).join(" or ")+", got "+(null!=a[J]?e(a[J])+" ":"")+k(a[J])}return a});this[M]=[],a.call(this,b)}}),l[w]=function(a){var b=function(a){if(!(this instanceof b))return new b(a);g(this,a,!0);var c=s(b,this,b[B]);return b[D](c),c};return j(b,U[O]),n(b,a,l[w]),b},j(l[w],Y);var Z=l[w][O];Z[Q]=function(a){return g(this[O],a),this},Z.toString=function(a){return k(this[B],a)},h(Z,E,function(a,b,d,e){if(c(a))p(a,this[B],b,d,e);else{var f={};f[I]=this,f[J]=a,f[K]=b,e.push(f)}r(a,this[C],this[M])}),l[x]=function(a){var b=function(a){var c;if(b[D](a),W)c=new Proxy(a,{get:function(a,c){return T.indexOf(c)>=0?u(a,c,b):a[c]},set:function(a,c,d){v(a,c,d,b)}});else{c=U.create(Array[O]);for(var d in a)a.hasOwnProperty(d)&&t(c,a,d,b);V(c,"length",{get:function(){return a.length}}),T.forEach(function(d){h(c,d,u(a,d,b,c))})}return i(c,b),c};return j(b,Array[O]),n(b,a,l[x]),b},j(l[x],l[O]);var $=l[x][O];$.toString=function(a){return x+" of "+k(this[B],a)},h($,E,function(a,b,c,d){if(X(a))for(var e=0,f=a.length;f>e;e++)p(a[e],this[B],(b||x)+"["+e+"]",c,d);else{var g={};g[I]=this,g[J]=a,g[K]=b,d.push(g)}r(a,this[C],this[M])}),l[y]=function(){var a=function(b){var c=a[B],d=function(){var d=[];if(g(d,c[Q]),g(d,f(arguments)),d.length>c[S].length){var e={};e[I]=k(b)+" to be called with "+c[S].length+" "+S,e[J]=d.length,a[M].push(e)}c[S].forEach(function(b,c){p(d[c],b,S+"["+c+"]",[],a[M])}),r(d,a[C],a[M]);var h=b.apply(this,d);return R in c&&p(h,c[R],R+" value",[],a[M]),a[N](),h};return i(d,a),d};j(a,Function[O]);var b={};return b[S]=f(arguments),n(a,b,l[y]),a},j(l[y],l[O]);var _=l[y][O];_.toString=function(a){var b=y+"("+this[B][S].map(function(b){return k(b,a)}).join(",")+")";return R in this[B]&&(b+=" => "+R+k(this[B][R])),b},_[R]=function(a){return this[B][R]=a,this},_[Q]=function(){return this[B][Q]=f(arguments),this},h(_,E,function(a,c,d,e){if(!b(a)){var f={};f[I]=y,f[J]=a,f[K]=c,e.push(f)}}),a.Model=l}(this);