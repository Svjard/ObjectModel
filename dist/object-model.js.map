{"version":3,"file":"object-model.js","sources":["../src/helpers.js","../src/definition.js","../src/basic-model.js","../src/model.js","../src/object-model.js","../src/devtool-formatter.js","../src/array-model.js","../src/function-model.js","../src/map-model.js","../src/set-model.js"],"sourcesContent":["import Model from \"./model\"\r\n\r\nconst defineProperty = Object.defineProperty\r\n\r\nexport function is(Constructor, obj){\r\n\treturn obj instanceof Constructor\r\n}\r\n\r\nexport function isString(o){\r\n\treturn typeof o === \"string\"\r\n}\r\n\r\nexport function isFunction(o){\r\n\treturn typeof o === \"function\"\r\n}\r\n\r\nexport function isObject(o){\r\n    return typeof o === \"object\"\r\n}\r\n\r\nexport function isPlainObject(o){\r\n\treturn o && isObject(o) && Object.getPrototypeOf(o) === Object.prototype\r\n}\r\n\r\nexport function bettertypeof(x){\r\n\treturn ({}).toString.call(x).match(/\\s([a-zA-Z]+)/)[1]\r\n}\r\n\r\nexport function merge(target, src={}, deep, includingProto) {\r\n\tfor(let key in src){\r\n\t\tif(includingProto || src.hasOwnProperty(key)){\r\n\t\t\tif(deep && isPlainObject(src[key])){\r\n\t\t\t\tconst o = {}\r\n\t\t\t\tmerge(o, target[key], deep)\r\n\t\t\t\tmerge(o, src[key], deep)\r\n\t\t\t\ttarget[key] = o\r\n\t\t\t} else {\r\n\t\t\t\ttarget[key] = src[key]\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function define(obj, key, value, enumerable=false) {\r\n\tdefineProperty(obj, key, { value, enumerable, writable: true, configurable: true })\r\n}\r\n\r\nexport function setConstructor(model, constructor){\r\n\tObject.setPrototypeOf(model, constructor.prototype)\r\n\tdefine(model, \"constructor\", constructor)\r\n}\r\n\r\nexport function extend(child, parent, props){\r\n\tchild.prototype = Object.assign(Object.create(parent.prototype), { constructor: child }, props)\r\n}\r\n\r\nexport function toString(obj, stack = []){\r\n\tif(stack.length > 15 || stack.includes(obj)) return '...'\r\n\tif(obj === null || obj === undefined) return String(obj)\r\n\tif(isString(obj)) return `\"${obj}\"`\r\n\tif(is(Model, obj)) return obj.toString(stack)\r\n\tstack = [obj].concat(stack)\r\n\tif(isFunction(obj)) return obj.name || obj.toString(stack)\r\n\tif(is(Array, obj)) return `[${obj.map(item => toString(item, stack)).join(', ')}]`\r\n\tif(obj.toString !== Object.prototype.toString) return obj.toString()\r\n\tif(obj && isObject(obj)) {\r\n\t\tconst props = Object.keys(obj),\r\n\t\t\t  indent = '\\t'.repeat(stack.length)\r\n\t\treturn `{${props.map(\r\n\t\t\tkey => `\\n${indent+key}: ${toString(obj[key], stack)}`\r\n\t\t).join(',')} ${props.length ? `\\n${indent.slice(1)}` : ''}}`\r\n\t}\r\n\treturn String(obj)\r\n}","import {is, isPlainObject, isFunction, toString} from \"./helpers\"\r\nimport {Model} from \"./model\"\r\n\r\nexport function parseDefinition(def){\r\n\tif(!isPlainObject(def)){\r\n\t\tif(!is(Array, def)) return [def]\r\n\t\tif(def.length === 1) return [...def, undefined, null]\r\n\t} else {\r\n\t\tfor(let key of Object.keys(def))\r\n\t\t\tdef[key] = parseDefinition(def[key])\r\n\t}\r\n\treturn def\r\n}\r\n\r\n\r\nexport function checkDefinition(obj, def, path, errors, stack, shouldCast=false){\r\n\tconst indexFound = stack.indexOf(def)\r\n\tif(indexFound !== -1 && stack.indexOf(def, indexFound+1) !== -1)\r\n\t\treturn obj //if found twice in call stack, cycle detected, skip validation\r\n\r\n\tif(shouldCast)\r\n\t\tobj = cast(obj, def)\r\n\r\n\r\n\tif(is(Model, def)){\r\n\t\tdef._validate(obj, path, errors, stack.concat(def))\r\n\t}\r\n\telse if(isPlainObject(def)){\r\n\t\tObject.keys(def).forEach(key => {\r\n\t\t\tconst val = obj != null ? obj[key] : undefined\r\n\t\t\tcheckDefinition(val, def[key], path ? path + '.' + key : key, errors, stack)\r\n\t\t})\r\n\t}\r\n\telse {\r\n\t\tconst pdef = parseDefinition(def)\r\n\t\tif(pdef.some(part => checkDefinitionPart(obj, part, path, stack)))\r\n\t\t\treturn obj\r\n\r\n\t\terrors.push({\r\n\t\t\texpected: def,\r\n\t\t\treceived: obj,\r\n\t\t\tpath\r\n\t\t})\r\n\t}\r\n\r\n\treturn obj\r\n}\r\n\r\nexport function checkDefinitionPart(obj, def, path, stack){\r\n\tif(obj == null) return obj === def\r\n\tif(isPlainObject(def) || is(Model, def)){ // object or model as part of union type\r\n\t\tconst errors = []\r\n\t\tcheckDefinition(obj, def, path, errors, stack)\r\n\t\treturn !errors.length\r\n\t}\r\n\tif(is(RegExp, def)) return def.test(obj)\r\n\tif(def === Number || def === Date) return obj.constructor === def && !isNaN(obj)\r\n\treturn obj === def\r\n\t\t|| (isFunction(def) && is(def, obj))\r\n\t\t|| obj.constructor === def\r\n}\r\n\r\n\r\nexport function checkAssertions(obj, model, path, errors = model.errors){\r\n\tfor(let assertion of model.assertions){\r\n\t\tlet result\r\n\t\ttry {\r\n\t\t\tresult = assertion.call(model, obj)\r\n\t\t} catch(err){\r\n\t\t\tresult = err\r\n\t\t}\r\n\t\tif(result !== true){\r\n\t\t\tconst onFail = isFunction(assertion.description) ? assertion.description : (assertionResult, value) =>\r\n\t\t\t\t`assertion \"${assertion.description}\" returned ${toString(assertionResult)} for value ${toString(value)}`\r\n\t\t\terrors.push({\r\n\t\t\t\tmessage: onFail.call(model, result, obj),\r\n\t\t\t\texpected: assertion,\r\n\t\t\t\treceived: obj,\r\n\t\t\t\tpath\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function cast(obj, defNode=[]) {\r\n\tif(!obj || isPlainObject(defNode) || is(Model, obj.constructor))\r\n\t\treturn obj // no value or not leaf or already a model instance\r\n\r\n\tconst def = parseDefinition(defNode),\r\n\t      suitableModels = []\r\n\r\n\tfor (let part of def) {\r\n\t\tif(is(Model, part) && part.test(obj))\r\n\t\t\tsuitableModels.push(part)\r\n\t}\r\n\r\n\tif (suitableModels.length === 1) {\r\n\t\t// automatically cast to suitable model when explicit\r\n\t\tconst model = suitableModels[0];\r\n\t\treturn is(Model, model) ? model(obj) : new model(obj) // basic models should not be called with new\r\n\t}\r\n\r\n\tif (suitableModels.length > 1)\r\n\t\tconsole.warn(`Ambiguous model for value ${toString(obj)}, could be ${suitableModels.join(\" or \")}`)\r\n\r\n\treturn obj\r\n}","import { extend, setConstructor } from \"./helpers\"\r\nimport { Model } from \"./model\"\r\n\r\nexport default function BasicModel(def){\r\n\tconst model = function(val = model.default) {\r\n\t\tmodel.validate(val)\r\n\t\treturn val\r\n\t}\r\n\r\n\tsetConstructor(model, BasicModel)\r\n\tmodel._init(arguments)\r\n\treturn model\r\n}\r\n\r\nextend(BasicModel, Model)","import {bettertypeof, define, extend, is, isPlainObject, toString} from \"./helpers\"\r\nimport {checkAssertions, checkDefinition, parseDefinition} from \"./definition\"\r\nimport BasicModel from \"./basic-model\"\r\nimport ObjectModel from \"./object-model\"\r\n\r\n\r\nexport function Model(def){\r\n\treturn isPlainObject(def) ? new ObjectModel(def) : new BasicModel(def)\r\n}\r\n\r\nObject.assign(Model.prototype, {\r\n\tname: \"Model\",\r\n\tassertions: [],\r\n\r\n\tconventionForConstant: key => key.toUpperCase() === key,\r\n\tconventionForPrivate: key => key[0] === \"_\",\r\n\r\n\ttoString(stack){\r\n\t\treturn parseDefinition(this.definition).map(d => toString(d, stack)).join(\" or \")\r\n\t},\r\n\r\n\tas(name){\r\n\t\tdefine(this, \"name\", name);\r\n\t\treturn this\r\n\t},\r\n\r\n\tdefaultTo(val){\r\n\t\tthis.default = val\r\n\t\treturn this\r\n\t},\r\n\r\n\t_init(args){\r\n\t\tif(args.length === 0) throw new Error(\"Model definition is required\");\r\n\t\tthis.definition = args[0]\r\n\t\tthis.assertions = this.assertions.slice()\r\n\t\tdefine(this, \"errors\", [])\r\n\t\tdelete this.name;\r\n\t},\r\n\r\n\t_validate(obj, path, errors, stack){\r\n\t\tcheckDefinition(obj, this.definition, path, errors, stack)\r\n\t\tcheckAssertions(obj, this, path, errors)\r\n\t},\r\n\r\n\tvalidate(obj, errorCollector){\r\n\t\tthis._validate(obj, null, this.errors, [])\r\n\t\tthis.unstackErrors(errorCollector)\r\n\t},\r\n\r\n\ttest(obj){\r\n\t\tlet failed,\r\n\t\t    initialErrorCollector = this.errorCollector\r\n\t\tthis.errorCollector = () => { failed = true }\r\n\t\tnew this(obj)\r\n\t\tthis.errorCollector = initialErrorCollector\r\n\t\treturn !failed\r\n\t},\r\n\r\n\t// throw all errors collected\r\n\tunstackErrors(errorCollector){\r\n\t\tif (!this.errors.length) return\r\n\t\tif (!errorCollector) errorCollector = this.errorCollector\r\n\t\tconst errors = this.errors.map(err => {\r\n\t\t\tif (!err.message) {\r\n\t\t\t\tconst def = is(Array, err.expected) ? err.expected : [err.expected]\r\n\t\t\t\terr.message = (\"expecting \" + (err.path ? err.path + \" to be \" : \"\") + def.map(d => toString(d)).join(\" or \")\r\n\t\t\t\t+ \", got \" + (err.received != null ? bettertypeof(err.received) + \" \" : \"\") + toString(err.received))\r\n\t\t\t}\r\n\t\t\treturn err\r\n\t\t})\r\n\t\tthis.errors = []\r\n\t\terrorCollector.call(this, errors)\r\n\t},\r\n\r\n\terrorCollector(errors){\r\n\t\tlet e = new TypeError(errors.map(e => e.message).join('\\n'))\r\n\t\te.stack = e.stack.replace(/\\n.*object-model(.|\\n)*object-model.*/, \"\") // blackbox objectmodel in stacktrace\r\n\t\tthrow e\r\n\t},\r\n\r\n\textend(...newParts){\r\n\t\tlet def = this.definition;\r\n\t\tif(newParts.length > 0){\r\n\t\t\tdef = newParts\r\n\t\t\t\t.reduce((def, ext) => def.concat(ext), Array.isArray(def) ? def.slice() : [def]) // clone to lose ref\r\n\t\t\t\t.filter((value, index, self) => self.indexOf(value) === index) // remove duplicates\r\n\t\t}\r\n\r\n\t\tlet assertions = [...this.assertions]\r\n\t\tnewParts.forEach(part => {\r\n\t\t\tif(is(BasicModel, part)) assertions = assertions.concat(part.assertions)\r\n\t\t})\r\n\r\n\t\tconst submodel = new this.constructor(def)\r\n\t\textend(submodel, this)\r\n\t\tsubmodel.assertions = assertions\r\n\t\tsubmodel.errorCollector = this.errorCollector\r\n\t\treturn submodel\r\n\t},\r\n\r\n\tassert(assertion, description = toString(assertion)){\r\n\t\tdefine(assertion, \"description\", description);\r\n\t\tthis.assertions = this.assertions.concat(assertion)\r\n\t\treturn this\r\n\t}\r\n})\r\n\r\nexport default Model;","import { Model } from \"./model\"\r\nimport { cast, checkDefinition, checkAssertions } from \"./definition\"\r\nimport { extend, is, isString, isFunction, isObject, isPlainObject, merge, setConstructor, toString } from \"./helpers\"\r\n\r\n\r\nexport default function ObjectModel(def){\r\n\tconst model = function(obj = model.default) {\r\n\t\tif(!is(model, this)) return new model(obj)\r\n\t\tif(is(model, obj)) return obj\r\n\t\tmerge(this, obj, true)\r\n\t\tif(model.hasOwnProperty(\"constructor\")){\r\n\t\t\tmodel.constructor.call(this, obj)\r\n\t\t}\r\n\t\tmodel.validate(this)\r\n\t\treturn getProxy(model, this, model.definition)\r\n\t}\r\n\r\n\textend(model, Object)\r\n\tsetConstructor(model, ObjectModel)\r\n\tmodel._init(arguments)\r\n\treturn model\r\n}\r\n\r\nextend(ObjectModel, Model, {\r\n\tdefaults(p){\r\n\t\tObject.assign(this.prototype, p)\r\n\t\treturn this\r\n\t},\r\n\r\n\ttoString(stack){\r\n\t\treturn toString(this.definition, stack)\r\n\t},\r\n\r\n\textend(){\r\n\t\tconst def = {}\r\n\t\tconst proto = {}\r\n\t\tconst args = [...arguments]\r\n\r\n\t\tObject.assign(def, this.definition)\r\n\t\tmerge(proto, this.prototype, false, true)\r\n\t\targs.forEach(arg => {\r\n\t\t\tif(is(Model, arg)) merge(def, arg.definition, true)\r\n\t\t\tif(isFunction(arg)) merge(proto, arg.prototype, true, true)\r\n\t\t\tif(isObject(arg)) merge(def, arg, true, true)\r\n\t\t})\r\n\t\tdelete proto.constructor;\r\n\r\n\t\tlet assertions = [...this.assertions]\r\n\t\targs.forEach(arg => {\r\n\t\t\tif(is(Model, arg)) assertions = assertions.concat(arg.assertions)\r\n\t\t})\r\n\r\n\t\tconst submodel = new this.constructor(def)\r\n\t\textend(submodel, this, proto)\r\n\t\tsubmodel.assertions = assertions\r\n\t\tsubmodel.errorCollector = this.errorCollector\r\n\t\treturn submodel\r\n\t},\r\n\r\n\t_validate(obj, path, errors, stack){\r\n\t\tif(!isObject(obj)){\r\n\t\t\terrors.push({\r\n\t\t\t\texpected: this,\r\n\t\t\t\treceived: obj,\r\n\t\t\t\tpath\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tcheckDefinition(obj, this.definition, path, errors, stack)\r\n\t\t}\r\n\t\tcheckAssertions(obj, this, path, errors)\r\n\t}\r\n})\r\n\r\nfunction getProxy(model, obj, def, path) {\r\n\tif(!isPlainObject(def)) {\r\n\t\treturn cast(obj, def)\r\n\t}\r\n\r\n\treturn new Proxy(obj || {}, {\r\n\t\tgetPrototypeOf(){\r\n\t\t\treturn path ? Object.prototype : model.prototype\r\n\t\t},\r\n\r\n\t\tget(o, key) {\r\n\t\t\tif(!isString(key)) return Reflect.get(o, key)\r\n\r\n\t\t\tconst newPath = (path ? path + '.' + key : key),\r\n\t\t\t      defPart = def[key];\r\n\r\n\t\t\tif(key in def && model.conventionForPrivate(key)){\r\n\t\t\t\tmodel.errors.push({\r\n\t\t\t\t\tmessage: `cannot access to private property ${newPath}`\r\n\t\t\t\t})\r\n\t\t\t\tmodel.unstackErrors()\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tif(o[key] && o.hasOwnProperty(key) && !isPlainObject(defPart) && !is(Model, o[key].constructor)){\r\n\t\t\t\to[key] = cast(o[key], defPart) // cast nested models\r\n\t\t\t}\r\n\r\n\t\t\tif (isFunction(o[key]) && o[key].bind) {\r\n\t\t\t\treturn o[key].bind(o); // auto-bind methods to original object, so they can access private props\r\n\t\t\t}\r\n\r\n\t\t\treturn getProxy(model, o[key], defPart, newPath)\r\n\t\t},\r\n\r\n\t\tset(o, key, val) {\r\n\t\t\treturn controlMutation(model, def, path, o, key, (newPath) => {\r\n\t\t\t\tReflect.set(o, key, getProxy(model, val, def[key], newPath))\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\tdeleteProperty(o, key) {\r\n\t\t\treturn controlMutation(model, def, path, o, key, () => Reflect.deleteProperty(o, key))\r\n\t\t},\r\n\r\n\t\tdefineProperty(o, key, args){\r\n\t\t\treturn controlMutation(model, def, path, o, key, () => Reflect.defineProperty(o, key, args))\r\n\t\t},\r\n\r\n\t\thas(o, key){\r\n\t\t\treturn Reflect.has(o, key) && Reflect.has(def, key) && !model.conventionForPrivate(key)\r\n\t\t},\r\n\r\n\t\townKeys(){\r\n\t\t\treturn Reflect.ownKeys(def).filter(key => !model.conventionForPrivate(key))\r\n\t\t},\r\n\r\n\t\tgetOwnPropertyDescriptor(o, key){\r\n\t\t\tlet descriptor;\r\n\t\t\tif(!model.conventionForPrivate(key)){\r\n\t\t\t\tdescriptor = Object.getOwnPropertyDescriptor(def, key);\r\n\t\t\t\tif(descriptor !== undefined) descriptor.value = o[key];\r\n\t\t\t}\r\n\r\n\t\t\treturn descriptor\r\n\t\t}\r\n\t})\r\n}\r\n\r\nfunction controlMutation(model, def, path, o, key, applyMutation){\r\n\tconst newPath = (path ? path + '.' + key : key),\r\n\t      isPrivate = model.conventionForPrivate(key),\r\n\t      isConstant = model.conventionForConstant(key),\r\n\t      isOwnProperty = o.hasOwnProperty(key),\r\n\t      initialPropDescriptor = isOwnProperty && Object.getOwnPropertyDescriptor(o, key)\r\n\r\n\tif(key in def && (isPrivate || (isConstant && o[key] !== undefined))){\r\n\t\tmodel.errors.push({\r\n\t\t\tmessage: `cannot modify ${isPrivate ? \"private\" : \"constant\"} ${key}`\r\n\t\t})\r\n\t}\r\n\r\n\tif(def.hasOwnProperty(key)){\r\n\t\tapplyMutation(newPath)\r\n\t\tcheckDefinition(o[key], def[key], newPath, model.errors, [])\r\n\t\tcheckAssertions(o, model, newPath)\r\n\t} else {\r\n\t\tmodel.errors.push({\r\n\t\t\tmessage: `cannot find property ${newPath} in the model definition`\r\n\t\t})\r\n\t}\r\n\r\n\tif(model.errors.length){\r\n\t\tif(isOwnProperty) Object.defineProperty(o, key, initialPropDescriptor)\r\n\t\telse delete o[key] // back to the initial property defined in prototype chain\r\n\r\n\t\tmodel.unstackErrors()\r\n\t\treturn false\r\n\t}\r\n\r\n\treturn true\r\n}","import ObjectModel from \"./object-model\"\r\nimport Model from \"./model\"\r\nimport {is, isFunction, isPlainObject} from \"./helpers\"\r\n\r\nconst styles = {\r\n\tlist: `list-style-type: none; padding: 0; margin: 0;`,\r\n\tlistItem: `padding: 0 0 0 1em;`,\r\n\tmodel: `color: #43a047; font-style: italic`,\r\n\tfunction: `color: #4271ae`,\r\n\tstring: `color: #C41A16`,\r\n\tnumber: `color: #1C00CF`,\r\n\tboolean: `color: #AA0D91`,\r\n\tproperty: `color: #881391`,\r\n\tprivate: `color: #B871BD`,\r\n\tnull: `color: #808080`\r\n};\r\n\r\nfunction getModel(instance){\r\n\tif(instance === undefined || instance === null)\r\n\t\treturn null;\r\n\r\n\tconst proto = Object.getPrototypeOf(instance);\r\n\tif(!proto || !proto.constructor || !is(Model, proto.constructor))\r\n\t\treturn null;\r\n\r\n\treturn proto.constructor\r\n}\r\n\r\nfunction format(x, config){\r\n\tif(x === null || x === undefined)\r\n\t\treturn [\"span\", { style: styles.null }, String(x)];\r\n\r\n\tif(typeof x === \"boolean\")\r\n\t\treturn [\"span\", { style: styles.boolean }, x];\r\n\r\n\tif(typeof x === \"number\")\r\n\t\treturn [\"span\", { style: styles.number }, x];\r\n\r\n\tif(typeof x === \"string\")\r\n\t\treturn [\"span\", { style: styles.string }, `\"${x}\"`];\r\n\r\n\tif(is(Array, x)){\r\n\t\tlet def = [];\r\n\t\tif(x.length === 1) x.push(undefined, null);\r\n\t\tfor(let i=0; i < x.length; i++){\r\n\t\t\tdef.push(format(x[i]) )\r\n\t\t\tif(i < x.length - 1) def.push(' or ')\r\n\t\t}\r\n\t\treturn [\"span\", {}, ...def]\r\n\t}\r\n\r\n\tif(isPlainObject(x))\r\n\t\treturn formatObject(x, getModel(x), config)\r\n\r\n\tif(isFunction(x) && !is(Model, x))\r\n\t\treturn [\"span\", { style: styles.function }, x.name || x.toString()];\r\n\r\n\treturn x ? ['object', { object: x, config }] : null\r\n}\r\n\r\nfunction formatObject(o, model, config){\r\n\treturn [\r\n\t\t'ol', { style: styles.list },\r\n\t\t'{',\r\n\t\t...Object.keys(o).map(prop => {\r\n\t\t\tlet isPrivate = model && model.conventionForPrivate(prop);\r\n\t\t\treturn ['li', { style: styles.listItem },\r\n\t\t\t\t['span', { style: isPrivate ? styles.private : styles.property }, prop], ': ',\r\n\t\t\t\tformat(o[prop], config)\r\n\t\t\t]\r\n\t\t}),\r\n\t\t'}'\r\n\t];\r\n}\r\n\r\nfunction formatHeader(x, config){\r\n\tif(is(Model, x))\r\n\t\treturn [\"span\", { style: styles.model }, x.name];\r\n\r\n\tif(config.fromModel || isPlainObject(x) || Array.isArray(x))\r\n\t\treturn format(x)\r\n\r\n\treturn null;\r\n}\r\n\r\nconst ModelFormatter = {\r\n\theader: function(x, config={}) {\r\n\t\tif (config.fromModel || is(Model, x))\r\n\t\t\treturn formatHeader(x, config);\r\n\r\n\t\treturn null;\r\n\t},\r\n\thasBody: function(x) {\r\n\t\treturn is(Model, x)\r\n\t},\r\n\tbody: function(x) {\r\n\t\treturn format(x.definition, { fromModel: true })\r\n\t}\r\n}\r\n\r\nconst ModelInstanceFormatter = {\r\n\theader: function(x, config={}) {\r\n\t\tif(config.fromInstance && isPlainObject(x)){\r\n\t\t\treturn formatHeader(x, config)\r\n\t\t}\r\n\r\n\t\tconst model = getModel(x);\r\n\t\tif(is(Model, model)){\r\n\t\t\treturn [\"span\", { style: styles.model }, x.constructor.name];\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t},\r\n\thasBody: function(x) {\r\n\t\treturn x && is(ObjectModel, getModel(x))\r\n\t},\r\n\tbody: function(x) {\r\n\t\treturn formatObject(x, getModel(x), { fromInstance: true })\r\n\t}\r\n}\r\n\r\nif (typeof window !== \"undefined\") {\r\n\twindow.devtoolsFormatters = (window.devtoolsFormatters || [])\r\n\t\t.concat(ModelFormatter, ModelInstanceFormatter);\r\n}","import { Model } from \"./model\"\r\nimport { checkDefinition, checkAssertions, cast } from \"./definition\"\r\nimport { extend, is, setConstructor, toString } from \"./helpers\"\r\n\r\nconst MUTATOR_METHODS = [\"pop\", \"push\", \"reverse\", \"shift\", \"sort\", \"splice\", \"unshift\"]\r\n\r\nfunction ArrayModel(def){\r\n\r\n\tconst model = function(array = model.default) {\r\n\t\tif(!is(model, this)) return new model(array)\r\n\t\tmodel.validate(array)\r\n\t\treturn new Proxy(array, {\r\n\t\t\tgetPrototypeOf: () => model.prototype,\r\n\r\n\t\t\tget(arr, key) {\r\n\t\t\t\tif (MUTATOR_METHODS.includes(key)) return proxifyMethod(arr, key, model)\r\n\t\t\t\treturn arr[key]\r\n\t\t\t},\r\n\r\n\t\t\tset(arr, key, val) {\r\n\t\t\t\treturn setArrayKey(arr, key, val, model)\r\n\t\t\t},\r\n\r\n\t\t\tdeleteProperty(arr, key){\r\n\t\t\t\treturn !(key in arr) || setArrayKey(arr, key, undefined, model)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\textend(model, Array)\r\n\tsetConstructor(model, ArrayModel)\r\n\tmodel._init(arguments)\r\n\treturn model\r\n}\r\n\r\nextend(ArrayModel, Model, {\r\n\ttoString(stack){\r\n\t\treturn 'Array of ' + toString(this.definition, stack)\r\n\t},\r\n\r\n\t_validate(arr, path, errors, stack){\r\n\t\tif(is(Array, arr))\r\n\t\t\tarr.forEach((a,i) => {\r\n\t\t\t\tarr[i] = checkDefinition(a, this.definition, `${path || \"Array\"}[${i}]`, errors, stack, true)\r\n\t\t\t})\r\n\t\telse errors.push({\r\n\t\t\texpected: this,\r\n\t\t\treceived: arr,\r\n\t\t\tpath\r\n\t\t})\r\n\r\n\t\tcheckAssertions(arr, this, path, errors)\r\n\t}\r\n})\r\n\r\nfunction proxifyMethod(array, method, model){\r\n\treturn function() {\r\n\t\tconst testArray = array.slice();\r\n\t\t[][method].apply(testArray, arguments)\r\n\t\tmodel.validate(testArray)\r\n\t\tconst returnValue = [][method].apply(array, arguments)\r\n\t\tarray.forEach((a,i)=> array[i] = cast(a, model.definition))\r\n\t\treturn returnValue\r\n\t}\r\n}\r\n\r\nfunction setArrayKey(array, key, value, model){\r\n\tlet path = `Array[${key}]`;\r\n\tif(parseInt(key) === +key && key >= 0)\r\n\t\tvalue = checkDefinition(value, model.definition, path, model.errors, [], true)\r\n\r\n\tconst testArray = array.slice()\r\n\ttestArray[key] = value\r\n\tcheckAssertions(testArray, model, path)\r\n\tconst isSuccess = !model.unstackErrors()\r\n\tif(isSuccess){\r\n\t\tarray[key] = value\r\n\t}\r\n\treturn isSuccess\r\n}\r\n\r\nexport default ArrayModel","import { Model } from \"./model\"\r\nimport { checkDefinition, checkAssertions } from \"./definition\"\r\nimport { extend, isFunction, setConstructor, toString } from \"./helpers\"\r\n\r\n\r\nfunction FunctionModel() {\r\n\r\n\tconst model = function(fn = model.default) {\r\n\t\treturn new Proxy(fn, {\r\n\t\t\tgetPrototypeOf: () => model.prototype,\r\n\r\n\t\t\tapply (fn, ctx, args) {\r\n\t\t\t\tconst def = model.definition\r\n\r\n\t\t\t\tdef.arguments.forEach((argDef, i) => {\r\n\t\t\t\t\targs[i] = checkDefinition(args[i], argDef, `arguments[${i}]`, model.errors, [], true)\r\n\t\t\t\t})\r\n\r\n\t\t\t\tcheckAssertions(args, model, \"arguments\")\r\n\r\n\t\t\t\tlet result\r\n\t\t\t\tif(!model.errors.length){\r\n\t\t\t\t\tresult = Reflect.apply(fn, ctx, args)\r\n\t\t\t\t\tif (\"return\" in def)\r\n\t\t\t\t\t\tresult = checkDefinition(result, def.return, \"return value\", model.errors, [], true)\r\n\t\t\t\t}\r\n\t\t\t\tmodel.unstackErrors()\r\n\t\t\t\treturn result\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\textend(model, Function)\r\n\tsetConstructor(model, FunctionModel)\r\n\tmodel._init([ { arguments: [...arguments] } ])\r\n\r\n\treturn model\r\n}\r\n\r\nextend(FunctionModel, Model, {\r\n\ttoString(stack){\r\n\t\tlet out = 'Function(' + this.definition.arguments.map(argDef => toString(argDef, stack)).join(\",\") +')'\r\n\t\tif(\"return\" in this.definition) {\r\n\t\t\tout += \" => \" + toString(this.definition.return)\r\n\t\t}\r\n\t\treturn out\r\n\t},\r\n\r\n\treturn(def){\r\n\t\tthis.definition.return = def\r\n\t\treturn this\r\n\t},\r\n\r\n\t_validate(f, path, errors){\r\n\t\tif (!isFunction(f)) {\r\n\t\t\terrors.push({\r\n\t\t\t\texpected: \"Function\",\r\n\t\t\t\treceived: f,\r\n\t\t\t\tpath\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n})\r\n\r\nFunctionModel.prototype.assert(function(args){\r\n\tif (args.length > this.definition.arguments.length) return args\r\n\treturn true\r\n}, function(args){\r\n\treturn `expecting ${this.definition.arguments.length} arguments for ${toString(this)}, got ${args.length}`\r\n})\r\n\r\nexport default FunctionModel","import { Model } from \"./model\"\r\nimport { checkDefinition, checkAssertions } from \"./definition\"\r\nimport { extend, setConstructor, toString } from \"./helpers\"\r\n\r\nconst MAP_MUTATOR_METHODS = [\"set\", \"delete\", \"clear\"]\r\n\r\nfunction MapModel(def){\r\n\r\n\tconst model = function(iterable) {\r\n\t\tconst map = new Map(iterable)\r\n\t\tmodel.validate(map)\r\n\r\n\t\tfor(let method of MAP_MUTATOR_METHODS){\r\n\t\t\tmap[method] = function() {\r\n\t\t\t\tconst testMap = new Map(map)\r\n\t\t\t\tMap.prototype[method].apply(testMap, arguments)\r\n\t\t\t\tmodel.validate(testMap)\r\n\t\t\t\treturn Map.prototype[method].apply(map, arguments)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsetConstructor(map, model)\r\n\t\treturn map\r\n\t}\r\n\r\n\textend(model, Map)\r\n\tsetConstructor(model, MapModel)\r\n\tmodel._init(arguments)\r\n\treturn model\r\n}\r\n\r\nextend(MapModel, Model, {\r\n\r\n\ttoString(stack){\r\n\t\treturn \"Map of \" + toString(this.definition, stack)\r\n\t},\r\n\r\n\t_validate(map, path, errors, stack){\r\n\t\tif(map instanceof Map){\r\n\t\t\tfor(let [key,val] of map){\r\n\t\t\t\tcheckDefinition(val, this.definition, `${path || \"Map\"}[${key}]`, errors, stack)\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\terrors.push({\r\n\t\t\t\texpected: this,\r\n\t\t\t\treceived: map,\r\n\t\t\t\tpath\r\n\t\t\t})\r\n\t\t}\r\n\t\tcheckAssertions(map, this, errors)\r\n\t}\r\n})\r\n\r\nexport default MapModel","import { Model } from \"./model\"\r\nimport { checkDefinition, checkAssertions } from \"./definition\"\r\nimport { extend, setConstructor, toString } from \"./helpers\"\r\n\r\nconst SET_MUTATOR_METHODS = [\"add\", \"delete\", \"clear\"]\r\n\r\nfunction SetModel(def){\r\n\r\n\tconst model = function(iterable) {\r\n\t\tconst _set = new Set(iterable)\r\n\t\tmodel.validate(_set)\r\n\r\n\t\tfor(let method of SET_MUTATOR_METHODS){\r\n\t\t\t_set[method] = function() {\r\n\t\t\t\tconst testSet = new Set(_set)\r\n\t\t\t\tSet.prototype[method].apply(testSet, arguments)\r\n\t\t\t\tmodel.validate(testSet)\r\n\t\t\t\treturn Set.prototype[method].apply(_set, arguments)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsetConstructor(_set, model)\r\n\t\treturn _set\r\n\t}\r\n\r\n\textend(model, Set)\r\n\tsetConstructor(model, SetModel);\r\n\tmodel._init(arguments)\r\n\treturn model\r\n}\r\n\r\nextend(SetModel, Model, {\r\n\ttoString(stack){\r\n\t\treturn \"Set of \" + toString(this.definition, stack)\r\n\t},\r\n\r\n\t_validate(_set, path, errors, stack){\r\n\t\tif(_set instanceof Set){\r\n\t\t\tfor(let item of _set.values()){\r\n\t\t\t\tcheckDefinition(item, this.definition, (path || \"Set\"), errors, stack)\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\terrors.push({\r\n\t\t\t\texpected: this,\r\n\t\t\t\treceived: _set,\r\n\t\t\t\tpath\r\n\t\t\t})\r\n\t\t}\r\n\t\tcheckAssertions(_set, this, errors)\r\n\t}\r\n})\r\n\r\nexport default SetModel"],"names":[],"mappings":"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"}